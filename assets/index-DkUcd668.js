(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Wx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function SI(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),n}var gg={exports:{}},Qu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw;function AI(){if(lw)return Qu;lw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:l}}return Qu.Fragment=e,Qu.jsx=n,Qu.jsxs=n,Qu}var uw;function RI(){return uw||(uw=1,gg.exports=AI()),gg.exports}var w=RI(),yg={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw;function CI(){if(cw)return Ye;cw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,L={};function D(H,ie,ge){this.props=H,this.context=ie,this.refs=L,this.updater=ge||x}D.prototype.isReactComponent={},D.prototype.setState=function(H,ie){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ie,"setState")},D.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function I(){}I.prototype=D.prototype;function M(H,ie,ge){this.props=H,this.context=ie,this.refs=L,this.updater=ge||x}var O=M.prototype=new I;O.constructor=M,R(O,D.prototype),O.isPureReactComponent=!0;var z=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function A(H,ie,ge,ue,Te,Ue){return ge=Ue.ref,{$$typeof:t,type:H,key:ie,ref:ge!==void 0?ge:null,props:Ue}}function b(H,ie){return A(H.type,ie,void 0,void 0,void 0,H.props)}function C(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function U(H){var ie={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ge){return ie[ge]})}var B=/\/+/g;function G(H,ie){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):ie.toString(36)}function V(){}function ae(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(V,V):(H.status="pending",H.then(function(ie){H.status==="pending"&&(H.status="fulfilled",H.value=ie)},function(ie){H.status==="pending"&&(H.status="rejected",H.reason=ie)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function oe(H,ie,ge,ue,Te){var Ue=typeof H;(Ue==="undefined"||Ue==="boolean")&&(H=null);var ve=!1;if(H===null)ve=!0;else switch(Ue){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(H.$$typeof){case t:case e:ve=!0;break;case g:return ve=H._init,oe(ve(H._payload),ie,ge,ue,Te)}}if(ve)return Te=Te(H),ve=ue===""?"."+G(H,0):ue,z(Te)?(ge="",ve!=null&&(ge=ve.replace(B,"$&/")+"/"),oe(Te,ie,ge,"",function(Et){return Et})):Te!=null&&(C(Te)&&(Te=b(Te,ge+(Te.key==null||H&&H.key===Te.key?"":(""+Te.key).replace(B,"$&/")+"/")+ve)),ie.push(Te)),1;ve=0;var Ie=ue===""?".":ue+":";if(z(H))for(var Ne=0;Ne<H.length;Ne++)ue=H[Ne],Ue=Ie+G(ue,Ne),ve+=oe(ue,ie,ge,Ue,Te);else if(Ne=_(H),typeof Ne=="function")for(H=Ne.call(H),Ne=0;!(ue=H.next()).done;)ue=ue.value,Ue=Ie+G(ue,Ne++),ve+=oe(ue,ie,ge,Ue,Te);else if(Ue==="object"){if(typeof H.then=="function")return oe(ae(H),ie,ge,ue,Te);throw ie=String(H),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return ve}function K(H,ie,ge){if(H==null)return H;var ue=[],Te=0;return oe(H,ue,"","",function(Ue){return ie.call(ge,Ue,Te++)}),ue}function te(H){if(H._status===-1){var ie=H._result;ie=ie(),ie.then(function(ge){(H._status===0||H._status===-1)&&(H._status=1,H._result=ge)},function(ge){(H._status===0||H._status===-1)&&(H._status=2,H._result=ge)}),H._status===-1&&(H._status=0,H._result=ie)}if(H._status===1)return H._result.default;throw H._result}var pe=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function we(){}return Ye.Children={map:K,forEach:function(H,ie,ge){K(H,function(){ie.apply(this,arguments)},ge)},count:function(H){var ie=0;return K(H,function(){ie++}),ie},toArray:function(H){return K(H,function(ie){return ie})||[]},only:function(H){if(!C(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Ye.Component=D,Ye.Fragment=n,Ye.Profiler=a,Ye.PureComponent=M,Ye.StrictMode=r,Ye.Suspense=f,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(H){return F.H.useMemoCache(H)}},Ye.cache=function(H){return function(){return H.apply(null,arguments)}},Ye.cloneElement=function(H,ie,ge){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var ue=R({},H.props),Te=H.key,Ue=void 0;if(ie!=null)for(ve in ie.ref!==void 0&&(Ue=void 0),ie.key!==void 0&&(Te=""+ie.key),ie)!j.call(ie,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&ie.ref===void 0||(ue[ve]=ie[ve]);var ve=arguments.length-2;if(ve===1)ue.children=ge;else if(1<ve){for(var Ie=Array(ve),Ne=0;Ne<ve;Ne++)Ie[Ne]=arguments[Ne+2];ue.children=Ie}return A(H.type,Te,void 0,void 0,Ue,ue)},Ye.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:l,_context:H},H},Ye.createElement=function(H,ie,ge){var ue,Te={},Ue=null;if(ie!=null)for(ue in ie.key!==void 0&&(Ue=""+ie.key),ie)j.call(ie,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Te[ue]=ie[ue]);var ve=arguments.length-2;if(ve===1)Te.children=ge;else if(1<ve){for(var Ie=Array(ve),Ne=0;Ne<ve;Ne++)Ie[Ne]=arguments[Ne+2];Te.children=Ie}if(H&&H.defaultProps)for(ue in ve=H.defaultProps,ve)Te[ue]===void 0&&(Te[ue]=ve[ue]);return A(H,Ue,void 0,void 0,null,Te)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(H){return{$$typeof:h,render:H}},Ye.isValidElement=C,Ye.lazy=function(H){return{$$typeof:g,_payload:{_status:-1,_result:H},_init:te}},Ye.memo=function(H,ie){return{$$typeof:p,type:H,compare:ie===void 0?null:ie}},Ye.startTransition=function(H){var ie=F.T,ge={};F.T=ge;try{var ue=H(),Te=F.S;Te!==null&&Te(ge,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(we,pe)}catch(Ue){pe(Ue)}finally{F.T=ie}},Ye.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ye.use=function(H){return F.H.use(H)},Ye.useActionState=function(H,ie,ge){return F.H.useActionState(H,ie,ge)},Ye.useCallback=function(H,ie){return F.H.useCallback(H,ie)},Ye.useContext=function(H){return F.H.useContext(H)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(H,ie){return F.H.useDeferredValue(H,ie)},Ye.useEffect=function(H,ie,ge){var ue=F.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(H,ie)},Ye.useId=function(){return F.H.useId()},Ye.useImperativeHandle=function(H,ie,ge){return F.H.useImperativeHandle(H,ie,ge)},Ye.useInsertionEffect=function(H,ie){return F.H.useInsertionEffect(H,ie)},Ye.useLayoutEffect=function(H,ie){return F.H.useLayoutEffect(H,ie)},Ye.useMemo=function(H,ie){return F.H.useMemo(H,ie)},Ye.useOptimistic=function(H,ie){return F.H.useOptimistic(H,ie)},Ye.useReducer=function(H,ie,ge){return F.H.useReducer(H,ie,ge)},Ye.useRef=function(H){return F.H.useRef(H)},Ye.useState=function(H){return F.H.useState(H)},Ye.useSyncExternalStore=function(H,ie,ge){return F.H.useSyncExternalStore(H,ie,ge)},Ye.useTransition=function(){return F.H.useTransition()},Ye.version="19.1.0",Ye}var hw;function qc(){return hw||(hw=1,yg.exports=CI()),yg.exports}var N=qc();const mt=Wx(N);var vg={exports:{}},Wu={},_g={exports:{}},Tg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw;function II(){return fw||(fw=1,function(t){function e(K,te){var pe=K.length;K.push(te);e:for(;0<pe;){var we=pe-1>>>1,H=K[we];if(0<a(H,te))K[we]=te,K[pe]=H,pe=we;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var te=K[0],pe=K.pop();if(pe!==te){K[0]=pe;e:for(var we=0,H=K.length,ie=H>>>1;we<ie;){var ge=2*(we+1)-1,ue=K[ge],Te=ge+1,Ue=K[Te];if(0>a(ue,pe))Te<H&&0>a(Ue,ue)?(K[we]=Ue,K[Te]=pe,we=Te):(K[we]=ue,K[ge]=pe,we=ge);else if(Te<H&&0>a(Ue,pe))K[we]=Ue,K[Te]=pe,we=Te;else break e}}return te}function a(K,te){var pe=K.sortIndex-te.sortIndex;return pe!==0?pe:K.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],p=[],g=1,v=null,_=3,x=!1,R=!1,L=!1,D=!1,I=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function z(K){for(var te=n(p);te!==null;){if(te.callback===null)r(p);else if(te.startTime<=K)r(p),te.sortIndex=te.expirationTime,e(f,te);else break;te=n(p)}}function F(K){if(L=!1,z(K),!R)if(n(f)!==null)R=!0,j||(j=!0,G());else{var te=n(p);te!==null&&oe(F,te.startTime-K)}}var j=!1,A=-1,b=5,C=-1;function U(){return D?!0:!(t.unstable_now()-C<b)}function B(){if(D=!1,j){var K=t.unstable_now();C=K;var te=!0;try{e:{R=!1,L&&(L=!1,M(A),A=-1),x=!0;var pe=_;try{t:{for(z(K),v=n(f);v!==null&&!(v.expirationTime>K&&U());){var we=v.callback;if(typeof we=="function"){v.callback=null,_=v.priorityLevel;var H=we(v.expirationTime<=K);if(K=t.unstable_now(),typeof H=="function"){v.callback=H,z(K),te=!0;break t}v===n(f)&&r(f),z(K)}else r(f);v=n(f)}if(v!==null)te=!0;else{var ie=n(p);ie!==null&&oe(F,ie.startTime-K),te=!1}}break e}finally{v=null,_=pe,x=!1}te=void 0}}finally{te?G():j=!1}}}var G;if(typeof O=="function")G=function(){O(B)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ae=V.port2;V.port1.onmessage=B,G=function(){ae.postMessage(null)}}else G=function(){I(B,0)};function oe(K,te){A=I(function(){K(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(K){switch(_){case 1:case 2:case 3:var te=3;break;default:te=_}var pe=_;_=te;try{return K()}finally{_=pe}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(K,te){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var pe=_;_=K;try{return te()}finally{_=pe}},t.unstable_scheduleCallback=function(K,te,pe){var we=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?we+pe:we):pe=we,K){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=pe+H,K={id:g++,callback:te,priorityLevel:K,startTime:pe,expirationTime:H,sortIndex:-1},pe>we?(K.sortIndex=pe,e(p,K),n(f)===null&&K===n(p)&&(L?(M(A),A=-1):L=!0,oe(F,pe-we))):(K.sortIndex=H,e(f,K),R||x||(R=!0,j||(j=!0,G()))),K},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(K){var te=_;return function(){var pe=_;_=te;try{return K.apply(this,arguments)}finally{_=pe}}}}(Tg)),Tg}var dw;function DI(){return dw||(dw=1,_g.exports=II()),_g.exports}var wg={exports:{}},Mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw;function PI(){if(mw)return Mn;mw=1;var t=qc();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,p,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:p,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mn.createPortal=function(f,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,g)},Mn.flushSync=function(f){var p=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=p,r.p=g,r.d.f()}},Mn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},Mn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Mn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var g=p.as,v=h(g,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:x}):g==="script"&&r.d.X(f,{crossOrigin:v,integrity:_,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Mn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},Mn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,v=h(g,p.crossOrigin);r.d.L(f,g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Mn.preloadModule=function(f,p){if(typeof f=="string")if(p){var g=h(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},Mn.requestFormReset=function(f){r.d.r(f)},Mn.unstable_batchedUpdates=function(f,p){return f(p)},Mn.useFormState=function(f,p,g){return u.H.useFormState(f,p,g)},Mn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Mn.version="19.1.0",Mn}var pw;function jd(){if(pw)return wg.exports;pw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wg.exports=PI(),wg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw;function NI(){if(gw)return Wu;gw=1;var t=DI(),e=qc(),n=jd();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(l(i)!==i)throw Error(r(188))}function f(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,c=s;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return h(m),i;if(y===c)return h(m),s;y=y.sibling}throw Error(r(188))}if(o.return!==c.return)o=m,c=y;else{for(var S=!1,P=m.child;P;){if(P===o){S=!0,o=m,c=y;break}if(P===c){S=!0,c=m,o=y;break}P=P.sibling}if(!S){for(P=y.child;P;){if(P===o){S=!0,o=y,c=m;break}if(P===c){S=!0,c=y,o=m;break}P=P.sibling}if(!S)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),O=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function ae(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case D:return"Profiler";case L:return"StrictMode";case F:return"Suspense";case j:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case O:return(i.displayName||"Context")+".Provider";case M:return(i._context.displayName||"Context")+".Consumer";case z:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case A:return s=i.displayName||null,s!==null?s:ae(i.type)||"Memo";case b:s=i._payload,i=i._init;try{return ae(i(s))}catch{}}return null}var oe=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},we=[],H=-1;function ie(i){return{current:i}}function ge(i){0>H||(i.current=we[H],we[H]=null,H--)}function ue(i,s){H++,we[H]=i.current,i.current=s}var Te=ie(null),Ue=ie(null),ve=ie(null),Ie=ie(null);function Ne(i,s){switch(ue(ve,s),ue(Ue,i),ue(Te,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?LT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=LT(s),i=kT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ge(Te),ue(Te,i)}function Et(){ge(Te),ge(Ue),ge(ve)}function Pt(i){i.memoizedState!==null&&ue(Ie,i);var s=Te.current,o=kT(s,i.type);s!==o&&(ue(Ue,i),ue(Te,o))}function dn(i){Ue.current===i&&(ge(Te),ge(Ue)),Ie.current===i&&(ge(Ie),Gu._currentValue=pe)}var ri=Object.prototype.hasOwnProperty,ki=t.unstable_scheduleCallback,Un=t.unstable_cancelCallback,Ia=t.unstable_shouldYield,Ao=t.unstable_requestPaint,Bn=t.unstable_now,Zl=t.unstable_getCurrentPriorityLevel,Da=t.unstable_ImmediatePriority,bs=t.unstable_UserBlockingPriority,ji=t.unstable_NormalPriority,qr=t.unstable_LowPriority,gr=t.unstable_IdlePriority,xs=t.log,Ss=t.unstable_setDisableYieldValue,pt=null,Qe=null;function Dn(i){if(typeof xs=="function"&&Ss(i),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(pt,i)}catch{}}var Yt=Math.clz32?Math.clz32:ii,Ro=Math.log,yr=Math.LN2;function ii(i){return i>>>=0,i===0?32:31-(Ro(i)/yr|0)|0}var si=256,ai=4194304;function nr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ui(i,s,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,y=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var P=c&134217727;return P!==0?(c=P&~y,c!==0?m=nr(c):(S&=P,S!==0?m=nr(S):o||(o=P&~i,o!==0&&(m=nr(o))))):(P=c&~y,P!==0?m=nr(P):S!==0?m=nr(S):o||(o=c&~i,o!==0&&(m=nr(o)))),m===0?0:s!==0&&s!==m&&(s&y)===0&&(y=m&-m,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:m}function vr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function As(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bi(){var i=si;return si<<=1,(si&4194048)===0&&(si=256),i}function Pa(){var i=ai;return ai<<=1,(ai&62914560)===0&&(ai=4194304),i}function _r(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Gr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Rs(i,s,o,c,m,y){var S=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var P=i.entanglements,q=i.expirationTimes,ee=i.hiddenUpdates;for(o=S&~o;0<o;){var le=31-Yt(o),fe=1<<le;P[le]=0,q[le]=-1;var ne=ee[le];if(ne!==null)for(ee[le]=null,le=0;le<ne.length;le++){var re=ne[le];re!==null&&(re.lane&=-536870913)}o&=~fe}c!==0&&zn(i,c,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(S&~s))}function zn(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-Yt(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194090}function oi(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var c=31-Yt(o),m=1<<c;m&s|i[c]&s&&(i[c]|=s),o&=~m}}function li(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Cs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function $(){var i=te.p;return i!==0?i:(i=window.event,i===void 0?32:nw(i.type))}function Q(i,s){var o=te.p;try{return te.p=i,s()}finally{te.p=o}}var J=Math.random().toString(36).slice(2),he="__reactFiber$"+J,ye="__reactProps$"+J,Ee="__reactContainer$"+J,Oe="__reactEvents$"+J,xe="__reactListeners$"+J,Re="__reactHandles$"+J,De="__reactResources$"+J,Ve="__reactMarker$"+J;function Ce(i){delete i[he],delete i[ye],delete i[Oe],delete i[xe],delete i[Re]}function ke(i){var s=i[he];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Ee]||o[he]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=zT(i);i!==null;){if(o=i[he])return o;i=zT(i)}return s}i=o,o=i.parentNode}return null}function tt(i){if(i=i[he]||i[Ee]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function yt(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function ft(i){var s=i[De];return s||(s=i[De]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function at(i){i[Ve]=!0}var Je=new Set,Tr={};function sn(i,s){Fn(i,s),Fn(i+"Capture",s)}function Fn(i,s){for(Tr[i]=s,i=0;i<s.length;i++)Je.add(s[i])}var Tn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ui={},rr={};function Is(i){return ri.call(rr,i)?!0:ri.call(ui,i)?!1:Tn.test(i)?rr[i]=!0:(ui[i]=!0,!1)}function Pn(i,s,o){if(Is(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Hn(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function qe(i,s,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+c)}}var Xt,ir;function Xn(i){if(Xt===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Xt=s&&s[1]||"",ir=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xt+i+ir}var ci=!1;function Rt(i,s){if(!i||ci)return"";ci=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(re){var ne=re}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(re){ne=re}i.call(fe.prototype)}}else{try{throw Error()}catch(re){ne=re}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),S=y[0],P=y[1];if(S&&P){var q=S.split(`
`),ee=P.split(`
`);for(m=c=0;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;for(;m<ee.length&&!ee[m].includes("DetermineComponentFrameRoot");)m++;if(c===q.length||m===ee.length)for(c=q.length-1,m=ee.length-1;1<=c&&0<=m&&q[c]!==ee[m];)m--;for(;1<=c&&0<=m;c--,m--)if(q[c]!==ee[m]){if(c!==1||m!==1)do if(c--,m--,0>m||q[c]!==ee[m]){var le=`
`+q[c].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=c&&0<=m);break}}}finally{ci=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Xn(o):""}function wr(i){switch(i.tag){case 26:case 27:case 5:return Xn(i.type);case 16:return Xn("Lazy");case 13:return Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return Rt(i.type,!1);case 11:return Rt(i.type.render,!1);case 1:return Rt(i.type,!0);case 31:return Xn("Activity");default:return""}}function zi(i){try{var s="";do s+=wr(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function wn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Jl(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tm(i){var s=Jl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),c=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,y=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(S){c=""+S,y.call(this,S)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Co(i){i._valueTracker||(i._valueTracker=Tm(i))}function eu(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return i&&(c=Jl(i)?i.checked?"true":"false":i.value),i=c,i!==o?(s.setValue(i),!0):!1}function Na(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var wm=/[\n"\\]/g;function Qt(i){return i.replace(wm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function sr(i,s,o,c,m,y,S,P){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),s!=null?S==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+wn(s)):i.value!==""+wn(s)&&(i.value=""+wn(s)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),s!=null?Ds(i,S,wn(s)):o!=null?Ds(i,S,wn(o)):c!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+wn(P):i.removeAttribute("name")}function Ma(i,s,o,c,m,y,S,P){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+wn(o):"",s=s!=null?""+wn(s):o,P||s===i.value||(i.value=s),i.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=P?i.checked:!!c,i.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function Ds(i,s,o){s==="number"&&Na(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Fi(i,s,o,c){if(i=i.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=s.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+wn(o),s=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function bt(i,s,o){if(s!=null&&(s=""+wn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+wn(o):""}function Oa(i,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(r(92));if(oe(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=wn(s),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function Er(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Va=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dh(i,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,o):typeof o!="number"||o===0||Va.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function tu(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&o[m]!==c&&dh(i,m,c)}else for(var y in s)s.hasOwnProperty(y)&&dh(i,y,s[y])}function nu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Em=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Io(i){return bm.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Hi=null;function br(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var qi=null,Gi=null;function ru(i){var s=tt(i);if(s&&(i=s.stateNode)){var o=i[ye]||null;e:switch(i=s.stateNode,s.type){case"input":if(sr(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Qt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==i&&c.form===i.form){var m=c[ye]||null;if(!m)throw Error(r(90));sr(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===i.form&&eu(c)}break e;case"textarea":bt(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Fi(i,!!o.multiple,s,!1)}}}var hi=!1;function mh(i,s,o){if(hi)return i(s,o);hi=!0;try{var c=i(s);return c}finally{if(hi=!1,(qi!==null||Gi!==null)&&(lf(),qi&&(s=qi,i=Gi,Gi=qi=null,ru(s),i)))for(s=0;s<i.length;s++)ru(i[s])}}function La(i,s){var o=i.stateNode;if(o===null)return null;var c=o[ye]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xr=!1;if($r)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){xr=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{xr=!1}var fi=null,Ps=null,$i=null;function iu(){if($i)return $i;var i,s=Ps,o=s.length,c,m="value"in fi?fi.value:fi.textContent,y=m.length;for(i=0;i<o&&s[i]===m[i];i++);var S=o-i;for(c=1;c<=S&&s[o-c]===m[y-c];c++);return $i=m.slice(i,1<c?1-c:void 0)}function di(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function mi(){return!0}function su(){return!1}function mn(i){function s(o,c,m,y,S){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(o=i[P],this[P]=o?o(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?mi:su,this.isPropagationStopped=su,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),s}var vt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Do=mn(vt),ja=g({},vt,{view:0,detail:0}),ph=mn(ja),Po,No,pi,Ua=g({},ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==pi&&(pi&&i.type==="mousemove"?(Po=i.screenX-pi.screenX,No=i.screenY-pi.screenY):No=Po=0,pi=i),Po)},movementY:function(i){return"movementY"in i?i.movementY:No}}),Sr=mn(Ua),gh=g({},Ua,{dataTransfer:0}),xm=mn(gh),Ba=g({},ja,{relatedTarget:0}),Mo=mn(Ba),au=g({},vt,{animationName:0,elapsedTime:0,pseudoElement:0}),Oo=mn(au),yh=g({},vt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Vo=mn(yh),Sm=g({},vt,{data:0}),ou=mn(Sm),za={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_h={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=_h[i])?!!s[i]:!1}function Fa(){return lu}var Th=g({},ja,{key:function(i){if(i.key){var s=za[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=di(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?vh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fa,charCode:function(i){return i.type==="keypress"?di(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?di(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Lo=mn(Th),wh=g({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uu=mn(wh),Ki=g({},ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fa}),Eh=mn(Ki),bh=g({},vt,{propertyName:0,elapsedTime:0,pseudoElement:0}),xh=mn(bh),Sh=g({},Ua,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ko=mn(Sh),qn=g({},vt,{newState:0,oldState:0}),Ah=mn(qn),Rh=[9,13,27,32],gi=$r&&"CompositionEvent"in window,d=null;$r&&"documentMode"in document&&(d=document.documentMode);var T=$r&&"TextEvent"in window&&!d,E=$r&&(!gi||d&&8<d&&11>=d),k=" ",W=!1;function se(i,s){switch(i){case"keyup":return Rh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ot=!1;function an(i,s){switch(i){case"compositionend":return _e(s);case"keypress":return s.which!==32?null:(W=!0,k);case"textInput":return i=s.data,i===k&&W?null:i;default:return null}}function lt(i,s){if(ot)return i==="compositionend"||!gi&&se(i,s)?(i=iu(),$i=Ps=fi=null,ot=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function on(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!pn[i.type]:s==="textarea"}function Yi(i,s,o,c){qi?Gi?Gi.push(c):Gi=[c]:qi=c,s=mf(s,"onChange"),0<s.length&&(o=new Do("onChange","change",null,o,c),i.push({event:o,listeners:s}))}var En=null,yi=null;function cu(i){PT(i,0)}function Ch(i){var s=yt(i);if(eu(s))return i}function Z0(i,s){if(i==="change")return s}var J0=!1;if($r){var Am;if($r){var Rm="oninput"in document;if(!Rm){var e_=document.createElement("div");e_.setAttribute("oninput","return;"),Rm=typeof e_.oninput=="function"}Am=Rm}else Am=!1;J0=Am&&(!document.documentMode||9<document.documentMode)}function t_(){En&&(En.detachEvent("onpropertychange",n_),yi=En=null)}function n_(i){if(i.propertyName==="value"&&Ch(yi)){var s=[];Yi(s,yi,i,br(i)),mh(cu,s)}}function t4(i,s,o){i==="focusin"?(t_(),En=s,yi=o,En.attachEvent("onpropertychange",n_)):i==="focusout"&&t_()}function n4(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ch(yi)}function r4(i,s){if(i==="click")return Ch(s)}function i4(i,s){if(i==="input"||i==="change")return Ch(s)}function s4(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var ar=typeof Object.is=="function"?Object.is:s4;function hu(i,s){if(ar(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!ri.call(s,m)||!ar(i[m],s[m]))return!1}return!0}function r_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function i_(i,s){var o=r_(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=s&&c>=s)return{node:o,offset:s-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=r_(o)}}function s_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?s_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function a_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Na(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Na(i.document)}return s}function Cm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var a4=$r&&"documentMode"in document&&11>=document.documentMode,jo=null,Im=null,fu=null,Dm=!1;function o_(i,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Dm||jo==null||jo!==Na(c)||(c=jo,"selectionStart"in c&&Cm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),fu&&hu(fu,c)||(fu=c,c=mf(Im,"onSelect"),0<c.length&&(s=new Do("onSelect","select",null,s,o),i.push({event:s,listeners:c}),s.target=jo)))}function Ha(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Uo={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionrun:Ha("Transition","TransitionRun"),transitionstart:Ha("Transition","TransitionStart"),transitioncancel:Ha("Transition","TransitionCancel"),transitionend:Ha("Transition","TransitionEnd")},Pm={},l_={};$r&&(l_=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function qa(i){if(Pm[i])return Pm[i];if(!Uo[i])return i;var s=Uo[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in l_)return Pm[i]=s[o];return i}var u_=qa("animationend"),c_=qa("animationiteration"),h_=qa("animationstart"),o4=qa("transitionrun"),l4=qa("transitionstart"),u4=qa("transitioncancel"),f_=qa("transitionend"),d_=new Map,Nm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nm.push("scrollEnd");function Kr(i,s){d_.set(i,s),sn(s,[i])}var m_=new WeakMap;function Ar(i,s){if(typeof i=="object"&&i!==null){var o=m_.get(i);return o!==void 0?o:(s={value:i,source:s,stack:zi(s)},m_.set(i,s),s)}return{value:i,source:s,stack:zi(s)}}var Rr=[],Bo=0,Mm=0;function Ih(){for(var i=Bo,s=Mm=Bo=0;s<i;){var o=Rr[s];Rr[s++]=null;var c=Rr[s];Rr[s++]=null;var m=Rr[s];Rr[s++]=null;var y=Rr[s];if(Rr[s++]=null,c!==null&&m!==null){var S=c.pending;S===null?m.next=m:(m.next=S.next,S.next=m),c.pending=m}y!==0&&p_(o,m,y)}}function Dh(i,s,o,c){Rr[Bo++]=i,Rr[Bo++]=s,Rr[Bo++]=o,Rr[Bo++]=c,Mm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Om(i,s,o,c){return Dh(i,s,o,c),Ph(i)}function zo(i,s){return Dh(i,null,null,s),Ph(i)}function p_(i,s,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,y=i.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&s!==null&&(m=31-Yt(o),i=y.hiddenUpdates,c=i[m],c===null?i[m]=[s]:c.push(s),s.lane=o|536870912),y):null}function Ph(i){if(50<ku)throw ku=0,Bp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Fo={};function c4(i,s,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(i,s,o,c){return new c4(i,s,o,c)}function Vm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Xi(i,s){var o=i.alternate;return o===null?(o=or(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function g_(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Nh(i,s,o,c,m,y){var S=0;if(c=i,typeof i=="function")Vm(i)&&(S=1);else if(typeof i=="string")S=fI(i,o,Te.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=or(31,o,s,m),i.elementType=C,i.lanes=y,i;case R:return Ga(o.children,m,y,s);case L:S=8,m|=24;break;case D:return i=or(12,o,s,m|2),i.elementType=D,i.lanes=y,i;case F:return i=or(13,o,s,m),i.elementType=F,i.lanes=y,i;case j:return i=or(19,o,s,m),i.elementType=j,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I:case O:S=10;break e;case M:S=9;break e;case z:S=11;break e;case A:S=14;break e;case b:S=16,c=null;break e}S=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=or(S,o,s,m),s.elementType=i,s.type=c,s.lanes=y,s}function Ga(i,s,o,c){return i=or(7,i,c,s),i.lanes=o,i}function Lm(i,s,o){return i=or(6,i,null,s),i.lanes=o,i}function km(i,s,o){return s=or(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Ho=[],qo=0,Mh=null,Oh=0,Cr=[],Ir=0,$a=null,Qi=1,Wi="";function Ka(i,s){Ho[qo++]=Oh,Ho[qo++]=Mh,Mh=i,Oh=s}function y_(i,s,o){Cr[Ir++]=Qi,Cr[Ir++]=Wi,Cr[Ir++]=$a,$a=i;var c=Qi;i=Wi;var m=32-Yt(c)-1;c&=~(1<<m),o+=1;var y=32-Yt(s)+m;if(30<y){var S=m-m%5;y=(c&(1<<S)-1).toString(32),c>>=S,m-=S,Qi=1<<32-Yt(s)+m|o<<m|c,Wi=y+i}else Qi=1<<y|o<<m|c,Wi=i}function jm(i){i.return!==null&&(Ka(i,1),y_(i,1,0))}function Um(i){for(;i===Mh;)Mh=Ho[--qo],Ho[qo]=null,Oh=Ho[--qo],Ho[qo]=null;for(;i===$a;)$a=Cr[--Ir],Cr[Ir]=null,Wi=Cr[--Ir],Cr[Ir]=null,Qi=Cr[--Ir],Cr[Ir]=null}var Gn=null,jt=null,gt=!1,Ya=null,vi=!1,Bm=Error(r(519));function Xa(i){var s=Error(r(418,""));throw pu(Ar(s,i)),Bm}function v_(i){var s=i.stateNode,o=i.type,c=i.memoizedProps;switch(s[he]=i,s[ye]=c,o){case"dialog":rt("cancel",s),rt("close",s);break;case"iframe":case"object":case"embed":rt("load",s);break;case"video":case"audio":for(o=0;o<Uu.length;o++)rt(Uu[o],s);break;case"source":rt("error",s);break;case"img":case"image":case"link":rt("error",s),rt("load",s);break;case"details":rt("toggle",s);break;case"input":rt("invalid",s),Ma(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Co(s);break;case"select":rt("invalid",s);break;case"textarea":rt("invalid",s),Oa(s,c.value,c.defaultValue,c.children),Co(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||VT(s.textContent,o)?(c.popover!=null&&(rt("beforetoggle",s),rt("toggle",s)),c.onScroll!=null&&rt("scroll",s),c.onScrollEnd!=null&&rt("scrollend",s),c.onClick!=null&&(s.onclick=pf),s=!0):s=!1,s||Xa(i)}function __(i){for(Gn=i.return;Gn;)switch(Gn.tag){case 5:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:Gn=Gn.return}}function du(i){if(i!==Gn)return!1;if(!gt)return __(i),gt=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||ng(i.type,i.memoizedProps)),o=!o),o&&jt&&Xa(i),__(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){jt=Xr(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}jt=null}}else s===27?(s=jt,Ks(i.type)?(i=ag,ag=null,jt=i):jt=s):jt=Gn?Xr(i.stateNode.nextSibling):null;return!0}function mu(){jt=Gn=null,gt=!1}function T_(){var i=Ya;return i!==null&&(Zn===null?Zn=i:Zn.push.apply(Zn,i),Ya=null),i}function pu(i){Ya===null?Ya=[i]:Ya.push(i)}var zm=ie(null),Qa=null,Zi=null;function Ns(i,s,o){ue(zm,s._currentValue),s._currentValue=o}function Ji(i){i._currentValue=zm.current,ge(zm)}function Fm(i,s,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===o)break;i=i.return}}function Hm(i,s,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var S=m.child;y=y.firstContext;e:for(;y!==null;){var P=y;y=m;for(var q=0;q<s.length;q++)if(P.context===s[q]){y.lanes|=o,P=y.alternate,P!==null&&(P.lanes|=o),Fm(y.return,o,i),c||(S=null);break e}y=P.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(r(341));S.lanes|=o,y=S.alternate,y!==null&&(y.lanes|=o),Fm(S,o,i),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===i){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function gu(i,s,o,c){i=null;for(var m=s,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var P=m.type;ar(m.pendingProps.value,S.value)||(i!==null?i.push(P):i=[P])}}else if(m===Ie.current){if(S=m.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Gu):i=[Gu])}m=m.return}i!==null&&Hm(s,i,o,c),s.flags|=262144}function Vh(i){for(i=i.firstContext;i!==null;){if(!ar(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Wa(i){Qa=i,Zi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Nn(i){return w_(Qa,i)}function Lh(i,s){return Qa===null&&Wa(i),w_(i,s)}function w_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Zi===null){if(i===null)throw Error(r(308));Zi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Zi=Zi.next=s;return o}var h4=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},f4=t.unstable_scheduleCallback,d4=t.unstable_NormalPriority,ln={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qm(){return{controller:new h4,data:new Map,refCount:0}}function yu(i){i.refCount--,i.refCount===0&&f4(d4,function(){i.controller.abort()})}var vu=null,Gm=0,Go=0,$o=null;function m4(i,s){if(vu===null){var o=vu=[];Gm=0,Go=Kp(),$o={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Gm++,s.then(E_,E_),s}function E_(){if(--Gm===0&&vu!==null){$o!==null&&($o.status="fulfilled");var i=vu;vu=null,Go=0,$o=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function p4(i,s){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var b_=K.S;K.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&m4(i,s),b_!==null&&b_(i,s)};var Za=ie(null);function $m(){var i=Za.current;return i!==null?i:Dt.pooledCache}function kh(i,s){s===null?ue(Za,Za.current):ue(Za,s.pool)}function x_(){var i=$m();return i===null?null:{parent:ln._currentValue,pool:i}}var _u=Error(r(460)),S_=Error(r(474)),jh=Error(r(542)),Km={then:function(){}};function A_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Uh(){}function R_(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Uh,Uh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,I_(i),i;default:if(typeof s.status=="string")s.then(Uh,Uh);else{if(i=Dt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,I_(i),i}throw Tu=s,_u}}var Tu=null;function C_(){if(Tu===null)throw Error(r(459));var i=Tu;return Tu=null,i}function I_(i){if(i===_u||i===jh)throw Error(r(483))}var Ms=!1;function Ym(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Os(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Vs(i,s,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Tt&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=Ph(i),p_(i,null,o),s}return Dh(i,c,s,o),Ph(i)}function wu(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,oi(i,o)}}function Qm(i,s){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=S:y=y.next=S,o=o.next}while(o!==null);y===null?m=y=s:y=y.next=s}else m=y=s;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Wm=!1;function Eu(){if(Wm){var i=$o;if(i!==null)throw i}}function bu(i,s,o,c){Wm=!1;var m=i.updateQueue;Ms=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var q=P,ee=q.next;q.next=null,S===null?y=ee:S.next=ee,S=q;var le=i.alternate;le!==null&&(le=le.updateQueue,P=le.lastBaseUpdate,P!==S&&(P===null?le.firstBaseUpdate=ee:P.next=ee,le.lastBaseUpdate=q))}if(y!==null){var fe=m.baseState;S=0,le=ee=q=null,P=y;do{var ne=P.lane&-536870913,re=ne!==P.lane;if(re?(ut&ne)===ne:(c&ne)===ne){ne!==0&&ne===Go&&(Wm=!0),le!==null&&(le=le.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Fe=i,Le=P;ne=s;var At=o;switch(Le.tag){case 1:if(Fe=Le.payload,typeof Fe=="function"){fe=Fe.call(At,fe,ne);break e}fe=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Le.payload,ne=typeof Fe=="function"?Fe.call(At,fe,ne):Fe,ne==null)break e;fe=g({},fe,ne);break e;case 2:Ms=!0}}ne=P.callback,ne!==null&&(i.flags|=64,re&&(i.flags|=8192),re=m.callbacks,re===null?m.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:P.tag,payload:P.payload,callback:P.callback,next:null},le===null?(ee=le=re,q=fe):le=le.next=re,S|=ne;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;re=P,P=re.next,re.next=null,m.lastBaseUpdate=re,m.shared.pending=null}}while(!0);le===null&&(q=fe),m.baseState=q,m.firstBaseUpdate=ee,m.lastBaseUpdate=le,y===null&&(m.shared.lanes=0),Hs|=S,i.lanes=S,i.memoizedState=fe}}function D_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function P_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)D_(o[i],s)}var Ko=ie(null),Bh=ie(0);function N_(i,s){i=as,ue(Bh,i),ue(Ko,s),as=i|s.baseLanes}function Zm(){ue(Bh,as),ue(Ko,Ko.current)}function Jm(){as=Bh.current,ge(Ko),ge(Bh)}var Ls=0,We=null,xt=null,Wt=null,zh=!1,Yo=!1,Ja=!1,Fh=0,xu=0,Xo=null,g4=0;function Ft(){throw Error(r(321))}function ep(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!ar(i[o],s[o]))return!1;return!0}function tp(i,s,o,c,m,y){return Ls=y,We=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=i===null||i.memoizedState===null?p1:g1,Ja=!1,y=o(c,m),Ja=!1,Yo&&(y=O_(s,o,c,m)),M_(i),y}function M_(i){K.H=Yh;var s=xt!==null&&xt.next!==null;if(Ls=0,Wt=xt=We=null,zh=!1,xu=0,Xo=null,s)throw Error(r(300));i===null||gn||(i=i.dependencies,i!==null&&Vh(i)&&(gn=!0))}function O_(i,s,o,c){We=i;var m=0;do{if(Yo&&(Xo=null),xu=0,Yo=!1,25<=m)throw Error(r(301));if(m+=1,Wt=xt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}K.H=b4,y=s(o,c)}while(Yo);return y}function y4(){var i=K.H,s=i.useState()[0];return s=typeof s.then=="function"?Su(s):s,i=i.useState()[0],(xt!==null?xt.memoizedState:null)!==i&&(We.flags|=1024),s}function np(){var i=Fh!==0;return Fh=0,i}function rp(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function ip(i){if(zh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}zh=!1}Ls=0,Wt=xt=We=null,Yo=!1,xu=Fh=0,Xo=null}function Qn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?We.memoizedState=Wt=i:Wt=Wt.next=i,Wt}function Zt(){if(xt===null){var i=We.alternate;i=i!==null?i.memoizedState:null}else i=xt.next;var s=Wt===null?We.memoizedState:Wt.next;if(s!==null)Wt=s,xt=i;else{if(i===null)throw We.alternate===null?Error(r(467)):Error(r(310));xt=i,i={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Wt===null?We.memoizedState=Wt=i:Wt=Wt.next=i}return Wt}function sp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Su(i){var s=xu;return xu+=1,Xo===null&&(Xo=[]),i=R_(Xo,i,s),s=We,(Wt===null?s.memoizedState:Wt.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?p1:g1),i}function Hh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Su(i);if(i.$$typeof===O)return Nn(i)}throw Error(r(438,String(i)))}function ap(i){var s=null,o=We.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=We.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=sp(),We.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),c=0;c<i;c++)o[c]=U;return s.index++,o}function es(i,s){return typeof s=="function"?s(i):s}function qh(i){var s=Zt();return op(s,xt,i)}function op(i,s,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var m=i.baseQueue,y=c.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}s.baseQueue=m=y,c.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{s=m.next;var P=S=null,q=null,ee=s,le=!1;do{var fe=ee.lane&-536870913;if(fe!==ee.lane?(ut&fe)===fe:(Ls&fe)===fe){var ne=ee.revertLane;if(ne===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),fe===Go&&(le=!0);else if((Ls&ne)===ne){ee=ee.next,ne===Go&&(le=!0);continue}else fe={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(P=q=fe,S=y):q=q.next=fe,We.lanes|=ne,Hs|=ne;fe=ee.action,Ja&&o(y,fe),y=ee.hasEagerState?ee.eagerState:o(y,fe)}else ne={lane:fe,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(P=q=ne,S=y):q=q.next=ne,We.lanes|=fe,Hs|=fe;ee=ee.next}while(ee!==null&&ee!==s);if(q===null?S=y:q.next=P,!ar(y,i.memoizedState)&&(gn=!0,le&&(o=$o,o!==null)))throw o;i.memoizedState=y,i.baseState=S,i.baseQueue=q,c.lastRenderedState=y}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function lp(i){var s=Zt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,y=s.memoizedState;if(m!==null){o.pending=null;var S=m=m.next;do y=i(y,S.action),S=S.next;while(S!==m);ar(y,s.memoizedState)||(gn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,c]}function V_(i,s,o){var c=We,m=Zt(),y=gt;if(y){if(o===void 0)throw Error(r(407));o=o()}else o=s();var S=!ar((xt||m).memoizedState,o);S&&(m.memoizedState=o,gn=!0),m=m.queue;var P=j_.bind(null,c,m,i);if(Au(2048,8,P,[i]),m.getSnapshot!==s||S||Wt!==null&&Wt.memoizedState.tag&1){if(c.flags|=2048,Qo(9,Gh(),k_.bind(null,c,m,o,s),null),Dt===null)throw Error(r(349));y||(Ls&124)!==0||L_(c,s,o)}return o}function L_(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=We.updateQueue,s===null?(s=sp(),We.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function k_(i,s,o,c){s.value=o,s.getSnapshot=c,U_(s)&&B_(i)}function j_(i,s,o){return o(function(){U_(s)&&B_(i)})}function U_(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!ar(i,o)}catch{return!0}}function B_(i){var s=zo(i,2);s!==null&&fr(s,i,2)}function up(i){var s=Qn();if(typeof i=="function"){var o=i;if(i=o(),Ja){Dn(!0);try{o()}finally{Dn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:i},s}function z_(i,s,o,c){return i.baseState=o,op(i,xt,typeof c=="function"?c:es)}function v4(i,s,o,c,m){if(Kh(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};K.T!==null?o(!0):y.isTransition=!1,c(y),o=s.pending,o===null?(y.next=s.pending=y,F_(s,y)):(y.next=o.next,s.pending=o.next=y)}}function F_(i,s){var o=s.action,c=s.payload,m=i.state;if(s.isTransition){var y=K.T,S={};K.T=S;try{var P=o(m,c),q=K.S;q!==null&&q(S,P),H_(i,s,P)}catch(ee){cp(i,s,ee)}finally{K.T=y}}else try{y=o(m,c),H_(i,s,y)}catch(ee){cp(i,s,ee)}}function H_(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){q_(i,s,c)},function(c){return cp(i,s,c)}):q_(i,s,o)}function q_(i,s,o){s.status="fulfilled",s.value=o,G_(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,F_(i,o)))}function cp(i,s,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,G_(s),s=s.next;while(s!==c)}i.action=null}function G_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function $_(i,s){return s}function K_(i,s){if(gt){var o=Dt.formState;if(o!==null){e:{var c=We;if(gt){if(jt){t:{for(var m=jt,y=vi;m.nodeType!==8;){if(!y){m=null;break t}if(m=Xr(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){jt=Xr(m.nextSibling),c=m.data==="F!";break e}}Xa(c)}c=!1}c&&(s=o[0])}}return o=Qn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$_,lastRenderedState:s},o.queue=c,o=f1.bind(null,We,c),c.dispatch=o,c=up(!1),y=pp.bind(null,We,!1,c.queue),c=Qn(),m={state:s,dispatch:null,action:i,pending:null},c.queue=m,o=v4.bind(null,We,m,y,o),m.dispatch=o,c.memoizedState=i,[s,o,!1]}function Y_(i){var s=Zt();return X_(s,xt,i)}function X_(i,s,o){if(s=op(i,s,$_)[0],i=qh(es)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Su(s)}catch(S){throw S===_u?jh:S}else c=s;s=Zt();var m=s.queue,y=m.dispatch;return o!==s.memoizedState&&(We.flags|=2048,Qo(9,Gh(),_4.bind(null,m,o),null)),[c,y,i]}function _4(i,s){i.action=s}function Q_(i){var s=Zt(),o=xt;if(o!==null)return X_(s,o,i);Zt(),s=s.memoizedState,o=Zt();var c=o.queue.dispatch;return o.memoizedState=i,[s,c,!1]}function Qo(i,s,o,c){return i={tag:i,create:o,deps:c,inst:s,next:null},s=We.updateQueue,s===null&&(s=sp(),We.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,s.lastEffect=i),i}function Gh(){return{destroy:void 0,resource:void 0}}function W_(){return Zt().memoizedState}function $h(i,s,o,c){var m=Qn();c=c===void 0?null:c,We.flags|=i,m.memoizedState=Qo(1|s,Gh(),o,c)}function Au(i,s,o,c){var m=Zt();c=c===void 0?null:c;var y=m.memoizedState.inst;xt!==null&&c!==null&&ep(c,xt.memoizedState.deps)?m.memoizedState=Qo(s,y,o,c):(We.flags|=i,m.memoizedState=Qo(1|s,y,o,c))}function Z_(i,s){$h(8390656,8,i,s)}function J_(i,s){Au(2048,8,i,s)}function e1(i,s){return Au(4,2,i,s)}function t1(i,s){return Au(4,4,i,s)}function n1(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function r1(i,s,o){o=o!=null?o.concat([i]):null,Au(4,4,n1.bind(null,s,i),o)}function hp(){}function i1(i,s){var o=Zt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&ep(s,c[1])?c[0]:(o.memoizedState=[i,s],i)}function s1(i,s){var o=Zt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&ep(s,c[1]))return c[0];if(c=i(),Ja){Dn(!0);try{i()}finally{Dn(!1)}}return o.memoizedState=[c,s],c}function fp(i,s,o){return o===void 0||(Ls&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=lT(),We.lanes|=i,Hs|=i,o)}function a1(i,s,o,c){return ar(o,s)?o:Ko.current!==null?(i=fp(i,o,c),ar(i,s)||(gn=!0),i):(Ls&42)===0?(gn=!0,i.memoizedState=o):(i=lT(),We.lanes|=i,Hs|=i,s)}function o1(i,s,o,c,m){var y=te.p;te.p=y!==0&&8>y?y:8;var S=K.T,P={};K.T=P,pp(i,!1,s,o);try{var q=m(),ee=K.S;if(ee!==null&&ee(P,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var le=p4(q,c);Ru(i,s,le,hr(i))}else Ru(i,s,c,hr(i))}catch(fe){Ru(i,s,{then:function(){},status:"rejected",reason:fe},hr())}finally{te.p=y,K.T=S}}function T4(){}function dp(i,s,o,c){if(i.tag!==5)throw Error(r(476));var m=l1(i).queue;o1(i,m,s,pe,o===null?T4:function(){return u1(i),o(c)})}function l1(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:pe},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function u1(i){var s=l1(i).next.queue;Ru(i,s,{},hr())}function mp(){return Nn(Gu)}function c1(){return Zt().memoizedState}function h1(){return Zt().memoizedState}function w4(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=hr();i=Os(o);var c=Vs(s,i,o);c!==null&&(fr(c,s,o),wu(c,s,o)),s={cache:qm()},i.payload=s;return}s=s.return}}function E4(i,s,o){var c=hr();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Kh(i)?d1(s,o):(o=Om(i,s,o,c),o!==null&&(fr(o,i,c),m1(o,s,c)))}function f1(i,s,o){var c=hr();Ru(i,s,o,c)}function Ru(i,s,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Kh(i))d1(s,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var S=s.lastRenderedState,P=y(S,o);if(m.hasEagerState=!0,m.eagerState=P,ar(P,S))return Dh(i,s,m,0),Dt===null&&Ih(),!1}catch{}finally{}if(o=Om(i,s,m,c),o!==null)return fr(o,i,c),m1(o,s,c),!0}return!1}function pp(i,s,o,c){if(c={lane:2,revertLane:Kp(),action:c,hasEagerState:!1,eagerState:null,next:null},Kh(i)){if(s)throw Error(r(479))}else s=Om(i,o,c,2),s!==null&&fr(s,i,2)}function Kh(i){var s=i.alternate;return i===We||s!==null&&s===We}function d1(i,s){Yo=zh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function m1(i,s,o){if((o&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,oi(i,o)}}var Yh={readContext:Nn,use:Hh,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft},p1={readContext:Nn,use:Hh,useCallback:function(i,s){return Qn().memoizedState=[i,s===void 0?null:s],i},useContext:Nn,useEffect:Z_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,$h(4194308,4,n1.bind(null,s,i),o)},useLayoutEffect:function(i,s){return $h(4194308,4,i,s)},useInsertionEffect:function(i,s){$h(4,2,i,s)},useMemo:function(i,s){var o=Qn();s=s===void 0?null:s;var c=i();if(Ja){Dn(!0);try{i()}finally{Dn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(i,s,o){var c=Qn();if(o!==void 0){var m=o(s);if(Ja){Dn(!0);try{o(s)}finally{Dn(!1)}}}else m=s;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=E4.bind(null,We,i),[c.memoizedState,i]},useRef:function(i){var s=Qn();return i={current:i},s.memoizedState=i},useState:function(i){i=up(i);var s=i.queue,o=f1.bind(null,We,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:hp,useDeferredValue:function(i,s){var o=Qn();return fp(o,i,s)},useTransition:function(){var i=up(!1);return i=o1.bind(null,We,i.queue,!0,!1),Qn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var c=We,m=Qn();if(gt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Dt===null)throw Error(r(349));(ut&124)!==0||L_(c,s,o)}m.memoizedState=o;var y={value:o,getSnapshot:s};return m.queue=y,Z_(j_.bind(null,c,y,i),[i]),c.flags|=2048,Qo(9,Gh(),k_.bind(null,c,y,o,s),null),o},useId:function(){var i=Qn(),s=Dt.identifierPrefix;if(gt){var o=Wi,c=Qi;o=(c&~(1<<32-Yt(c)-1)).toString(32)+o,s="«"+s+"R"+o,o=Fh++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=g4++,s="«"+s+"r"+o.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:mp,useFormState:K_,useActionState:K_,useOptimistic:function(i){var s=Qn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=pp.bind(null,We,!0,o),o.dispatch=s,[i,s]},useMemoCache:ap,useCacheRefresh:function(){return Qn().memoizedState=w4.bind(null,We)}},g1={readContext:Nn,use:Hh,useCallback:i1,useContext:Nn,useEffect:J_,useImperativeHandle:r1,useInsertionEffect:e1,useLayoutEffect:t1,useMemo:s1,useReducer:qh,useRef:W_,useState:function(){return qh(es)},useDebugValue:hp,useDeferredValue:function(i,s){var o=Zt();return a1(o,xt.memoizedState,i,s)},useTransition:function(){var i=qh(es)[0],s=Zt().memoizedState;return[typeof i=="boolean"?i:Su(i),s]},useSyncExternalStore:V_,useId:c1,useHostTransitionStatus:mp,useFormState:Y_,useActionState:Y_,useOptimistic:function(i,s){var o=Zt();return z_(o,xt,i,s)},useMemoCache:ap,useCacheRefresh:h1},b4={readContext:Nn,use:Hh,useCallback:i1,useContext:Nn,useEffect:J_,useImperativeHandle:r1,useInsertionEffect:e1,useLayoutEffect:t1,useMemo:s1,useReducer:lp,useRef:W_,useState:function(){return lp(es)},useDebugValue:hp,useDeferredValue:function(i,s){var o=Zt();return xt===null?fp(o,i,s):a1(o,xt.memoizedState,i,s)},useTransition:function(){var i=lp(es)[0],s=Zt().memoizedState;return[typeof i=="boolean"?i:Su(i),s]},useSyncExternalStore:V_,useId:c1,useHostTransitionStatus:mp,useFormState:Q_,useActionState:Q_,useOptimistic:function(i,s){var o=Zt();return xt!==null?z_(o,xt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:ap,useCacheRefresh:h1},Wo=null,Cu=0;function Xh(i){var s=Cu;return Cu+=1,Wo===null&&(Wo=[]),R_(Wo,i,s)}function Iu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Qh(i,s){throw s.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function y1(i){var s=i._init;return s(i._payload)}function v1(i){function s(X,Y){if(i){var Z=X.deletions;Z===null?(X.deletions=[Y],X.flags|=16):Z.push(Y)}}function o(X,Y){if(!i)return null;for(;Y!==null;)s(X,Y),Y=Y.sibling;return null}function c(X){for(var Y=new Map;X!==null;)X.key!==null?Y.set(X.key,X):Y.set(X.index,X),X=X.sibling;return Y}function m(X,Y){return X=Xi(X,Y),X.index=0,X.sibling=null,X}function y(X,Y,Z){return X.index=Z,i?(Z=X.alternate,Z!==null?(Z=Z.index,Z<Y?(X.flags|=67108866,Y):Z):(X.flags|=67108866,Y)):(X.flags|=1048576,Y)}function S(X){return i&&X.alternate===null&&(X.flags|=67108866),X}function P(X,Y,Z,ce){return Y===null||Y.tag!==6?(Y=Lm(Z,X.mode,ce),Y.return=X,Y):(Y=m(Y,Z),Y.return=X,Y)}function q(X,Y,Z,ce){var Ae=Z.type;return Ae===R?le(X,Y,Z.props.children,ce,Z.key):Y!==null&&(Y.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===b&&y1(Ae)===Y.type)?(Y=m(Y,Z.props),Iu(Y,Z),Y.return=X,Y):(Y=Nh(Z.type,Z.key,Z.props,null,X.mode,ce),Iu(Y,Z),Y.return=X,Y)}function ee(X,Y,Z,ce){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==Z.containerInfo||Y.stateNode.implementation!==Z.implementation?(Y=km(Z,X.mode,ce),Y.return=X,Y):(Y=m(Y,Z.children||[]),Y.return=X,Y)}function le(X,Y,Z,ce,Ae){return Y===null||Y.tag!==7?(Y=Ga(Z,X.mode,ce,Ae),Y.return=X,Y):(Y=m(Y,Z),Y.return=X,Y)}function fe(X,Y,Z){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Lm(""+Y,X.mode,Z),Y.return=X,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:return Z=Nh(Y.type,Y.key,Y.props,null,X.mode,Z),Iu(Z,Y),Z.return=X,Z;case x:return Y=km(Y,X.mode,Z),Y.return=X,Y;case b:var ce=Y._init;return Y=ce(Y._payload),fe(X,Y,Z)}if(oe(Y)||G(Y))return Y=Ga(Y,X.mode,Z,null),Y.return=X,Y;if(typeof Y.then=="function")return fe(X,Xh(Y),Z);if(Y.$$typeof===O)return fe(X,Lh(X,Y),Z);Qh(X,Y)}return null}function ne(X,Y,Z,ce){var Ae=Y!==null?Y.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ae!==null?null:P(X,Y,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case _:return Z.key===Ae?q(X,Y,Z,ce):null;case x:return Z.key===Ae?ee(X,Y,Z,ce):null;case b:return Ae=Z._init,Z=Ae(Z._payload),ne(X,Y,Z,ce)}if(oe(Z)||G(Z))return Ae!==null?null:le(X,Y,Z,ce,null);if(typeof Z.then=="function")return ne(X,Y,Xh(Z),ce);if(Z.$$typeof===O)return ne(X,Y,Lh(X,Z),ce);Qh(X,Z)}return null}function re(X,Y,Z,ce,Ae){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return X=X.get(Z)||null,P(Y,X,""+ce,Ae);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:return X=X.get(ce.key===null?Z:ce.key)||null,q(Y,X,ce,Ae);case x:return X=X.get(ce.key===null?Z:ce.key)||null,ee(Y,X,ce,Ae);case b:var et=ce._init;return ce=et(ce._payload),re(X,Y,Z,ce,Ae)}if(oe(ce)||G(ce))return X=X.get(Z)||null,le(Y,X,ce,Ae,null);if(typeof ce.then=="function")return re(X,Y,Z,Xh(ce),Ae);if(ce.$$typeof===O)return re(X,Y,Z,Lh(Y,ce),Ae);Qh(Y,ce)}return null}function Fe(X,Y,Z,ce){for(var Ae=null,et=null,Pe=Y,je=Y=0,vn=null;Pe!==null&&je<Z.length;je++){Pe.index>je?(vn=Pe,Pe=null):vn=Pe.sibling;var dt=ne(X,Pe,Z[je],ce);if(dt===null){Pe===null&&(Pe=vn);break}i&&Pe&&dt.alternate===null&&s(X,Pe),Y=y(dt,Y,je),et===null?Ae=dt:et.sibling=dt,et=dt,Pe=vn}if(je===Z.length)return o(X,Pe),gt&&Ka(X,je),Ae;if(Pe===null){for(;je<Z.length;je++)Pe=fe(X,Z[je],ce),Pe!==null&&(Y=y(Pe,Y,je),et===null?Ae=Pe:et.sibling=Pe,et=Pe);return gt&&Ka(X,je),Ae}for(Pe=c(Pe);je<Z.length;je++)vn=re(Pe,X,je,Z[je],ce),vn!==null&&(i&&vn.alternate!==null&&Pe.delete(vn.key===null?je:vn.key),Y=y(vn,Y,je),et===null?Ae=vn:et.sibling=vn,et=vn);return i&&Pe.forEach(function(Zs){return s(X,Zs)}),gt&&Ka(X,je),Ae}function Le(X,Y,Z,ce){if(Z==null)throw Error(r(151));for(var Ae=null,et=null,Pe=Y,je=Y=0,vn=null,dt=Z.next();Pe!==null&&!dt.done;je++,dt=Z.next()){Pe.index>je?(vn=Pe,Pe=null):vn=Pe.sibling;var Zs=ne(X,Pe,dt.value,ce);if(Zs===null){Pe===null&&(Pe=vn);break}i&&Pe&&Zs.alternate===null&&s(X,Pe),Y=y(Zs,Y,je),et===null?Ae=Zs:et.sibling=Zs,et=Zs,Pe=vn}if(dt.done)return o(X,Pe),gt&&Ka(X,je),Ae;if(Pe===null){for(;!dt.done;je++,dt=Z.next())dt=fe(X,dt.value,ce),dt!==null&&(Y=y(dt,Y,je),et===null?Ae=dt:et.sibling=dt,et=dt);return gt&&Ka(X,je),Ae}for(Pe=c(Pe);!dt.done;je++,dt=Z.next())dt=re(Pe,X,je,dt.value,ce),dt!==null&&(i&&dt.alternate!==null&&Pe.delete(dt.key===null?je:dt.key),Y=y(dt,Y,je),et===null?Ae=dt:et.sibling=dt,et=dt);return i&&Pe.forEach(function(xI){return s(X,xI)}),gt&&Ka(X,je),Ae}function At(X,Y,Z,ce){if(typeof Z=="object"&&Z!==null&&Z.type===R&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case _:e:{for(var Ae=Z.key;Y!==null;){if(Y.key===Ae){if(Ae=Z.type,Ae===R){if(Y.tag===7){o(X,Y.sibling),ce=m(Y,Z.props.children),ce.return=X,X=ce;break e}}else if(Y.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===b&&y1(Ae)===Y.type){o(X,Y.sibling),ce=m(Y,Z.props),Iu(ce,Z),ce.return=X,X=ce;break e}o(X,Y);break}else s(X,Y);Y=Y.sibling}Z.type===R?(ce=Ga(Z.props.children,X.mode,ce,Z.key),ce.return=X,X=ce):(ce=Nh(Z.type,Z.key,Z.props,null,X.mode,ce),Iu(ce,Z),ce.return=X,X=ce)}return S(X);case x:e:{for(Ae=Z.key;Y!==null;){if(Y.key===Ae)if(Y.tag===4&&Y.stateNode.containerInfo===Z.containerInfo&&Y.stateNode.implementation===Z.implementation){o(X,Y.sibling),ce=m(Y,Z.children||[]),ce.return=X,X=ce;break e}else{o(X,Y);break}else s(X,Y);Y=Y.sibling}ce=km(Z,X.mode,ce),ce.return=X,X=ce}return S(X);case b:return Ae=Z._init,Z=Ae(Z._payload),At(X,Y,Z,ce)}if(oe(Z))return Fe(X,Y,Z,ce);if(G(Z)){if(Ae=G(Z),typeof Ae!="function")throw Error(r(150));return Z=Ae.call(Z),Le(X,Y,Z,ce)}if(typeof Z.then=="function")return At(X,Y,Xh(Z),ce);if(Z.$$typeof===O)return At(X,Y,Lh(X,Z),ce);Qh(X,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,Y!==null&&Y.tag===6?(o(X,Y.sibling),ce=m(Y,Z),ce.return=X,X=ce):(o(X,Y),ce=Lm(Z,X.mode,ce),ce.return=X,X=ce),S(X)):o(X,Y)}return function(X,Y,Z,ce){try{Cu=0;var Ae=At(X,Y,Z,ce);return Wo=null,Ae}catch(Pe){if(Pe===_u||Pe===jh)throw Pe;var et=or(29,Pe,null,X.mode);return et.lanes=ce,et.return=X,et}finally{}}}var Zo=v1(!0),_1=v1(!1),Dr=ie(null),_i=null;function ks(i){var s=i.alternate;ue(un,un.current&1),ue(Dr,i),_i===null&&(s===null||Ko.current!==null||s.memoizedState!==null)&&(_i=i)}function T1(i){if(i.tag===22){if(ue(un,un.current),ue(Dr,i),_i===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(_i=i)}}else js()}function js(){ue(un,un.current),ue(Dr,Dr.current)}function ts(i){ge(Dr),_i===i&&(_i=null),ge(un)}var un=ie(0);function Wh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||sg(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function gp(i,s,o,c){s=i.memoizedState,o=o(c,s),o=o==null?s:g({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var yp={enqueueSetState:function(i,s,o){i=i._reactInternals;var c=hr(),m=Os(c);m.payload=s,o!=null&&(m.callback=o),s=Vs(i,m,c),s!==null&&(fr(s,i,c),wu(s,i,c))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var c=hr(),m=Os(c);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=Vs(i,m,c),s!==null&&(fr(s,i,c),wu(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=hr(),c=Os(o);c.tag=2,s!=null&&(c.callback=s),s=Vs(i,c,o),s!==null&&(fr(s,i,o),wu(s,i,o))}};function w1(i,s,o,c,m,y,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,S):s.prototype&&s.prototype.isPureReactComponent?!hu(o,c)||!hu(m,y):!0}function E1(i,s,o,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==i&&yp.enqueueReplaceState(s,s.state,null)}function eo(i,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(i=i.defaultProps){o===s&&(o=g({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}var Zh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function b1(i){Zh(i)}function x1(i){console.error(i)}function S1(i){Zh(i)}function Jh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function A1(i,s,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function vp(i,s,o){return o=Os(o),o.tag=3,o.payload={element:null},o.callback=function(){Jh(i,s)},o}function R1(i){return i=Os(i),i.tag=3,i}function C1(i,s,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;i.payload=function(){return m(y)},i.callback=function(){A1(s,o,c)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){A1(s,o,c),typeof m!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var P=c.stack;this.componentDidCatch(c.value,{componentStack:P!==null?P:""})})}function x4(i,s,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&gu(s,o,m,!0),o=Dr.current,o!==null){switch(o.tag){case 13:return _i===null?Fp():o.alternate===null&&Ut===0&&(Ut=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Km?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),qp(i,c,m)),!1;case 22:return o.flags|=65536,c===Km?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),qp(i,c,m)),!1}throw Error(r(435,o.tag))}return qp(i,c,m),Fp(),!1}if(gt)return s=Dr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==Bm&&(i=Error(r(422),{cause:c}),pu(Ar(i,o)))):(c!==Bm&&(s=Error(r(423),{cause:c}),pu(Ar(s,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Ar(c,o),m=vp(i.stateNode,c,m),Qm(i,m),Ut!==4&&(Ut=2)),!1;var y=Error(r(520),{cause:c});if(y=Ar(y,o),Lu===null?Lu=[y]:Lu.push(y),Ut!==4&&(Ut=2),s===null)return!0;c=Ar(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=vp(o.stateNode,c,i),Qm(o,i),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(qs===null||!qs.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=R1(m),C1(m,i,o,c),Qm(o,m),!1}o=o.return}while(o!==null);return!1}var I1=Error(r(461)),gn=!1;function bn(i,s,o,c){s.child=i===null?_1(s,null,o,c):Zo(s,i.child,o,c)}function D1(i,s,o,c,m){o=o.render;var y=s.ref;if("ref"in c){var S={};for(var P in c)P!=="ref"&&(S[P]=c[P])}else S=c;return Wa(s),c=tp(i,s,o,S,y,m),P=np(),i!==null&&!gn?(rp(i,s,m),ns(i,s,m)):(gt&&P&&jm(s),s.flags|=1,bn(i,s,c,m),s.child)}function P1(i,s,o,c,m){if(i===null){var y=o.type;return typeof y=="function"&&!Vm(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,N1(i,s,y,c,m)):(i=Nh(o.type,null,c,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!Ap(i,m)){var S=y.memoizedProps;if(o=o.compare,o=o!==null?o:hu,o(S,c)&&i.ref===s.ref)return ns(i,s,m)}return s.flags|=1,i=Xi(y,c),i.ref=s.ref,i.return=s,s.child=i}function N1(i,s,o,c,m){if(i!==null){var y=i.memoizedProps;if(hu(y,c)&&i.ref===s.ref)if(gn=!1,s.pendingProps=c=y,Ap(i,m))(i.flags&131072)!==0&&(gn=!0);else return s.lanes=i.lanes,ns(i,s,m)}return _p(i,s,o,c,m)}function M1(i,s,o){var c=s.pendingProps,m=c.children,y=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|o:o,i!==null){for(m=s.child=i.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return O1(i,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&kh(s,y!==null?y.cachePool:null),y!==null?N_(s,y):Zm(),T1(s);else return s.lanes=s.childLanes=536870912,O1(i,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(kh(s,y.cachePool),N_(s,y),js(),s.memoizedState=null):(i!==null&&kh(s,null),Zm(),js());return bn(i,s,m,o),s.child}function O1(i,s,o,c){var m=$m();return m=m===null?null:{parent:ln._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},i!==null&&kh(s,null),Zm(),T1(s),i!==null&&gu(i,s,c,!0),null}function ef(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function _p(i,s,o,c,m){return Wa(s),o=tp(i,s,o,c,void 0,m),c=np(),i!==null&&!gn?(rp(i,s,m),ns(i,s,m)):(gt&&c&&jm(s),s.flags|=1,bn(i,s,o,m),s.child)}function V1(i,s,o,c,m,y){return Wa(s),s.updateQueue=null,o=O_(s,c,o,m),M_(i),c=np(),i!==null&&!gn?(rp(i,s,y),ns(i,s,y)):(gt&&c&&jm(s),s.flags|=1,bn(i,s,o,y),s.child)}function L1(i,s,o,c,m){if(Wa(s),s.stateNode===null){var y=Fo,S=o.contextType;typeof S=="object"&&S!==null&&(y=Nn(S)),y=new o(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=yp,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},Ym(s),S=o.contextType,y.context=typeof S=="object"&&S!==null?Nn(S):Fo,y.state=s.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(gp(s,o,S,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&yp.enqueueReplaceState(y,y.state,null),bu(s,c,y,m),Eu(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){y=s.stateNode;var P=s.memoizedProps,q=eo(o,P);y.props=q;var ee=y.context,le=o.contextType;S=Fo,typeof le=="object"&&le!==null&&(S=Nn(le));var fe=o.getDerivedStateFromProps;le=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function",P=s.pendingProps!==P,le||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(P||ee!==S)&&E1(s,y,c,S),Ms=!1;var ne=s.memoizedState;y.state=ne,bu(s,c,y,m),Eu(),ee=s.memoizedState,P||ne!==ee||Ms?(typeof fe=="function"&&(gp(s,o,fe,c),ee=s.memoizedState),(q=Ms||w1(s,o,q,c,ne,ee,S))?(le||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=ee),y.props=c,y.state=ee,y.context=S,c=q):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,Xm(i,s),S=s.memoizedProps,le=eo(o,S),y.props=le,fe=s.pendingProps,ne=y.context,ee=o.contextType,q=Fo,typeof ee=="object"&&ee!==null&&(q=Nn(ee)),P=o.getDerivedStateFromProps,(ee=typeof P=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==fe||ne!==q)&&E1(s,y,c,q),Ms=!1,ne=s.memoizedState,y.state=ne,bu(s,c,y,m),Eu();var re=s.memoizedState;S!==fe||ne!==re||Ms||i!==null&&i.dependencies!==null&&Vh(i.dependencies)?(typeof P=="function"&&(gp(s,o,P,c),re=s.memoizedState),(le=Ms||w1(s,o,le,c,ne,re,q)||i!==null&&i.dependencies!==null&&Vh(i.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,re,q),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,re,q)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&ne===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ne===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=re),y.props=c,y.state=re,y.context=q,c=le):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&ne===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ne===i.memoizedState||(s.flags|=1024),c=!1)}return y=c,ef(i,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&c?(s.child=Zo(s,i.child,null,m),s.child=Zo(s,null,o,m)):bn(i,s,o,m),s.memoizedState=y.state,i=s.child):i=ns(i,s,m),i}function k1(i,s,o,c){return mu(),s.flags|=256,bn(i,s,o,c),s.child}var Tp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wp(i){return{baseLanes:i,cachePool:x_()}}function Ep(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Pr),i}function j1(i,s,o){var c=s.pendingProps,m=!1,y=(s.flags&128)!==0,S;if((S=y)||(S=i!==null&&i.memoizedState===null?!1:(un.current&2)!==0),S&&(m=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,i===null){if(gt){if(m?ks(s):js(),gt){var P=jt,q;if(q=P){e:{for(q=P,P=vi;q.nodeType!==8;){if(!P){P=null;break e}if(q=Xr(q.nextSibling),q===null){P=null;break e}}P=q}P!==null?(s.memoizedState={dehydrated:P,treeContext:$a!==null?{id:Qi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},q=or(18,null,null,0),q.stateNode=P,q.return=s,s.child=q,Gn=s,jt=null,q=!0):q=!1}q||Xa(s)}if(P=s.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return sg(P)?s.lanes=32:s.lanes=536870912,null;ts(s)}return P=c.children,c=c.fallback,m?(js(),m=s.mode,P=tf({mode:"hidden",children:P},m),c=Ga(c,m,o,null),P.return=s,c.return=s,P.sibling=c,s.child=P,m=s.child,m.memoizedState=wp(o),m.childLanes=Ep(i,S,o),s.memoizedState=Tp,c):(ks(s),bp(s,P))}if(q=i.memoizedState,q!==null&&(P=q.dehydrated,P!==null)){if(y)s.flags&256?(ks(s),s.flags&=-257,s=xp(i,s,o)):s.memoizedState!==null?(js(),s.child=i.child,s.flags|=128,s=null):(js(),m=c.fallback,P=s.mode,c=tf({mode:"visible",children:c.children},P),m=Ga(m,P,o,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,Zo(s,i.child,null,o),c=s.child,c.memoizedState=wp(o),c.childLanes=Ep(i,S,o),s.memoizedState=Tp,s=m);else if(ks(s),sg(P)){if(S=P.nextSibling&&P.nextSibling.dataset,S)var ee=S.dgst;S=ee,c=Error(r(419)),c.stack="",c.digest=S,pu({value:c,source:null,stack:null}),s=xp(i,s,o)}else if(gn||gu(i,s,o,!1),S=(o&i.childLanes)!==0,gn||S){if(S=Dt,S!==null&&(c=o&-o,c=(c&42)!==0?1:li(c),c=(c&(S.suspendedLanes|o))!==0?0:c,c!==0&&c!==q.retryLane))throw q.retryLane=c,zo(i,c),fr(S,i,c),I1;P.data==="$?"||Fp(),s=xp(i,s,o)}else P.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=q.treeContext,jt=Xr(P.nextSibling),Gn=s,gt=!0,Ya=null,vi=!1,i!==null&&(Cr[Ir++]=Qi,Cr[Ir++]=Wi,Cr[Ir++]=$a,Qi=i.id,Wi=i.overflow,$a=s),s=bp(s,c.children),s.flags|=4096);return s}return m?(js(),m=c.fallback,P=s.mode,q=i.child,ee=q.sibling,c=Xi(q,{mode:"hidden",children:c.children}),c.subtreeFlags=q.subtreeFlags&65011712,ee!==null?m=Xi(ee,m):(m=Ga(m,P,o,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,P=i.child.memoizedState,P===null?P=wp(o):(q=P.cachePool,q!==null?(ee=ln._currentValue,q=q.parent!==ee?{parent:ee,pool:ee}:q):q=x_(),P={baseLanes:P.baseLanes|o,cachePool:q}),m.memoizedState=P,m.childLanes=Ep(i,S,o),s.memoizedState=Tp,c):(ks(s),o=i.child,i=o.sibling,o=Xi(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,i!==null&&(S=s.deletions,S===null?(s.deletions=[i],s.flags|=16):S.push(i)),s.child=o,s.memoizedState=null,o)}function bp(i,s){return s=tf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function tf(i,s){return i=or(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function xp(i,s,o){return Zo(s,i.child,null,o),i=bp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function U1(i,s,o){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),Fm(i.return,s,o)}function Sp(i,s,o,c,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=m)}function B1(i,s,o){var c=s.pendingProps,m=c.revealOrder,y=c.tail;if(bn(i,s,c.children,o),c=un.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&U1(i,o,s);else if(i.tag===19)U1(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(ue(un,c),m){case"forwards":for(o=s.child,m=null;o!==null;)i=o.alternate,i!==null&&Wh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Sp(s,!1,m,o,y);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&Wh(i)===null){s.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}Sp(s,!0,o,null,y);break;case"together":Sp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ns(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Hs|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(gu(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Xi(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Xi(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Ap(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Vh(i)))}function S4(i,s,o){switch(s.tag){case 3:Ne(s,s.stateNode.containerInfo),Ns(s,ln,i.memoizedState.cache),mu();break;case 27:case 5:Pt(s);break;case 4:Ne(s,s.stateNode.containerInfo);break;case 10:Ns(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ks(s),s.flags|=128,null):(o&s.child.childLanes)!==0?j1(i,s,o):(ks(s),i=ns(i,s,o),i!==null?i.sibling:null);ks(s);break;case 19:var m=(i.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(gu(i,s,o,!1),c=(o&s.childLanes)!==0),m){if(c)return B1(i,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ue(un,un.current),c)break;return null;case 22:case 23:return s.lanes=0,M1(i,s,o);case 24:Ns(s,ln,i.memoizedState.cache)}return ns(i,s,o)}function z1(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)gn=!0;else{if(!Ap(i,o)&&(s.flags&128)===0)return gn=!1,S4(i,s,o);gn=(i.flags&131072)!==0}else gn=!1,gt&&(s.flags&1048576)!==0&&y_(s,Oh,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var c=s.elementType,m=c._init;if(c=m(c._payload),s.type=c,typeof c=="function")Vm(c)?(i=eo(c,i),s.tag=1,s=L1(null,s,c,i,o)):(s.tag=0,s=_p(null,s,c,i,o));else{if(c!=null){if(m=c.$$typeof,m===z){s.tag=11,s=D1(null,s,c,i,o);break e}else if(m===A){s.tag=14,s=P1(null,s,c,i,o);break e}}throw s=ae(c)||c,Error(r(306,s,""))}}return s;case 0:return _p(i,s,s.type,s.pendingProps,o);case 1:return c=s.type,m=eo(c,s.pendingProps),L1(i,s,c,m,o);case 3:e:{if(Ne(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var y=s.memoizedState;m=y.element,Xm(i,s),bu(s,c,null,o);var S=s.memoizedState;if(c=S.cache,Ns(s,ln,c),c!==y.cache&&Hm(s,[ln],o,!0),Eu(),c=S.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=k1(i,s,c,o);break e}else if(c!==m){m=Ar(Error(r(424)),s),pu(m),s=k1(i,s,c,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(jt=Xr(i.firstChild),Gn=s,gt=!0,Ya=null,vi=!0,o=_1(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(mu(),c===m){s=ns(i,s,o);break e}bn(i,s,c,o)}s=s.child}return s;case 26:return ef(i,s),i===null?(o=GT(s.type,null,s.pendingProps,null))?s.memoizedState=o:gt||(o=s.type,i=s.pendingProps,c=gf(ve.current).createElement(o),c[he]=s,c[ye]=i,Sn(c,o,i),at(c),s.stateNode=c):s.memoizedState=GT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Pt(s),i===null&&gt&&(c=s.stateNode=FT(s.type,s.pendingProps,ve.current),Gn=s,vi=!0,m=jt,Ks(s.type)?(ag=m,jt=Xr(c.firstChild)):jt=m),bn(i,s,s.pendingProps.children,o),ef(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&gt&&((m=c=jt)&&(c=J4(c,s.type,s.pendingProps,vi),c!==null?(s.stateNode=c,Gn=s,jt=Xr(c.firstChild),vi=!1,m=!0):m=!1),m||Xa(s)),Pt(s),m=s.type,y=s.pendingProps,S=i!==null?i.memoizedProps:null,c=y.children,ng(m,y)?c=null:S!==null&&ng(m,S)&&(s.flags|=32),s.memoizedState!==null&&(m=tp(i,s,y4,null,null,o),Gu._currentValue=m),ef(i,s),bn(i,s,c,o),s.child;case 6:return i===null&&gt&&((i=o=jt)&&(o=eI(o,s.pendingProps,vi),o!==null?(s.stateNode=o,Gn=s,jt=null,i=!0):i=!1),i||Xa(s)),null;case 13:return j1(i,s,o);case 4:return Ne(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Zo(s,null,c,o):bn(i,s,c,o),s.child;case 11:return D1(i,s,s.type,s.pendingProps,o);case 7:return bn(i,s,s.pendingProps,o),s.child;case 8:return bn(i,s,s.pendingProps.children,o),s.child;case 12:return bn(i,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,Ns(s,s.type,c.value),bn(i,s,c.children,o),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,Wa(s),m=Nn(m),c=c(m),s.flags|=1,bn(i,s,c,o),s.child;case 14:return P1(i,s,s.type,s.pendingProps,o);case 15:return N1(i,s,s.type,s.pendingProps,o);case 19:return B1(i,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},i===null?(o=tf(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Xi(i.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return M1(i,s,o);case 24:return Wa(s),c=Nn(ln),i===null?(m=$m(),m===null&&(m=Dt,y=qm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),s.memoizedState={parent:c,cache:m},Ym(s),Ns(s,ln,m)):((i.lanes&o)!==0&&(Xm(i,s),bu(s,null,null,o),Eu()),m=i.memoizedState,y=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Ns(s,ln,c)):(c=y.cache,Ns(s,ln,c),c!==m.cache&&Hm(s,[ln],o,!0))),bn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function rs(i){i.flags|=4}function F1(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!QT(s)){if(s=Dr.current,s!==null&&((ut&4194048)===ut?_i!==null:(ut&62914560)!==ut&&(ut&536870912)===0||s!==_i))throw Tu=Km,S_;i.flags|=8192}}function nf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Pa():536870912,i.lanes|=s,nl|=s)}function Du(i,s){if(!gt)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Vt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(s)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,s}function A4(i,s,o){var c=s.pendingProps;switch(Um(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(s),null;case 1:return Vt(s),null;case 3:return o=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ji(ln),Et(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(du(s)?rs(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,T_())),Vt(s),null;case 26:return o=s.memoizedState,i===null?(rs(s),o!==null?(Vt(s),F1(s,o)):(Vt(s),s.flags&=-16777217)):o?o!==i.memoizedState?(rs(s),Vt(s),F1(s,o)):(Vt(s),s.flags&=-16777217):(i.memoizedProps!==c&&rs(s),Vt(s),s.flags&=-16777217),null;case 27:dn(s),o=ve.current;var m=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==c&&rs(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return Vt(s),null}i=Te.current,du(s)?v_(s):(i=FT(m,c,o),s.stateNode=i,rs(s))}return Vt(s),null;case 5:if(dn(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&rs(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return Vt(s),null}if(i=Te.current,du(s))v_(s);else{switch(m=gf(ve.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}i[he]=s,i[ye]=c;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=i;e:switch(Sn(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&rs(s)}}return Vt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&rs(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=ve.current,du(s)){if(i=s.stateNode,o=s.memoizedProps,c=null,m=Gn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[he]=s,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||VT(i.nodeValue,o)),i||Xa(s)}else i=gf(i).createTextNode(c),i[he]=s,s.stateNode=i}return Vt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=du(s),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[he]=s}else mu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Vt(s),m=!1}else m=T_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(ts(s),s):(ts(s),null)}if(ts(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),nf(s,s.updateQueue),Vt(s),null;case 4:return Et(),i===null&&Wp(s.stateNode.containerInfo),Vt(s),null;case 10:return Ji(s.type),Vt(s),null;case 19:if(ge(un),m=s.memoizedState,m===null)return Vt(s),null;if(c=(s.flags&128)!==0,y=m.rendering,y===null)if(c)Du(m,!1);else{if(Ut!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=Wh(i),y!==null){for(s.flags|=128,Du(m,!1),i=y.updateQueue,s.updateQueue=i,nf(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)g_(o,i),o=o.sibling;return ue(un,un.current&1|2),s.child}i=i.sibling}m.tail!==null&&Bn()>af&&(s.flags|=128,c=!0,Du(m,!1),s.lanes=4194304)}else{if(!c)if(i=Wh(y),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,nf(s,i),Du(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!gt)return Vt(s),null}else 2*Bn()-m.renderingStartTime>af&&o!==536870912&&(s.flags|=128,c=!0,Du(m,!1),s.lanes=4194304);m.isBackwards?(y.sibling=s.child,s.child=y):(i=m.last,i!==null?i.sibling=y:s.child=y,m.last=y)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Bn(),s.sibling=null,i=un.current,ue(un,c?i&1|2:i&1),s):(Vt(s),null);case 22:case 23:return ts(s),Jm(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(Vt(s),s.subtreeFlags&6&&(s.flags|=8192)):Vt(s),o=s.updateQueue,o!==null&&nf(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),i!==null&&ge(Za),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ji(ln),Vt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function R4(i,s){switch(Um(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ji(ln),Et(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return dn(s),null;case 13:if(ts(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));mu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ge(un),null;case 4:return Et(),null;case 10:return Ji(s.type),null;case 22:case 23:return ts(s),Jm(),i!==null&&ge(Za),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ji(ln),null;case 25:return null;default:return null}}function H1(i,s){switch(Um(s),s.tag){case 3:Ji(ln),Et();break;case 26:case 27:case 5:dn(s);break;case 4:Et();break;case 13:ts(s);break;case 19:ge(un);break;case 10:Ji(s.type);break;case 22:case 23:ts(s),Jm(),i!==null&&ge(Za);break;case 24:Ji(ln)}}function Pu(i,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var y=o.create,S=o.inst;c=y(),S.destroy=c}o=o.next}while(o!==m)}}catch(P){Ct(s,s.return,P)}}function Us(i,s,o){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&i)===i){var S=c.inst,P=S.destroy;if(P!==void 0){S.destroy=void 0,m=s;var q=o,ee=P;try{ee()}catch(le){Ct(m,q,le)}}}c=c.next}while(c!==y)}}catch(le){Ct(s,s.return,le)}}function q1(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{P_(s,o)}catch(c){Ct(i,i.return,c)}}}function G1(i,s,o){o.props=eo(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){Ct(i,s,c)}}function Nu(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){Ct(i,s,m)}}function Ti(i,s){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Ct(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Ct(i,s,m)}else o.current=null}function $1(i){var s=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Ct(i,i.return,m)}}function Rp(i,s,o){try{var c=i.stateNode;Y4(c,i.type,o,s),c[ye]=s}catch(m){Ct(i,i.return,m)}}function K1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ks(i.type)||i.tag===4}function Cp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||K1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ks(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ip(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=pf));else if(c!==4&&(c===27&&Ks(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Ip(i,s,o),i=i.sibling;i!==null;)Ip(i,s,o),i=i.sibling}function rf(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(c!==4&&(c===27&&Ks(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(rf(i,s,o),i=i.sibling;i!==null;)rf(i,s,o),i=i.sibling}function Y1(i){var s=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Sn(s,c,o),s[he]=i,s[ye]=o}catch(y){Ct(i,i.return,y)}}var is=!1,Ht=!1,Dp=!1,X1=typeof WeakSet=="function"?WeakSet:Set,yn=null;function C4(i,s){if(i=i.containerInfo,eg=Ef,i=a_(i),Cm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var S=0,P=-1,q=-1,ee=0,le=0,fe=i,ne=null;t:for(;;){for(var re;fe!==o||m!==0&&fe.nodeType!==3||(P=S+m),fe!==y||c!==0&&fe.nodeType!==3||(q=S+c),fe.nodeType===3&&(S+=fe.nodeValue.length),(re=fe.firstChild)!==null;)ne=fe,fe=re;for(;;){if(fe===i)break t;if(ne===o&&++ee===m&&(P=S),ne===y&&++le===c&&(q=S),(re=fe.nextSibling)!==null)break;fe=ne,ne=fe.parentNode}fe=re}o=P===-1||q===-1?null:{start:P,end:q}}else o=null}o=o||{start:0,end:0}}else o=null;for(tg={focusedElem:i,selectionRange:o},Ef=!1,yn=s;yn!==null;)if(s=yn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,yn=i;else for(;yn!==null;){switch(s=yn,y=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=s,m=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var Fe=eo(o.type,m,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(Fe,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(Le){Ct(o,o.return,Le)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)ig(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ig(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,yn=i;break}yn=s.return}}function Q1(i,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Bs(i,o),c&4&&Pu(5,o);break;case 1:if(Bs(i,o),c&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(S){Ct(o,o.return,S)}else{var m=eo(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(S){Ct(o,o.return,S)}}c&64&&q1(o),c&512&&Nu(o,o.return);break;case 3:if(Bs(i,o),c&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{P_(i,s)}catch(S){Ct(o,o.return,S)}}break;case 27:s===null&&c&4&&Y1(o);case 26:case 5:Bs(i,o),s===null&&c&4&&$1(o),c&512&&Nu(o,o.return);break;case 12:Bs(i,o);break;case 13:Bs(i,o),c&4&&J1(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=k4.bind(null,o),tI(i,o))));break;case 22:if(c=o.memoizedState!==null||is,!c){s=s!==null&&s.memoizedState!==null||Ht,m=is;var y=Ht;is=c,(Ht=s)&&!y?zs(i,o,(o.subtreeFlags&8772)!==0):Bs(i,o),is=m,Ht=y}break;case 30:break;default:Bs(i,o)}}function W1(i){var s=i.alternate;s!==null&&(i.alternate=null,W1(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ce(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Mt=null,Wn=!1;function ss(i,s,o){for(o=o.child;o!==null;)Z1(i,s,o),o=o.sibling}function Z1(i,s,o){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(pt,o)}catch{}switch(o.tag){case 26:Ht||Ti(o,s),ss(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ht||Ti(o,s);var c=Mt,m=Wn;Ks(o.type)&&(Mt=o.stateNode,Wn=!1),ss(i,s,o),zu(o.stateNode),Mt=c,Wn=m;break;case 5:Ht||Ti(o,s);case 6:if(c=Mt,m=Wn,Mt=null,ss(i,s,o),Mt=c,Wn=m,Mt!==null)if(Wn)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(o.stateNode)}catch(y){Ct(o,s,y)}else try{Mt.removeChild(o.stateNode)}catch(y){Ct(o,s,y)}break;case 18:Mt!==null&&(Wn?(i=Mt,BT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Xu(i)):BT(Mt,o.stateNode));break;case 4:c=Mt,m=Wn,Mt=o.stateNode.containerInfo,Wn=!0,ss(i,s,o),Mt=c,Wn=m;break;case 0:case 11:case 14:case 15:Ht||Us(2,o,s),Ht||Us(4,o,s),ss(i,s,o);break;case 1:Ht||(Ti(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&G1(o,s,c)),ss(i,s,o);break;case 21:ss(i,s,o);break;case 22:Ht=(c=Ht)||o.memoizedState!==null,ss(i,s,o),Ht=c;break;default:ss(i,s,o)}}function J1(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Xu(i)}catch(o){Ct(s,s.return,o)}}function I4(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new X1),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new X1),s;default:throw Error(r(435,i.tag))}}function Pp(i,s){var o=I4(i);s.forEach(function(c){var m=j4.bind(null,i,c);o.has(c)||(o.add(c),c.then(m,m))})}function lr(i,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],y=i,S=s,P=S;e:for(;P!==null;){switch(P.tag){case 27:if(Ks(P.type)){Mt=P.stateNode,Wn=!1;break e}break;case 5:Mt=P.stateNode,Wn=!1;break e;case 3:case 4:Mt=P.stateNode.containerInfo,Wn=!0;break e}P=P.return}if(Mt===null)throw Error(r(160));Z1(y,S,m),Mt=null,Wn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)eT(s,i),s=s.sibling}var Yr=null;function eT(i,s){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:lr(s,i),ur(i),c&4&&(Us(3,i,i.return),Pu(3,i),Us(5,i,i.return));break;case 1:lr(s,i),ur(i),c&512&&(Ht||o===null||Ti(o,o.return)),c&64&&is&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Yr;if(lr(s,i),ur(i),c&512&&(Ht||o===null||Ti(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Ve]||y[he]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),Sn(y,c,o),y[he]=i,at(y),c=y;break e;case"link":var S=YT("link","href",m).get(c+(o.href||""));if(S){for(var P=0;P<S.length;P++)if(y=S[P],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(P,1);break t}}y=m.createElement(c),Sn(y,c,o),m.head.appendChild(y);break;case"meta":if(S=YT("meta","content",m).get(c+(o.content||""))){for(P=0;P<S.length;P++)if(y=S[P],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(P,1);break t}}y=m.createElement(c),Sn(y,c,o),m.head.appendChild(y);break;default:throw Error(r(468,c))}y[he]=i,at(y),c=y}i.stateNode=c}else XT(m,i.type,i.stateNode);else i.stateNode=KT(m,c,i.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?XT(m,i.type,i.stateNode):KT(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Rp(i,i.memoizedProps,o.memoizedProps)}break;case 27:lr(s,i),ur(i),c&512&&(Ht||o===null||Ti(o,o.return)),o!==null&&c&4&&Rp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(lr(s,i),ur(i),c&512&&(Ht||o===null||Ti(o,o.return)),i.flags&32){m=i.stateNode;try{Er(m,"")}catch(re){Ct(i,i.return,re)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Rp(i,m,o!==null?o.memoizedProps:m)),c&1024&&(Dp=!0);break;case 6:if(lr(s,i),ur(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(re){Ct(i,i.return,re)}}break;case 3:if(_f=null,m=Yr,Yr=yf(s.containerInfo),lr(s,i),Yr=m,ur(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Xu(s.containerInfo)}catch(re){Ct(i,i.return,re)}Dp&&(Dp=!1,tT(i));break;case 4:c=Yr,Yr=yf(i.stateNode.containerInfo),lr(s,i),ur(i),Yr=c;break;case 12:lr(s,i),ur(i);break;case 13:lr(s,i),ur(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(kp=Bn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Pp(i,c)));break;case 22:m=i.memoizedState!==null;var q=o!==null&&o.memoizedState!==null,ee=is,le=Ht;if(is=ee||m,Ht=le||q,lr(s,i),Ht=le,is=ee,ur(i),c&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||q||is||Ht||to(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){q=o=s;try{if(y=q.stateNode,m)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{P=q.stateNode;var fe=q.memoizedProps.style,ne=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;P.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){Ct(q,q.return,re)}}}else if(s.tag===6){if(o===null){q=s;try{q.stateNode.nodeValue=m?"":q.memoizedProps}catch(re){Ct(q,q.return,re)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Pp(i,o))));break;case 19:lr(s,i),ur(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Pp(i,c)));break;case 30:break;case 21:break;default:lr(s,i),ur(i)}}function ur(i){var s=i.flags;if(s&2){try{for(var o,c=i.return;c!==null;){if(K1(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var m=o.stateNode,y=Cp(i);rf(i,y,m);break;case 5:var S=o.stateNode;o.flags&32&&(Er(S,""),o.flags&=-33);var P=Cp(i);rf(i,P,S);break;case 3:case 4:var q=o.stateNode.containerInfo,ee=Cp(i);Ip(i,ee,q);break;default:throw Error(r(161))}}catch(le){Ct(i,i.return,le)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function tT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;tT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Bs(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Q1(i,s.alternate,s),s=s.sibling}function to(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Us(4,s,s.return),to(s);break;case 1:Ti(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&G1(s,s.return,o),to(s);break;case 27:zu(s.stateNode);case 26:case 5:Ti(s,s.return),to(s);break;case 22:s.memoizedState===null&&to(s);break;case 30:to(s);break;default:to(s)}i=i.sibling}}function zs(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=i,y=s,S=y.flags;switch(y.tag){case 0:case 11:case 15:zs(m,y,o),Pu(4,y);break;case 1:if(zs(m,y,o),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ee){Ct(c,c.return,ee)}if(c=y,m=c.updateQueue,m!==null){var P=c.stateNode;try{var q=m.shared.hiddenCallbacks;if(q!==null)for(m.shared.hiddenCallbacks=null,m=0;m<q.length;m++)D_(q[m],P)}catch(ee){Ct(c,c.return,ee)}}o&&S&64&&q1(y),Nu(y,y.return);break;case 27:Y1(y);case 26:case 5:zs(m,y,o),o&&c===null&&S&4&&$1(y),Nu(y,y.return);break;case 12:zs(m,y,o);break;case 13:zs(m,y,o),o&&S&4&&J1(m,y);break;case 22:y.memoizedState===null&&zs(m,y,o),Nu(y,y.return);break;case 30:break;default:zs(m,y,o)}s=s.sibling}}function Np(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&yu(o))}function Mp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&yu(i))}function wi(i,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)nT(i,s,o,c),s=s.sibling}function nT(i,s,o,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:wi(i,s,o,c),m&2048&&Pu(9,s);break;case 1:wi(i,s,o,c);break;case 3:wi(i,s,o,c),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&yu(i)));break;case 12:if(m&2048){wi(i,s,o,c),i=s.stateNode;try{var y=s.memoizedProps,S=y.id,P=y.onPostCommit;typeof P=="function"&&P(S,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(q){Ct(s,s.return,q)}}else wi(i,s,o,c);break;case 13:wi(i,s,o,c);break;case 23:break;case 22:y=s.stateNode,S=s.alternate,s.memoizedState!==null?y._visibility&2?wi(i,s,o,c):Mu(i,s):y._visibility&2?wi(i,s,o,c):(y._visibility|=2,Jo(i,s,o,c,(s.subtreeFlags&10256)!==0)),m&2048&&Np(S,s);break;case 24:wi(i,s,o,c),m&2048&&Mp(s.alternate,s);break;default:wi(i,s,o,c)}}function Jo(i,s,o,c,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,S=s,P=o,q=c,ee=S.flags;switch(S.tag){case 0:case 11:case 15:Jo(y,S,P,q,m),Pu(8,S);break;case 23:break;case 22:var le=S.stateNode;S.memoizedState!==null?le._visibility&2?Jo(y,S,P,q,m):Mu(y,S):(le._visibility|=2,Jo(y,S,P,q,m)),m&&ee&2048&&Np(S.alternate,S);break;case 24:Jo(y,S,P,q,m),m&&ee&2048&&Mp(S.alternate,S);break;default:Jo(y,S,P,q,m)}s=s.sibling}}function Mu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,c=s,m=c.flags;switch(c.tag){case 22:Mu(o,c),m&2048&&Np(c.alternate,c);break;case 24:Mu(o,c),m&2048&&Mp(c.alternate,c);break;default:Mu(o,c)}s=s.sibling}}var Ou=8192;function el(i){if(i.subtreeFlags&Ou)for(i=i.child;i!==null;)rT(i),i=i.sibling}function rT(i){switch(i.tag){case 26:el(i),i.flags&Ou&&i.memoizedState!==null&&mI(Yr,i.memoizedState,i.memoizedProps);break;case 5:el(i);break;case 3:case 4:var s=Yr;Yr=yf(i.stateNode.containerInfo),el(i),Yr=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Ou,Ou=16777216,el(i),Ou=s):el(i));break;default:el(i)}}function iT(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Vu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];yn=c,aT(c,i)}iT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)sT(i),i=i.sibling}function sT(i){switch(i.tag){case 0:case 11:case 15:Vu(i),i.flags&2048&&Us(9,i,i.return);break;case 3:Vu(i);break;case 12:Vu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,sf(i)):Vu(i);break;default:Vu(i)}}function sf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];yn=c,aT(c,i)}iT(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Us(8,s,s.return),sf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,sf(s));break;default:sf(s)}i=i.sibling}}function aT(i,s){for(;yn!==null;){var o=yn;switch(o.tag){case 0:case 11:case 15:Us(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:yu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,yn=c;else e:for(o=i;yn!==null;){c=yn;var m=c.sibling,y=c.return;if(W1(c),c===o){yn=null;break e}if(m!==null){m.return=y,yn=m;break e}yn=y}}}var D4={getCacheForType:function(i){var s=Nn(ln),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},P4=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Dt=null,nt=null,ut=0,wt=0,cr=null,Fs=!1,tl=!1,Op=!1,as=0,Ut=0,Hs=0,no=0,Vp=0,Pr=0,nl=0,Lu=null,Zn=null,Lp=!1,kp=0,af=1/0,of=null,qs=null,xn=0,Gs=null,rl=null,il=0,jp=0,Up=null,oT=null,ku=0,Bp=null;function hr(){if((Tt&2)!==0&&ut!==0)return ut&-ut;if(K.T!==null){var i=Go;return i!==0?i:Kp()}return $()}function lT(){Pr===0&&(Pr=(ut&536870912)===0||gt?Bi():536870912);var i=Dr.current;return i!==null&&(i.flags|=32),Pr}function fr(i,s,o){(i===Dt&&(wt===2||wt===9)||i.cancelPendingCommit!==null)&&(sl(i,0),$s(i,ut,Pr,!1)),Gr(i,o),((Tt&2)===0||i!==Dt)&&(i===Dt&&((Tt&2)===0&&(no|=o),Ut===4&&$s(i,ut,Pr,!1)),Ei(i))}function uT(i,s,o){if((Tt&6)!==0)throw Error(r(327));var c=!o&&(s&124)===0&&(s&i.expiredLanes)===0||vr(i,s),m=c?O4(i,s):Hp(i,s,!0),y=c;do{if(m===0){tl&&!c&&$s(i,s,0,!1);break}else{if(o=i.current.alternate,y&&!N4(o)){m=Hp(i,s,!1),y=!1;continue}if(m===2){if(y=s,i.errorRecoveryDisabledLanes&y)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var P=i;m=Lu;var q=P.current.memoizedState.isDehydrated;if(q&&(sl(P,S).flags|=256),S=Hp(P,S,!1),S!==2){if(Op&&!q){P.errorRecoveryDisabledLanes|=y,no|=y,m=4;break e}y=Zn,Zn=m,y!==null&&(Zn===null?Zn=y:Zn.push.apply(Zn,y))}m=S}if(y=!1,m!==2)continue}}if(m===1){sl(i,0),$s(i,s,0,!0);break}e:{switch(c=i,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:$s(c,s,Pr,!Fs);break e;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=kp+300-Bn(),10<m)){if($s(c,s,Pr,!Fs),Ui(c,0,!0)!==0)break e;c.timeoutHandle=jT(cT.bind(null,c,o,Zn,of,Lp,s,Pr,no,nl,Fs,y,2,-0,0),m);break e}cT(c,o,Zn,of,Lp,s,Pr,no,nl,Fs,y,0,-0,0)}}break}while(!0);Ei(i)}function cT(i,s,o,c,m,y,S,P,q,ee,le,fe,ne,re){if(i.timeoutHandle=-1,fe=s.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(qu={stylesheets:null,count:0,unsuspend:dI},rT(s),fe=pI(),fe!==null)){i.cancelPendingCommit=fe(yT.bind(null,i,s,y,o,c,m,S,P,q,le,1,ne,re)),$s(i,y,S,!ee);return}yT(i,s,y,o,c,m,S,P,q)}function N4(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],y=m.getSnapshot;m=m.value;try{if(!ar(y(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $s(i,s,o,c){s&=~Vp,s&=~no,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var m=s;0<m;){var y=31-Yt(m),S=1<<y;c[y]=-1,m&=~S}o!==0&&zn(i,o,s)}function lf(){return(Tt&6)===0?(ju(0),!1):!0}function zp(){if(nt!==null){if(wt===0)var i=nt.return;else i=nt,Zi=Qa=null,ip(i),Wo=null,Cu=0,i=nt;for(;i!==null;)H1(i.alternate,i),i=i.return;nt=null}}function sl(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,Q4(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),zp(),Dt=i,nt=o=Xi(i.current,null),ut=s,wt=0,cr=null,Fs=!1,tl=vr(i,s),Op=!1,nl=Pr=Vp=no=Hs=Ut=0,Zn=Lu=null,Lp=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var m=31-Yt(c),y=1<<m;s|=i[m],c&=~y}return as=s,Ih(),o}function hT(i,s){We=null,K.H=Yh,s===_u||s===jh?(s=C_(),wt=3):s===S_?(s=C_(),wt=4):wt=s===I1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,cr=s,nt===null&&(Ut=1,Jh(i,Ar(s,i.current)))}function fT(){var i=K.H;return K.H=Yh,i===null?Yh:i}function dT(){var i=K.A;return K.A=D4,i}function Fp(){Ut=4,Fs||(ut&4194048)!==ut&&Dr.current!==null||(tl=!0),(Hs&134217727)===0&&(no&134217727)===0||Dt===null||$s(Dt,ut,Pr,!1)}function Hp(i,s,o){var c=Tt;Tt|=2;var m=fT(),y=dT();(Dt!==i||ut!==s)&&(of=null,sl(i,s)),s=!1;var S=Ut;e:do try{if(wt!==0&&nt!==null){var P=nt,q=cr;switch(wt){case 8:zp(),S=6;break e;case 3:case 2:case 9:case 6:Dr.current===null&&(s=!0);var ee=wt;if(wt=0,cr=null,al(i,P,q,ee),o&&tl){S=0;break e}break;default:ee=wt,wt=0,cr=null,al(i,P,q,ee)}}M4(),S=Ut;break}catch(le){hT(i,le)}while(!0);return s&&i.shellSuspendCounter++,Zi=Qa=null,Tt=c,K.H=m,K.A=y,nt===null&&(Dt=null,ut=0,Ih()),S}function M4(){for(;nt!==null;)mT(nt)}function O4(i,s){var o=Tt;Tt|=2;var c=fT(),m=dT();Dt!==i||ut!==s?(of=null,af=Bn()+500,sl(i,s)):tl=vr(i,s);e:do try{if(wt!==0&&nt!==null){s=nt;var y=cr;t:switch(wt){case 1:wt=0,cr=null,al(i,s,y,1);break;case 2:case 9:if(A_(y)){wt=0,cr=null,pT(s);break}s=function(){wt!==2&&wt!==9||Dt!==i||(wt=7),Ei(i)},y.then(s,s);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:A_(y)?(wt=0,cr=null,pT(s)):(wt=0,cr=null,al(i,s,y,7));break;case 5:var S=null;switch(nt.tag){case 26:S=nt.memoizedState;case 5:case 27:var P=nt;if(!S||QT(S)){wt=0,cr=null;var q=P.sibling;if(q!==null)nt=q;else{var ee=P.return;ee!==null?(nt=ee,uf(ee)):nt=null}break t}}wt=0,cr=null,al(i,s,y,5);break;case 6:wt=0,cr=null,al(i,s,y,6);break;case 8:zp(),Ut=6;break e;default:throw Error(r(462))}}V4();break}catch(le){hT(i,le)}while(!0);return Zi=Qa=null,K.H=c,K.A=m,Tt=o,nt!==null?0:(Dt=null,ut=0,Ih(),Ut)}function V4(){for(;nt!==null&&!Ia();)mT(nt)}function mT(i){var s=z1(i.alternate,i,as);i.memoizedProps=i.pendingProps,s===null?uf(i):nt=s}function pT(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=V1(o,s,s.pendingProps,s.type,void 0,ut);break;case 11:s=V1(o,s,s.pendingProps,s.type.render,s.ref,ut);break;case 5:ip(s);default:H1(o,s),s=nt=g_(s,as),s=z1(o,s,as)}i.memoizedProps=i.pendingProps,s===null?uf(i):nt=s}function al(i,s,o,c){Zi=Qa=null,ip(s),Wo=null,Cu=0;var m=s.return;try{if(x4(i,m,s,o,ut)){Ut=1,Jh(i,Ar(o,i.current)),nt=null;return}}catch(y){if(m!==null)throw nt=m,y;Ut=1,Jh(i,Ar(o,i.current)),nt=null;return}s.flags&32768?(gt||c===1?i=!0:tl||(ut&536870912)!==0?i=!1:(Fs=i=!0,(c===2||c===9||c===3||c===6)&&(c=Dr.current,c!==null&&c.tag===13&&(c.flags|=16384))),gT(s,i)):uf(s)}function uf(i){var s=i;do{if((s.flags&32768)!==0){gT(s,Fs);return}i=s.return;var o=A4(s.alternate,s,as);if(o!==null){nt=o;return}if(s=s.sibling,s!==null){nt=s;return}nt=s=i}while(s!==null);Ut===0&&(Ut=5)}function gT(i,s){do{var o=R4(i.alternate,i);if(o!==null){o.flags&=32767,nt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){nt=i;return}nt=i=o}while(i!==null);Ut=6,nt=null}function yT(i,s,o,c,m,y,S,P,q){i.cancelPendingCommit=null;do cf();while(xn!==0);if((Tt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=Mm,Rs(i,o,y,S,P,q),i===Dt&&(nt=Dt=null,ut=0),rl=s,Gs=i,il=o,jp=y,Up=m,oT=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,U4(ji,function(){return ET(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,m=te.p,te.p=2,S=Tt,Tt|=4;try{C4(i,s,o)}finally{Tt=S,te.p=m,K.T=c}}xn=1,vT(),_T(),TT()}}function vT(){if(xn===1){xn=0;var i=Gs,s=rl,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var c=te.p;te.p=2;var m=Tt;Tt|=4;try{eT(s,i);var y=tg,S=a_(i.containerInfo),P=y.focusedElem,q=y.selectionRange;if(S!==P&&P&&P.ownerDocument&&s_(P.ownerDocument.documentElement,P)){if(q!==null&&Cm(P)){var ee=q.start,le=q.end;if(le===void 0&&(le=ee),"selectionStart"in P)P.selectionStart=ee,P.selectionEnd=Math.min(le,P.value.length);else{var fe=P.ownerDocument||document,ne=fe&&fe.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),Fe=P.textContent.length,Le=Math.min(q.start,Fe),At=q.end===void 0?Le:Math.min(q.end,Fe);!re.extend&&Le>At&&(S=At,At=Le,Le=S);var X=i_(P,Le),Y=i_(P,At);if(X&&Y&&(re.rangeCount!==1||re.anchorNode!==X.node||re.anchorOffset!==X.offset||re.focusNode!==Y.node||re.focusOffset!==Y.offset)){var Z=fe.createRange();Z.setStart(X.node,X.offset),re.removeAllRanges(),Le>At?(re.addRange(Z),re.extend(Y.node,Y.offset)):(Z.setEnd(Y.node,Y.offset),re.addRange(Z))}}}}for(fe=[],re=P;re=re.parentNode;)re.nodeType===1&&fe.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<fe.length;P++){var ce=fe[P];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Ef=!!eg,tg=eg=null}finally{Tt=m,te.p=c,K.T=o}}i.current=s,xn=2}}function _T(){if(xn===2){xn=0;var i=Gs,s=rl,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var c=te.p;te.p=2;var m=Tt;Tt|=4;try{Q1(i,s.alternate,s)}finally{Tt=m,te.p=c,K.T=o}}xn=3}}function TT(){if(xn===4||xn===3){xn=0,Ao();var i=Gs,s=rl,o=il,c=oT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?xn=5:(xn=0,rl=Gs=null,wT(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(qs=null),Cs(o),s=s.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(pt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=K.T,m=te.p,te.p=2,K.T=null;try{for(var y=i.onRecoverableError,S=0;S<c.length;S++){var P=c[S];y(P.value,{componentStack:P.stack})}}finally{K.T=s,te.p=m}}(il&3)!==0&&cf(),Ei(i),m=i.pendingLanes,(o&4194090)!==0&&(m&42)!==0?i===Bp?ku++:(ku=0,Bp=i):ku=0,ju(0)}}function wT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,yu(s)))}function cf(i){return vT(),_T(),TT(),ET()}function ET(){if(xn!==5)return!1;var i=Gs,s=jp;jp=0;var o=Cs(il),c=K.T,m=te.p;try{te.p=32>o?32:o,K.T=null,o=Up,Up=null;var y=Gs,S=il;if(xn=0,rl=Gs=null,il=0,(Tt&6)!==0)throw Error(r(331));var P=Tt;if(Tt|=4,sT(y.current),nT(y,y.current,S,o),Tt=P,ju(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(pt,y)}catch{}return!0}finally{te.p=m,K.T=c,wT(i,s)}}function bT(i,s,o){s=Ar(o,s),s=vp(i.stateNode,s,2),i=Vs(i,s,2),i!==null&&(Gr(i,2),Ei(i))}function Ct(i,s,o){if(i.tag===3)bT(i,i,o);else for(;s!==null;){if(s.tag===3){bT(s,i,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(qs===null||!qs.has(c))){i=Ar(o,i),o=R1(2),c=Vs(s,o,2),c!==null&&(C1(o,c,s,i),Gr(c,2),Ei(c));break}}s=s.return}}function qp(i,s,o){var c=i.pingCache;if(c===null){c=i.pingCache=new P4;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(o)||(Op=!0,m.add(o),i=L4.bind(null,i,s,o),s.then(i,i))}function L4(i,s,o){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Dt===i&&(ut&o)===o&&(Ut===4||Ut===3&&(ut&62914560)===ut&&300>Bn()-kp?(Tt&2)===0&&sl(i,0):Vp|=o,nl===ut&&(nl=0)),Ei(i)}function xT(i,s){s===0&&(s=Pa()),i=zo(i,s),i!==null&&(Gr(i,s),Ei(i))}function k4(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),xT(i,o)}function j4(i,s){var o=0;switch(i.tag){case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),xT(i,o)}function U4(i,s){return ki(i,s)}var hf=null,ol=null,Gp=!1,ff=!1,$p=!1,ro=0;function Ei(i){i!==ol&&i.next===null&&(ol===null?hf=ol=i:ol=ol.next=i),ff=!0,Gp||(Gp=!0,z4())}function ju(i,s){if(!$p&&ff){$p=!0;do for(var o=!1,c=hf;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var S=c.suspendedLanes,P=c.pingedLanes;y=(1<<31-Yt(42|i)+1)-1,y&=m&~(S&~P),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,CT(c,y))}else y=ut,y=Ui(c,c===Dt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||vr(c,y)||(o=!0,CT(c,y));c=c.next}while(o);$p=!1}}function B4(){ST()}function ST(){ff=Gp=!1;var i=0;ro!==0&&(X4()&&(i=ro),ro=0);for(var s=Bn(),o=null,c=hf;c!==null;){var m=c.next,y=AT(c,s);y===0?(c.next=null,o===null?hf=m:o.next=m,m===null&&(ol=o)):(o=c,(i!==0||(y&3)!==0)&&(ff=!0)),c=m}ju(i)}function AT(i,s){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var S=31-Yt(y),P=1<<S,q=m[S];q===-1?((P&o)===0||(P&c)!==0)&&(m[S]=As(P,s)):q<=s&&(i.expiredLanes|=P),y&=~P}if(s=Dt,o=ut,o=Ui(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===s&&(wt===2||wt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Un(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||vr(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(c!==null&&Un(c),Cs(o)){case 2:case 8:o=bs;break;case 32:o=ji;break;case 268435456:o=gr;break;default:o=ji}return c=RT.bind(null,i),o=ki(o,c),i.callbackPriority=s,i.callbackNode=o,s}return c!==null&&c!==null&&Un(c),i.callbackPriority=2,i.callbackNode=null,2}function RT(i,s){if(xn!==0&&xn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(cf()&&i.callbackNode!==o)return null;var c=ut;return c=Ui(i,i===Dt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(uT(i,c,s),AT(i,Bn()),i.callbackNode!=null&&i.callbackNode===o?RT.bind(null,i):null)}function CT(i,s){if(cf())return null;uT(i,s,!0)}function z4(){W4(function(){(Tt&6)!==0?ki(Da,B4):ST()})}function Kp(){return ro===0&&(ro=Bi()),ro}function IT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Io(""+i)}function DT(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function F4(i,s,o,c,m){if(s==="submit"&&o&&o.stateNode===m){var y=IT((m[ye]||null).action),S=c.submitter;S&&(s=(s=S[ye]||null)?IT(s.formAction):S.getAttribute("formAction"),s!==null&&(y=s,S=null));var P=new Do("action","action",null,c,m);i.push({event:P,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ro!==0){var q=S?DT(m,S):new FormData(m);dp(o,{pending:!0,data:q,method:m.method,action:y},null,q)}}else typeof y=="function"&&(P.preventDefault(),q=S?DT(m,S):new FormData(m),dp(o,{pending:!0,data:q,method:m.method,action:y},y,q))},currentTarget:m}]})}}for(var Yp=0;Yp<Nm.length;Yp++){var Xp=Nm[Yp],H4=Xp.toLowerCase(),q4=Xp[0].toUpperCase()+Xp.slice(1);Kr(H4,"on"+q4)}Kr(u_,"onAnimationEnd"),Kr(c_,"onAnimationIteration"),Kr(h_,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(o4,"onTransitionRun"),Kr(l4,"onTransitionStart"),Kr(u4,"onTransitionCancel"),Kr(f_,"onTransitionEnd"),Fn("onMouseEnter",["mouseout","mouseover"]),Fn("onMouseLeave",["mouseout","mouseover"]),Fn("onPointerEnter",["pointerout","pointerover"]),Fn("onPointerLeave",["pointerout","pointerover"]),sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uu));function PT(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var S=c.length-1;0<=S;S--){var P=c[S],q=P.instance,ee=P.currentTarget;if(P=P.listener,q!==y&&m.isPropagationStopped())break e;y=P,m.currentTarget=ee;try{y(m)}catch(le){Zh(le)}m.currentTarget=null,y=q}else for(S=0;S<c.length;S++){if(P=c[S],q=P.instance,ee=P.currentTarget,P=P.listener,q!==y&&m.isPropagationStopped())break e;y=P,m.currentTarget=ee;try{y(m)}catch(le){Zh(le)}m.currentTarget=null,y=q}}}}function rt(i,s){var o=s[Oe];o===void 0&&(o=s[Oe]=new Set);var c=i+"__bubble";o.has(c)||(NT(s,i,2,!1),o.add(c))}function Qp(i,s,o){var c=0;s&&(c|=4),NT(o,i,c,s)}var df="_reactListening"+Math.random().toString(36).slice(2);function Wp(i){if(!i[df]){i[df]=!0,Je.forEach(function(o){o!=="selectionchange"&&(G4.has(o)||Qp(o,!1,i),Qp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[df]||(s[df]=!0,Qp("selectionchange",!1,s))}}function NT(i,s,o,c){switch(nw(s)){case 2:var m=vI;break;case 8:m=_I;break;default:m=hg}o=m.bind(null,s,o,i),m=void 0,!xr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(s,o,{capture:!0,passive:m}):i.addEventListener(s,o,!0):m!==void 0?i.addEventListener(s,o,{passive:m}):i.addEventListener(s,o,!1)}function Zp(i,s,o,c,m){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var P=c.stateNode.containerInfo;if(P===m)break;if(S===4)for(S=c.return;S!==null;){var q=S.tag;if((q===3||q===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;P!==null;){if(S=ke(P),S===null)return;if(q=S.tag,q===5||q===6||q===26||q===27){c=y=S;continue e}P=P.parentNode}}c=c.return}mh(function(){var ee=y,le=br(o),fe=[];e:{var ne=d_.get(i);if(ne!==void 0){var re=Do,Fe=i;switch(i){case"keypress":if(di(o)===0)break e;case"keydown":case"keyup":re=Lo;break;case"focusin":Fe="focus",re=Mo;break;case"focusout":Fe="blur",re=Mo;break;case"beforeblur":case"afterblur":re=Mo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Sr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=xm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Eh;break;case u_:case c_:case h_:re=Oo;break;case f_:re=xh;break;case"scroll":case"scrollend":re=ph;break;case"wheel":re=ko;break;case"copy":case"cut":case"paste":re=Vo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=uu;break;case"toggle":case"beforetoggle":re=Ah}var Le=(s&4)!==0,At=!Le&&(i==="scroll"||i==="scrollend"),X=Le?ne!==null?ne+"Capture":null:ne;Le=[];for(var Y=ee,Z;Y!==null;){var ce=Y;if(Z=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||Z===null||X===null||(ce=La(Y,X),ce!=null&&Le.push(Bu(Y,ce,Z))),At)break;Y=Y.return}0<Le.length&&(ne=new re(ne,Fe,null,o,le),fe.push({event:ne,listeners:Le}))}}if((s&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",re=i==="mouseout"||i==="pointerout",ne&&o!==Hi&&(Fe=o.relatedTarget||o.fromElement)&&(ke(Fe)||Fe[Ee]))break e;if((re||ne)&&(ne=le.window===le?le:(ne=le.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?(Fe=o.relatedTarget||o.toElement,re=ee,Fe=Fe?ke(Fe):null,Fe!==null&&(At=l(Fe),Le=Fe.tag,Fe!==At||Le!==5&&Le!==27&&Le!==6)&&(Fe=null)):(re=null,Fe=ee),re!==Fe)){if(Le=Sr,ce="onMouseLeave",X="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(Le=uu,ce="onPointerLeave",X="onPointerEnter",Y="pointer"),At=re==null?ne:yt(re),Z=Fe==null?ne:yt(Fe),ne=new Le(ce,Y+"leave",re,o,le),ne.target=At,ne.relatedTarget=Z,ce=null,ke(le)===ee&&(Le=new Le(X,Y+"enter",Fe,o,le),Le.target=Z,Le.relatedTarget=At,ce=Le),At=ce,re&&Fe)t:{for(Le=re,X=Fe,Y=0,Z=Le;Z;Z=ll(Z))Y++;for(Z=0,ce=X;ce;ce=ll(ce))Z++;for(;0<Y-Z;)Le=ll(Le),Y--;for(;0<Z-Y;)X=ll(X),Z--;for(;Y--;){if(Le===X||X!==null&&Le===X.alternate)break t;Le=ll(Le),X=ll(X)}Le=null}else Le=null;re!==null&&MT(fe,ne,re,Le,!1),Fe!==null&&At!==null&&MT(fe,At,Fe,Le,!0)}}e:{if(ne=ee?yt(ee):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var Ae=Z0;else if(on(ne))if(J0)Ae=i4;else{Ae=n4;var et=t4}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&nu(ee.elementType)&&(Ae=Z0):Ae=r4;if(Ae&&(Ae=Ae(i,ee))){Yi(fe,Ae,o,le);break e}et&&et(i,ne,ee),i==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&Ds(ne,"number",ne.value)}switch(et=ee?yt(ee):window,i){case"focusin":(on(et)||et.contentEditable==="true")&&(jo=et,Im=ee,fu=null);break;case"focusout":fu=Im=jo=null;break;case"mousedown":Dm=!0;break;case"contextmenu":case"mouseup":case"dragend":Dm=!1,o_(fe,o,le);break;case"selectionchange":if(a4)break;case"keydown":case"keyup":o_(fe,o,le)}var Pe;if(gi)e:{switch(i){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else ot?se(i,o)&&(je="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(je="onCompositionStart");je&&(E&&o.locale!=="ko"&&(ot||je!=="onCompositionStart"?je==="onCompositionEnd"&&ot&&(Pe=iu()):(fi=le,Ps="value"in fi?fi.value:fi.textContent,ot=!0)),et=mf(ee,je),0<et.length&&(je=new ou(je,i,null,o,le),fe.push({event:je,listeners:et}),Pe?je.data=Pe:(Pe=_e(o),Pe!==null&&(je.data=Pe)))),(Pe=T?an(i,o):lt(i,o))&&(je=mf(ee,"onBeforeInput"),0<je.length&&(et=new ou("onBeforeInput","beforeinput",null,o,le),fe.push({event:et,listeners:je}),et.data=Pe)),F4(fe,i,ee,o,le)}PT(fe,s)})}function Bu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function mf(i,s){for(var o=s+"Capture",c=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=La(i,o),m!=null&&c.unshift(Bu(i,m,y)),m=La(i,s),m!=null&&c.push(Bu(i,m,y))),i.tag===3)return c;i=i.return}return[]}function ll(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function MT(i,s,o,c,m){for(var y=s._reactName,S=[];o!==null&&o!==c;){var P=o,q=P.alternate,ee=P.stateNode;if(P=P.tag,q!==null&&q===c)break;P!==5&&P!==26&&P!==27||ee===null||(q=ee,m?(ee=La(o,y),ee!=null&&S.unshift(Bu(o,ee,q))):m||(ee=La(o,y),ee!=null&&S.push(Bu(o,ee,q)))),o=o.return}S.length!==0&&i.push({event:s,listeners:S})}var $4=/\r\n?/g,K4=/\u0000|\uFFFD/g;function OT(i){return(typeof i=="string"?i:""+i).replace($4,`
`).replace(K4,"")}function VT(i,s){return s=OT(s),OT(i)===s}function pf(){}function St(i,s,o,c,m,y){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Er(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Er(i,""+c);break;case"className":Hn(i,"class",c);break;case"tabIndex":Hn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(i,o,c);break;case"style":tu(i,c,y);break;case"data":if(s!=="object"){Hn(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Io(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&St(i,s,"name",m.name,m,null),St(i,s,"formEncType",m.formEncType,m,null),St(i,s,"formMethod",m.formMethod,m,null),St(i,s,"formTarget",m.formTarget,m,null)):(St(i,s,"encType",m.encType,m,null),St(i,s,"method",m.method,m,null),St(i,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Io(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=pf);break;case"onScroll":c!=null&&rt("scroll",i);break;case"onScrollEnd":c!=null&&rt("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Io(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":rt("beforetoggle",i),rt("toggle",i),Pn(i,"popover",c);break;case"xlinkActuate":qe(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":qe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":qe(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":qe(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":qe(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":qe(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":qe(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":qe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":qe(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Pn(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Em.get(o)||o,Pn(i,o,c))}}function Jp(i,s,o,c,m,y){switch(o){case"style":tu(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Er(i,c):(typeof c=="number"||typeof c=="bigint")&&Er(i,""+c);break;case"onScroll":c!=null&&rt("scroll",i);break;case"onScrollEnd":c!=null&&rt("scrollend",i);break;case"onClick":c!=null&&(i.onclick=pf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tr.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),y=i[ye]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(s,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Pn(i,o,c)}}}function Sn(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",i),rt("load",i);var c=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var S=o[y];if(S!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:St(i,s,y,S,o,null)}}m&&St(i,s,"srcSet",o.srcSet,o,null),c&&St(i,s,"src",o.src,o,null);return;case"input":rt("invalid",i);var P=y=S=m=null,q=null,ee=null;for(c in o)if(o.hasOwnProperty(c)){var le=o[c];if(le!=null)switch(c){case"name":m=le;break;case"type":S=le;break;case"checked":q=le;break;case"defaultChecked":ee=le;break;case"value":y=le;break;case"defaultValue":P=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,s));break;default:St(i,s,c,le,o,null)}}Ma(i,y,P,q,ee,S,m,!1),Co(i);return;case"select":rt("invalid",i),c=S=y=null;for(m in o)if(o.hasOwnProperty(m)&&(P=o[m],P!=null))switch(m){case"value":y=P;break;case"defaultValue":S=P;break;case"multiple":c=P;default:St(i,s,m,P,o,null)}s=y,o=S,i.multiple=!!c,s!=null?Fi(i,!!c,s,!1):o!=null&&Fi(i,!!c,o,!0);return;case"textarea":rt("invalid",i),y=m=c=null;for(S in o)if(o.hasOwnProperty(S)&&(P=o[S],P!=null))switch(S){case"value":c=P;break;case"defaultValue":m=P;break;case"children":y=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:St(i,s,S,P,o,null)}Oa(i,c,m,y),Co(i);return;case"option":for(q in o)if(o.hasOwnProperty(q)&&(c=o[q],c!=null))switch(q){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:St(i,s,q,c,o,null)}return;case"dialog":rt("beforetoggle",i),rt("toggle",i),rt("cancel",i),rt("close",i);break;case"iframe":case"object":rt("load",i);break;case"video":case"audio":for(c=0;c<Uu.length;c++)rt(Uu[c],i);break;case"image":rt("error",i),rt("load",i);break;case"details":rt("toggle",i);break;case"embed":case"source":case"link":rt("error",i),rt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(c=o[ee],c!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:St(i,s,ee,c,o,null)}return;default:if(nu(s)){for(le in o)o.hasOwnProperty(le)&&(c=o[le],c!==void 0&&Jp(i,s,le,c,o,void 0));return}}for(P in o)o.hasOwnProperty(P)&&(c=o[P],c!=null&&St(i,s,P,c,o,null))}function Y4(i,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,S=null,P=null,q=null,ee=null,le=null;for(re in o){var fe=o[re];if(o.hasOwnProperty(re)&&fe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":q=fe;default:c.hasOwnProperty(re)||St(i,s,re,null,c,fe)}}for(var ne in c){var re=c[ne];if(fe=o[ne],c.hasOwnProperty(ne)&&(re!=null||fe!=null))switch(ne){case"type":y=re;break;case"name":m=re;break;case"checked":ee=re;break;case"defaultChecked":le=re;break;case"value":S=re;break;case"defaultValue":P=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:re!==fe&&St(i,s,ne,re,c,fe)}}sr(i,S,P,q,ee,le,y,m);return;case"select":re=S=P=ne=null;for(y in o)if(q=o[y],o.hasOwnProperty(y)&&q!=null)switch(y){case"value":break;case"multiple":re=q;default:c.hasOwnProperty(y)||St(i,s,y,null,c,q)}for(m in c)if(y=c[m],q=o[m],c.hasOwnProperty(m)&&(y!=null||q!=null))switch(m){case"value":ne=y;break;case"defaultValue":P=y;break;case"multiple":S=y;default:y!==q&&St(i,s,m,y,c,q)}s=P,o=S,c=re,ne!=null?Fi(i,!!o,ne,!1):!!c!=!!o&&(s!=null?Fi(i,!!o,s,!0):Fi(i,!!o,o?[]:"",!1));return;case"textarea":re=ne=null;for(P in o)if(m=o[P],o.hasOwnProperty(P)&&m!=null&&!c.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:St(i,s,P,null,c,m)}for(S in c)if(m=c[S],y=o[S],c.hasOwnProperty(S)&&(m!=null||y!=null))switch(S){case"value":ne=m;break;case"defaultValue":re=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&St(i,s,S,m,c,y)}bt(i,ne,re);return;case"option":for(var Fe in o)if(ne=o[Fe],o.hasOwnProperty(Fe)&&ne!=null&&!c.hasOwnProperty(Fe))switch(Fe){case"selected":i.selected=!1;break;default:St(i,s,Fe,null,c,ne)}for(q in c)if(ne=c[q],re=o[q],c.hasOwnProperty(q)&&ne!==re&&(ne!=null||re!=null))switch(q){case"selected":i.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:St(i,s,q,ne,c,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in o)ne=o[Le],o.hasOwnProperty(Le)&&ne!=null&&!c.hasOwnProperty(Le)&&St(i,s,Le,null,c,ne);for(ee in c)if(ne=c[ee],re=o[ee],c.hasOwnProperty(ee)&&ne!==re&&(ne!=null||re!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:St(i,s,ee,ne,c,re)}return;default:if(nu(s)){for(var At in o)ne=o[At],o.hasOwnProperty(At)&&ne!==void 0&&!c.hasOwnProperty(At)&&Jp(i,s,At,void 0,c,ne);for(le in c)ne=c[le],re=o[le],!c.hasOwnProperty(le)||ne===re||ne===void 0&&re===void 0||Jp(i,s,le,ne,c,re);return}}for(var X in o)ne=o[X],o.hasOwnProperty(X)&&ne!=null&&!c.hasOwnProperty(X)&&St(i,s,X,null,c,ne);for(fe in c)ne=c[fe],re=o[fe],!c.hasOwnProperty(fe)||ne===re||ne==null&&re==null||St(i,s,fe,ne,c,re)}var eg=null,tg=null;function gf(i){return i.nodeType===9?i:i.ownerDocument}function LT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function ng(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var rg=null;function X4(){var i=window.event;return i&&i.type==="popstate"?i===rg?!1:(rg=i,!0):(rg=null,!1)}var jT=typeof setTimeout=="function"?setTimeout:void 0,Q4=typeof clearTimeout=="function"?clearTimeout:void 0,UT=typeof Promise=="function"?Promise:void 0,W4=typeof queueMicrotask=="function"?queueMicrotask:typeof UT<"u"?function(i){return UT.resolve(null).then(i).catch(Z4)}:jT;function Z4(i){setTimeout(function(){throw i})}function Ks(i){return i==="head"}function BT(i,s){var o=s,c=0,m=0;do{var y=o.nextSibling;if(i.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<c&&8>c){o=c;var S=i.ownerDocument;if(o&1&&zu(S.documentElement),o&2&&zu(S.body),o&4)for(o=S.head,zu(o),S=o.firstChild;S;){var P=S.nextSibling,q=S.nodeName;S[Ve]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&S.rel.toLowerCase()==="stylesheet"||o.removeChild(S),S=P}}if(m===0){i.removeChild(y),Xu(s);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:c=o.charCodeAt(0)-48;else c=0;o=y}while(o);Xu(s)}function ig(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ig(o),Ce(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function J4(i,s,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ve])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Xr(i.nextSibling),i===null)break}return null}function eI(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Xr(i.nextSibling),i===null))return null;return i}function sg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function tI(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Xr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var ag=null;function zT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function FT(i,s,o){switch(s=gf(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function zu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ce(i)}var Nr=new Map,HT=new Set;function yf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var os=te.d;te.d={f:nI,r:rI,D:iI,C:sI,L:aI,m:oI,X:uI,S:lI,M:cI};function nI(){var i=os.f(),s=lf();return i||s}function rI(i){var s=tt(i);s!==null&&s.tag===5&&s.type==="form"?u1(s):os.r(i)}var ul=typeof document>"u"?null:document;function qT(i,s,o){var c=ul;if(c&&typeof s=="string"&&s){var m=Qt(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),HT.has(m)||(HT.add(m),i={rel:i,crossOrigin:o,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),Sn(s,"link",i),at(s),c.head.appendChild(s)))}}function iI(i){os.D(i),qT("dns-prefetch",i,null)}function sI(i,s){os.C(i,s),qT("preconnect",i,s)}function aI(i,s,o){os.L(i,s,o);var c=ul;if(c&&i&&s){var m='link[rel="preload"][as="'+Qt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Qt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Qt(o.imageSizes)+'"]')):m+='[href="'+Qt(i)+'"]';var y=m;switch(s){case"style":y=cl(i);break;case"script":y=hl(i)}Nr.has(y)||(i=g({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Nr.set(y,i),c.querySelector(m)!==null||s==="style"&&c.querySelector(Fu(y))||s==="script"&&c.querySelector(Hu(y))||(s=c.createElement("link"),Sn(s,"link",i),at(s),c.head.appendChild(s)))}}function oI(i,s){os.m(i,s);var o=ul;if(o&&i){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Qt(c)+'"][href="'+Qt(i)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=hl(i)}if(!Nr.has(y)&&(i=g({rel:"modulepreload",href:i},s),Nr.set(y,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Hu(y)))return}c=o.createElement("link"),Sn(c,"link",i),at(c),o.head.appendChild(c)}}}function lI(i,s,o){os.S(i,s,o);var c=ul;if(c&&i){var m=ft(c).hoistableStyles,y=cl(i);s=s||"default";var S=m.get(y);if(!S){var P={loading:0,preload:null};if(S=c.querySelector(Fu(y)))P.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Nr.get(y))&&og(i,o);var q=S=c.createElement("link");at(q),Sn(q,"link",i),q._p=new Promise(function(ee,le){q.onload=ee,q.onerror=le}),q.addEventListener("load",function(){P.loading|=1}),q.addEventListener("error",function(){P.loading|=2}),P.loading|=4,vf(S,s,c)}S={type:"stylesheet",instance:S,count:1,state:P},m.set(y,S)}}}function uI(i,s){os.X(i,s);var o=ul;if(o&&i){var c=ft(o).hoistableScripts,m=hl(i),y=c.get(m);y||(y=o.querySelector(Hu(m)),y||(i=g({src:i,async:!0},s),(s=Nr.get(m))&&lg(i,s),y=o.createElement("script"),at(y),Sn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function cI(i,s){os.M(i,s);var o=ul;if(o&&i){var c=ft(o).hoistableScripts,m=hl(i),y=c.get(m);y||(y=o.querySelector(Hu(m)),y||(i=g({src:i,async:!0,type:"module"},s),(s=Nr.get(m))&&lg(i,s),y=o.createElement("script"),at(y),Sn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function GT(i,s,o,c){var m=(m=ve.current)?yf(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=cl(o.href),o=ft(m).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=cl(o.href);var y=ft(m).hoistableStyles,S=y.get(i);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,S),(y=m.querySelector(Fu(i)))&&!y._p&&(S.instance=y,S.state.loading=5),Nr.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Nr.set(i,o),y||hI(m,i,o,S.state))),s&&c===null)throw Error(r(528,""));return S}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=hl(o),o=ft(m).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function cl(i){return'href="'+Qt(i)+'"'}function Fu(i){return'link[rel="stylesheet"]['+i+"]"}function $T(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function hI(i,s,o,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Sn(s,"link",o),at(s),i.head.appendChild(s))}function hl(i){return'[src="'+Qt(i)+'"]'}function Hu(i){return"script[async]"+i}function KT(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Qt(o.href)+'"]');if(c)return s.instance=c,at(c),c;var m=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),at(c),Sn(c,"style",m),vf(c,o.precedence,i),s.instance=c;case"stylesheet":m=cl(o.href);var y=i.querySelector(Fu(m));if(y)return s.state.loading|=4,s.instance=y,at(y),y;c=$T(o),(m=Nr.get(m))&&og(c,m),y=(i.ownerDocument||i).createElement("link"),at(y);var S=y;return S._p=new Promise(function(P,q){S.onload=P,S.onerror=q}),Sn(y,"link",c),s.state.loading|=4,vf(y,o.precedence,i),s.instance=y;case"script":return y=hl(o.src),(m=i.querySelector(Hu(y)))?(s.instance=m,at(m),m):(c=o,(m=Nr.get(y))&&(c=g({},o),lg(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),at(m),Sn(m,"link",c),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,vf(c,o.precedence,i));return s.instance}function vf(i,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,S=0;S<c.length;S++){var P=c[S];if(P.dataset.precedence===s)y=P;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function og(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function lg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var _f=null;function YT(i,s,o){if(_f===null){var c=new Map,m=_f=new Map;m.set(o,c)}else m=_f,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var y=o[m];if(!(y[Ve]||y[he]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(s)||"";S=i+S;var P=c.get(S);P?P.push(y):c.set(S,[y])}}return c}function XT(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function fI(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function QT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var qu=null;function dI(){}function mI(i,s,o){if(qu===null)throw Error(r(475));var c=qu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=cl(o.href),y=i.querySelector(Fu(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Tf.bind(c),i.then(c,c)),s.state.loading|=4,s.instance=y,at(y);return}y=i.ownerDocument||i,o=$T(o),(m=Nr.get(m))&&og(o,m),y=y.createElement("link"),at(y);var S=y;S._p=new Promise(function(P,q){S.onload=P,S.onerror=q}),Sn(y,"link",o),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Tf.bind(c),i.addEventListener("load",s),i.addEventListener("error",s))}}function pI(){if(qu===null)throw Error(r(475));var i=qu;return i.stylesheets&&i.count===0&&ug(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&ug(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Tf(){if(this.count--,this.count===0){if(this.stylesheets)ug(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var wf=null;function ug(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,wf=new Map,s.forEach(gI,i),wf=null,Tf.call(i))}function gI(i,s){if(!(s.state.loading&4)){var o=wf.get(i);if(o)var c=o.get(null);else{o=new Map,wf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var S=m[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),c=S)}c&&o.set(null,c)}m=s.instance,S=m.getAttribute("data-precedence"),y=o.get(S)||c,y===c&&o.set(null,m),o.set(S,m),this.count++,c=Tf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var Gu={$$typeof:O,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function yI(i,s,o,c,m,y,S,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_r(0),this.hiddenUpdates=_r(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function WT(i,s,o,c,m,y,S,P,q,ee,le,fe){return i=new yI(i,s,o,S,P,q,ee,fe),s=1,y===!0&&(s|=24),y=or(3,null,null,s),i.current=y,y.stateNode=i,s=qm(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:s},Ym(y),i}function ZT(i){return i?(i=Fo,i):Fo}function JT(i,s,o,c,m,y){m=ZT(m),c.context===null?c.context=m:c.pendingContext=m,c=Os(s),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=Vs(i,c,s),o!==null&&(fr(o,i,s),wu(o,i,s))}function ew(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function cg(i,s){ew(i,s),(i=i.alternate)&&ew(i,s)}function tw(i){if(i.tag===13){var s=zo(i,67108864);s!==null&&fr(s,i,67108864),cg(i,67108864)}}var Ef=!0;function vI(i,s,o,c){var m=K.T;K.T=null;var y=te.p;try{te.p=2,hg(i,s,o,c)}finally{te.p=y,K.T=m}}function _I(i,s,o,c){var m=K.T;K.T=null;var y=te.p;try{te.p=8,hg(i,s,o,c)}finally{te.p=y,K.T=m}}function hg(i,s,o,c){if(Ef){var m=fg(c);if(m===null)Zp(i,s,c,bf,o),rw(i,c);else if(wI(m,i,s,o,c))c.stopPropagation();else if(rw(i,c),s&4&&-1<TI.indexOf(i)){for(;m!==null;){var y=tt(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=nr(y.pendingLanes);if(S!==0){var P=y;for(P.pendingLanes|=2,P.entangledLanes|=2;S;){var q=1<<31-Yt(S);P.entanglements[1]|=q,S&=~q}Ei(y),(Tt&6)===0&&(af=Bn()+500,ju(0))}}break;case 13:P=zo(y,2),P!==null&&fr(P,y,2),lf(),cg(y,2)}if(y=fg(c),y===null&&Zp(i,s,c,bf,o),y===m)break;m=y}m!==null&&c.stopPropagation()}else Zp(i,s,c,null,o)}}function fg(i){return i=br(i),dg(i)}var bf=null;function dg(i){if(bf=null,i=ke(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=u(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return bf=i,null}function nw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zl()){case Da:return 2;case bs:return 8;case ji:case qr:return 32;case gr:return 268435456;default:return 32}default:return 32}}var mg=!1,Ys=null,Xs=null,Qs=null,$u=new Map,Ku=new Map,Ws=[],TI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rw(i,s){switch(i){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":$u.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ku.delete(s.pointerId)}}function Yu(i,s,o,c,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},s!==null&&(s=tt(s),s!==null&&tw(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function wI(i,s,o,c,m){switch(s){case"focusin":return Ys=Yu(Ys,i,s,o,c,m),!0;case"dragenter":return Xs=Yu(Xs,i,s,o,c,m),!0;case"mouseover":return Qs=Yu(Qs,i,s,o,c,m),!0;case"pointerover":var y=m.pointerId;return $u.set(y,Yu($u.get(y)||null,i,s,o,c,m)),!0;case"gotpointercapture":return y=m.pointerId,Ku.set(y,Yu(Ku.get(y)||null,i,s,o,c,m)),!0}return!1}function iw(i){var s=ke(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){i.blockedOn=s,Q(i.priority,function(){if(o.tag===13){var c=hr();c=li(c);var m=zo(o,c);m!==null&&fr(m,o,c),cg(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=fg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Hi=c,o.target.dispatchEvent(c),Hi=null}else return s=tt(o),s!==null&&tw(s),i.blockedOn=o,!1;s.shift()}return!0}function sw(i,s,o){xf(i)&&o.delete(s)}function EI(){mg=!1,Ys!==null&&xf(Ys)&&(Ys=null),Xs!==null&&xf(Xs)&&(Xs=null),Qs!==null&&xf(Qs)&&(Qs=null),$u.forEach(sw),Ku.forEach(sw)}function Sf(i,s){i.blockedOn===s&&(i.blockedOn=null,mg||(mg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,EI)))}var Af=null;function aw(i){Af!==i&&(Af=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Af===i&&(Af=null);for(var s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],m=i[s+2];if(typeof c!="function"){if(dg(c||o)===null)continue;break}var y=tt(o);y!==null&&(i.splice(s,3),s-=3,dp(y,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Xu(i){function s(q){return Sf(q,i)}Ys!==null&&Sf(Ys,i),Xs!==null&&Sf(Xs,i),Qs!==null&&Sf(Qs,i),$u.forEach(s),Ku.forEach(s);for(var o=0;o<Ws.length;o++){var c=Ws[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ws.length&&(o=Ws[0],o.blockedOn===null);)iw(o),o.blockedOn===null&&Ws.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],y=o[c+1],S=m[ye]||null;if(typeof y=="function")S||aw(o);else if(S){var P=null;if(y&&y.hasAttribute("formAction")){if(m=y,S=y[ye]||null)P=S.formAction;else if(dg(m)!==null)continue}else P=S.action;typeof P=="function"?o[c+1]=P:(o.splice(c,3),c-=3),aw(o)}}}function pg(i){this._internalRoot=i}Rf.prototype.render=pg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,c=hr();JT(o,c,i,s,null,null)},Rf.prototype.unmount=pg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;JT(i.current,2,null,i,null,null),lf(),s[Ee]=null}};function Rf(i){this._internalRoot=i}Rf.prototype.unstable_scheduleHydration=function(i){if(i){var s=$();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Ws.length&&s!==0&&s<Ws[o].priority;o++);Ws.splice(o,0,i),o===0&&iw(i)}};var ow=e.version;if(ow!=="19.1.0")throw Error(r(527,ow,"19.1.0"));te.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var bI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cf.isDisabled&&Cf.supportsFiber)try{pt=Cf.inject(bI),Qe=Cf}catch{}}return Wu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,c="",m=b1,y=x1,S=S1,P=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(P=s.unstable_transitionCallbacks)),s=WT(i,1,!1,null,null,o,c,m,y,S,P,null),i[Ee]=s.current,Wp(i),new pg(s)},Wu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var c=!1,m="",y=b1,S=x1,P=S1,q=null,ee=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(P=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(q=o.unstable_transitionCallbacks),o.formState!==void 0&&(ee=o.formState)),s=WT(i,1,!0,s,o??null,c,m,y,S,P,q,ee),s.context=ZT(null),o=s.current,c=hr(),c=li(c),m=Os(c),m.callback=null,Vs(o,m,c),o=c,s.current.lanes=o,Gr(s,o),Ei(s),i[Ee]=s.current,Wp(i),new Rf(s)},Wu.version="19.1.0",Wu}var yw;function MI(){if(yw)return vg.exports;yw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vg.exports=NI(),vg.exports}var OI=MI(),Zu={},vw;function VI(){if(vw)return Zu;vw=1,Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.parse=u,Zu.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function u(_,x){const R=new l,L=_.length;if(L<2)return R;const D=(x==null?void 0:x.decode)||g;let I=0;do{const M=_.indexOf("=",I);if(M===-1)break;const O=_.indexOf(";",I),z=O===-1?L:O;if(M>z){I=_.lastIndexOf(";",M-1)+1;continue}const F=h(_,I,M),j=f(_,M,F),A=_.slice(F,j);if(R[A]===void 0){let b=h(_,M+1,z),C=f(_,z,b);const U=D(_.slice(b,C));R[A]=U}I=z+1}while(I<L);return R}function h(_,x,R){do{const L=_.charCodeAt(x);if(L!==32&&L!==9)return x}while(++x<R);return R}function f(_,x,R){for(;x>R;){const L=_.charCodeAt(--x);if(L!==32&&L!==9)return x+1}return R}function p(_,x,R){const L=(R==null?void 0:R.encode)||encodeURIComponent;if(!t.test(_))throw new TypeError(`argument name is invalid: ${_}`);const D=L(x);if(!e.test(D))throw new TypeError(`argument val is invalid: ${x}`);let I=_+"="+D;if(!R)return I;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);I+="; Max-Age="+R.maxAge}if(R.domain){if(!n.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);I+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);I+="; Path="+R.path}if(R.expires){if(!v(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);I+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(I+="; HttpOnly"),R.secure&&(I+="; Secure"),R.partitioned&&(I+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return I}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function v(_){return a.call(_)==="[object Date]"}return Zu}VI();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Zx=t=>{throw TypeError(t)},LI=(t,e,n)=>e.has(t)||Zx("Cannot "+n),Eg=(t,e,n)=>(LI(t,e,"read from private field"),n?n.call(t):e.get(t)),kI=(t,e,n)=>e.has(t)?Zx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),_w="popstate";function jI(t={}){function e(r,a){let{pathname:l,search:u,hash:h}=r.location;return Ac("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:pa(a)}return BI(e,n,null,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UI(){return Math.random().toString(36).substring(2,10)}function Tw(t,e){return{usr:t.state,key:t.key,idx:e}}function Ac(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?xa(e):e,state:n,key:e&&e.key||r||UI()}}function pa({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function BI(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,u=a.history,h="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function v(){h="POP";let D=g(),I=D==null?null:D-p;p=D,f&&f({action:h,location:L.location,delta:I})}function _(D,I){h="PUSH";let M=Ac(L.location,D,I);p=g()+1;let O=Tw(M,p),z=L.createHref(M);try{u.pushState(O,"",z)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;a.location.assign(z)}l&&f&&f({action:h,location:L.location,delta:1})}function x(D,I){h="REPLACE";let M=Ac(L.location,D,I);p=g();let O=Tw(M,p),z=L.createHref(M);u.replaceState(O,"",z),l&&f&&f({action:h,location:L.location,delta:0})}function R(D){return Jx(D)}let L={get action(){return h},get location(){return t(a,u)},listen(D){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(_w,v),f=D,()=>{a.removeEventListener(_w,v),f=null}},createHref(D){return e(a,D)},createURL:R,encodeLocation(D){let I=R(D);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:_,replace:x,go(D){return u.go(D)}};return L}function Jx(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:pa(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var ac,ww=class{constructor(t){if(kI(this,ac,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Eg(this,ac).has(t))return Eg(this,ac).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Eg(this,ac).set(t,e)}};ac=new WeakMap;var zI=new Set(["lazy","caseSensitive","path","id","index","children"]);function FI(t){return zI.has(t)}var HI=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function qI(t){return HI.has(t)}function GI(t){return t.index===!0}function ad(t,e,n=[],r={}){return t.map((a,l)=>{let u=[...n,String(l)],h=typeof a.id=="string"?a.id:u.join("-");if(Xe(a.index!==!0||!a.children,"Cannot specify children on an index route"),Xe(!r[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),GI(a)){let f={...a,...e(a),id:h};return r[h]=f,f}else{let f={...a,...e(a),id:h,children:void 0};return r[h]=f,a.children&&(f.children=ad(a.children,e,u,r)),f}})}function ia(t,e,n="/"){return Ff(t,e,n,!1)}function Ff(t,e,n,r){let a=typeof e=="string"?xa(e):e,l=Fr(a.pathname||"/",n);if(l==null)return null;let u=eS(t);KI(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=iD(l);h=nD(u[f],p,r)}return h}function $I(t,e){let{route:n,pathname:r,params:a}=t;return{id:n.id,pathname:r,params:a,data:e[n.id],handle:n.handle}}function eS(t,e=[],n=[],r=""){let a=(l,u,h)=>{let f={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};f.relativePath.startsWith("/")&&(Xe(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=Ai([r,f.relativePath]),g=n.concat(f);l.children&&l.children.length>0&&(Xe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),eS(l.children,e,g,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:eD(p,l.index),routesMeta:g})};return t.forEach((l,u)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))a(l,u);else for(let f of tS(l.path))a(l,u,f)}),e}function tS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let u=tS(r.join("/")),h=[];return h.push(...u.map(f=>f===""?l:[l,f].join("/"))),a&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function KI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var YI=/^:[\w-]+$/,XI=3,QI=2,WI=1,ZI=10,JI=-2,Ew=t=>t==="*";function eD(t,e){let n=t.split("/"),r=n.length;return n.some(Ew)&&(r+=JI),e&&(r+=QI),n.filter(a=>!Ew(a)).reduce((a,l)=>a+(YI.test(l)?XI:l===""?WI:ZI),r)}function tD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function nD(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",v=od({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),_=f.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=od({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:Ai([l,v.pathname]),pathnameBase:oD(Ai([l,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(l=Ai([l,v.pathnameBase]))}return u}function od(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rD(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},_)=>{if(g==="*"){let R=h[_]||"";u=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const x=h[_];return v&&!x?p[g]=void 0:p[g]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function rD(t,e=!1,n=!0){zt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function iD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Fr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sD(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?xa(t):t;return{pathname:n?n.startsWith("/")?n:aD(n,e):e,search:lD(r),hash:uD(a)}}function aD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function bg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ud(t){let e=nS(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Bd(t,e,n,r=!1){let a;typeof t=="string"?a=xa(t):(a={...t},Xe(!a.pathname||!a.pathname.includes("?"),bg("?","pathname","search",a)),Xe(!a.pathname||!a.pathname.includes("#"),bg("#","pathname","hash",a)),Xe(!a.search||!a.search.includes("#"),bg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!r&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),v-=1;a.pathname=_.join("/")}h=v>=0?e[v]:"/"}let f=sD(a,h),p=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var Ai=t=>t.join("/").replace(/\/\/+/g,"/"),oD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,ld=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Rc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var rS=["POST","PUT","PATCH","DELETE"],cD=new Set(rS),hD=["GET",...rS],fD=new Set(hD),dD=new Set([301,302,303,307,308]),mD=new Set([307,308]),xg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},pD={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ju={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},hv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gD=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),iS="remix-router-transitions",sS=Symbol("ResetLoaderData");function yD(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Xe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],a=t.mapRouteProperties||gD,l={},u=ad(t.routes,a,void 0,l),h,f=t.basename||"/",p=t.dataStrategy||ED,g={unstable_middleware:!1,...t.future},v=null,_=new Set,x=null,R=null,L=null,D=t.hydrationData!=null,I=ia(u,t.history.location,f),M=!1,O=null,z;if(I==null&&!t.patchRoutesOnNavigation){let $=Vr(404,{pathname:t.history.location.pathname}),{matches:Q,route:J}=Ow(u);z=!0,I=Q,O={[J.id]:$}}else if(I&&!t.hydrationData&&zn(I,u,t.history.location.pathname).active&&(I=null),I)if(I.some($=>$.route.lazy))z=!1;else if(!I.some($=>$.route.loader))z=!0;else{let $=t.hydrationData?t.hydrationData.loaderData:null,Q=t.hydrationData?t.hydrationData.errors:null;if(Q){let J=I.findIndex(he=>Q[he.route.id]!==void 0);z=I.slice(0,J+1).every(he=>!iy(he.route,$,Q))}else z=I.every(J=>!iy(J.route,$,Q))}else{z=!1,I=[];let $=zn(null,u,t.history.location.pathname);$.active&&$.matches&&(M=!0,I=$.matches)}let F,j={historyAction:t.history.action,location:t.history.location,matches:I,initialized:z,navigation:xg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||O,fetchers:new Map,blockers:new Map},A="POP",b=!1,C,U=!1,B=new Map,G=null,V=!1,ae=!1,oe=new Set,K=new Map,te=0,pe=-1,we=new Map,H=new Set,ie=new Map,ge=new Map,ue=new Set,Te=new Map,Ue,ve=null;function Ie(){if(v=t.history.listen(({action:$,location:Q,delta:J})=>{if(Ue){Ue(),Ue=void 0;return}zt(Te.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let he=As({currentLocation:j.location,nextLocation:Q,historyAction:$});if(he&&J!=null){let ye=new Promise(Ee=>{Ue=Ee});t.history.go(J*-1),vr(he,{state:"blocked",location:Q,proceed(){vr(he,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),ye.then(()=>t.history.go(J))},reset(){let Ee=new Map(j.blockers);Ee.set(he,Ju),Pt({blockers:Ee})}});return}return Un($,Q)}),n){MD(e,B);let $=()=>OD(e,B);e.addEventListener("pagehide",$),G=()=>e.removeEventListener("pagehide",$)}return j.initialized||Un("POP",j.location,{initialHydration:!0}),F}function Ne(){v&&v(),G&&G(),_.clear(),C&&C.abort(),j.fetchers.forEach(($,Q)=>Yt(Q)),j.blockers.forEach(($,Q)=>Ui(Q))}function Et($){return _.add($),()=>_.delete($)}function Pt($,Q={}){j={...j,...$};let J=[],he=[];j.fetchers.forEach((ye,Ee)=>{ye.state==="idle"&&(ue.has(Ee)?J.push(Ee):he.push(Ee))}),ue.forEach(ye=>{!j.fetchers.has(ye)&&!K.has(ye)&&J.push(ye)}),[..._].forEach(ye=>ye(j,{deletedFetchers:J,viewTransitionOpts:Q.viewTransitionOpts,flushSync:Q.flushSync===!0})),J.forEach(ye=>Yt(ye)),he.forEach(ye=>j.fetchers.delete(ye))}function dn($,Q,{flushSync:J}={}){var De,Ve;let he=j.actionData!=null&&j.navigation.formMethod!=null&&mr(j.navigation.formMethod)&&j.navigation.state==="loading"&&((De=$.state)==null?void 0:De._isRedirect)!==!0,ye;Q.actionData?Object.keys(Q.actionData).length>0?ye=Q.actionData:ye=null:he?ye=j.actionData:ye=null;let Ee=Q.loaderData?Nw(j.loaderData,Q.loaderData,Q.matches||[],Q.errors):j.loaderData,Oe=j.blockers;Oe.size>0&&(Oe=new Map(Oe),Oe.forEach((Ce,ke)=>Oe.set(ke,Ju)));let xe=b===!0||j.navigation.formMethod!=null&&mr(j.navigation.formMethod)&&((Ve=$.state)==null?void 0:Ve._isRedirect)!==!0;h&&(u=h,h=void 0),V||A==="POP"||(A==="PUSH"?t.history.push($,$.state):A==="REPLACE"&&t.history.replace($,$.state));let Re;if(A==="POP"){let Ce=B.get(j.location.pathname);Ce&&Ce.has($.pathname)?Re={currentLocation:j.location,nextLocation:$}:B.has($.pathname)&&(Re={currentLocation:$,nextLocation:j.location})}else if(U){let Ce=B.get(j.location.pathname);Ce?Ce.add($.pathname):(Ce=new Set([$.pathname]),B.set(j.location.pathname,Ce)),Re={currentLocation:j.location,nextLocation:$}}Pt({...Q,actionData:ye,loaderData:Ee,historyAction:A,location:$,initialized:!0,navigation:xg,revalidation:"idle",restoreScrollPosition:Rs($,Q.matches||j.matches),preventScrollReset:xe,blockers:Oe},{viewTransitionOpts:Re,flushSync:J===!0}),A="POP",b=!1,U=!1,V=!1,ae=!1,ve==null||ve.resolve(),ve=null}async function ri($,Q){if(typeof $=="number"){t.history.go($);return}let J=ry(j.location,j.matches,f,$,Q==null?void 0:Q.fromRouteId,Q==null?void 0:Q.relative),{path:he,submission:ye,error:Ee}=bw(!1,J,Q),Oe=j.location,xe=Ac(j.location,he,Q&&Q.state);xe={...xe,...t.history.encodeLocation(xe)};let Re=Q&&Q.replace!=null?Q.replace:void 0,De="PUSH";Re===!0?De="REPLACE":Re===!1||ye!=null&&mr(ye.formMethod)&&ye.formAction===j.location.pathname+j.location.search&&(De="REPLACE");let Ve=Q&&"preventScrollReset"in Q?Q.preventScrollReset===!0:void 0,Ce=(Q&&Q.flushSync)===!0,ke=As({currentLocation:Oe,nextLocation:xe,historyAction:De});if(ke){vr(ke,{state:"blocked",location:xe,proceed(){vr(ke,{state:"proceeding",proceed:void 0,reset:void 0,location:xe}),ri($,Q)},reset(){let tt=new Map(j.blockers);tt.set(ke,Ju),Pt({blockers:tt})}});return}await Un(De,xe,{submission:ye,pendingError:Ee,preventScrollReset:Ve,replace:Q&&Q.replace,enableViewTransition:Q&&Q.viewTransition,flushSync:Ce})}function ki(){ve||(ve=VD()),Ss(),Pt({revalidation:"loading"});let $=ve.promise;return j.navigation.state==="submitting"?$:j.navigation.state==="idle"?(Un(j.historyAction,j.location,{startUninterruptedRevalidation:!0}),$):(Un(A||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:U===!0}),$)}async function Un($,Q,J){C&&C.abort(),C=null,A=$,V=(J&&J.startUninterruptedRevalidation)===!0,Gr(j.location,j.matches),b=(J&&J.preventScrollReset)===!0,U=(J&&J.enableViewTransition)===!0;let he=h||u,ye=J&&J.overrideNavigation,Ee=J!=null&&J.initialHydration&&j.matches&&j.matches.length>0&&!M?j.matches:ia(he,Q,f),Oe=(J&&J.flushSync)===!0;if(Ee&&j.initialized&&!ae&&CD(j.location,Q)&&!(J&&J.submission&&mr(J.submission.formMethod))){dn(Q,{matches:Ee},{flushSync:Oe});return}let xe=zn(Ee,he,Q.pathname);if(xe.active&&xe.matches&&(Ee=xe.matches),!Ee){let{error:ft,notFoundMatches:at,route:Je}=Bi(Q.pathname);dn(Q,{matches:at,loaderData:{},errors:{[Je.id]:ft}},{flushSync:Oe});return}C=new AbortController;let Re=fl(t.history,Q,C.signal,J&&J.submission),De=new ww(t.unstable_getContext?await t.unstable_getContext():void 0),Ve;if(J&&J.pendingError)Ve=[oo(Ee).route.id,{type:"error",error:J.pendingError}];else if(J&&J.submission&&mr(J.submission.formMethod)){let ft=await Ia(Re,Q,J.submission,Ee,De,xe.active,J&&J.initialHydration===!0,{replace:J.replace,flushSync:Oe});if(ft.shortCircuited)return;if(ft.pendingActionResult){let[at,Je]=ft.pendingActionResult;if(dr(Je)&&Rc(Je.error)&&Je.error.status===404){C=null,dn(Q,{matches:ft.matches,loaderData:{},errors:{[at]:Je.error}});return}}Ee=ft.matches||Ee,Ve=ft.pendingActionResult,ye=Sg(Q,J.submission),Oe=!1,xe.active=!1,Re=fl(t.history,Re.url,Re.signal)}let{shortCircuited:Ce,matches:ke,loaderData:tt,errors:yt}=await Ao(Re,Q,Ee,De,xe.active,ye,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,Oe,Ve);Ce||(C=null,dn(Q,{matches:ke||Ee,...Mw(Ve),loaderData:tt,errors:yt}))}async function Ia($,Q,J,he,ye,Ee,Oe,xe={}){Ss();let Re=PD(Q,J);if(Pt({navigation:Re},{flushSync:xe.flushSync===!0}),Ee){let Ce=await oi(he,Q.pathname,$.signal);if(Ce.type==="aborted")return{shortCircuited:!0};if(Ce.type==="error"){let ke=oo(Ce.partialMatches).route.id;return{matches:Ce.partialMatches,pendingActionResult:[ke,{type:"error",error:Ce.error}]}}else if(Ce.matches)he=Ce.matches;else{let{notFoundMatches:ke,error:tt,route:yt}=Bi(Q.pathname);return{matches:ke,pendingActionResult:[yt.id,{type:"error",error:tt}]}}}let De,Ve=oc(he,Q);if(!Ve.route.action&&!Ve.route.lazy)De={type:"error",error:Vr(405,{method:$.method,pathname:Q.pathname,routeId:Ve.route.id})};else{let Ce=xl(a,l,$,he,Ve,Oe?[]:r,ye),ke=await gr($,Ce,ye,null);if(De=ke[Ve.route.id],!De){for(let tt of he)if(ke[tt.route.id]){De=ke[tt.route.id];break}}if($.signal.aborted)return{shortCircuited:!0}}if(lo(De)){let Ce;return xe&&xe.replace!=null?Ce=xe.replace:Ce=Iw(De.response.headers.get("Location"),new URL($.url),f)===j.location.pathname+j.location.search,await qr($,De,!0,{submission:J,replace:Ce}),{shortCircuited:!0}}if(dr(De)){let Ce=oo(he,Ve.route.id);return(xe&&xe.replace)!==!0&&(A="PUSH"),{matches:he,pendingActionResult:[Ce.route.id,De,Ve.route.id]}}return{matches:he,pendingActionResult:[Ve.route.id,De]}}async function Ao($,Q,J,he,ye,Ee,Oe,xe,Re,De,Ve,Ce){let ke=Ee||Sg(Q,Oe),tt=Oe||xe||Lw(ke),yt=!V&&!De;if(ye){if(yt){let Xt=Bn(Ce);Pt({navigation:ke,...Xt!==void 0?{actionData:Xt}:{}},{flushSync:Ve})}let qe=await oi(J,Q.pathname,$.signal);if(qe.type==="aborted")return{shortCircuited:!0};if(qe.type==="error"){let Xt=oo(qe.partialMatches).route.id;return{matches:qe.partialMatches,loaderData:{},errors:{[Xt]:qe.error}}}else if(qe.matches)J=qe.matches;else{let{error:Xt,notFoundMatches:ir,route:Xn}=Bi(Q.pathname);return{matches:ir,loaderData:{},errors:{[Xn.id]:Xt}}}}let ft=h||u,{dsMatches:at,revalidatingFetchers:Je}=xw($,he,a,l,t.history,j,J,tt,Q,De?[]:r,De===!0,ae,oe,ue,ie,H,ft,f,t.patchRoutesOnNavigation!=null,Ce);if(pe=++te,!t.dataStrategy&&!at.some(qe=>qe.shouldLoad)&&Je.length===0){let qe=si();return dn(Q,{matches:J,loaderData:{},errors:Ce&&dr(Ce[1])?{[Ce[0]]:Ce[1].error}:null,...Mw(Ce),...qe?{fetchers:new Map(j.fetchers)}:{}},{flushSync:Ve}),{shortCircuited:!0}}if(yt){let qe={};if(!ye){qe.navigation=ke;let Xt=Bn(Ce);Xt!==void 0&&(qe.actionData=Xt)}Je.length>0&&(qe.fetchers=Zl(Je)),Pt(qe,{flushSync:Ve})}Je.forEach(qe=>{yr(qe.key),qe.controller&&K.set(qe.key,qe.controller)});let Tr=()=>Je.forEach(qe=>yr(qe.key));C&&C.signal.addEventListener("abort",Tr);let{loaderResults:sn,fetcherResults:Fn}=await xs(at,Je,$,he);if($.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",Tr),Je.forEach(qe=>K.delete(qe.key));let Tn=If(sn);if(Tn)return await qr($,Tn.result,!0,{replace:Re}),{shortCircuited:!0};if(Tn=If(Fn),Tn)return H.add(Tn.key),await qr($,Tn.result,!0,{replace:Re}),{shortCircuited:!0};let{loaderData:ui,errors:rr}=Pw(j,J,sn,Ce,Je,Fn);De&&j.errors&&(rr={...j.errors,...rr});let Is=si(),Pn=ai(pe),Hn=Is||Pn||Je.length>0;return{matches:J,loaderData:ui,errors:rr,...Hn?{fetchers:new Map(j.fetchers)}:{}}}function Bn($){if($&&!dr($[1]))return{[$[0]]:$[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function Zl($){return $.forEach(Q=>{let J=j.fetchers.get(Q.key),he=ec(void 0,J?J.data:void 0);j.fetchers.set(Q.key,he)}),new Map(j.fetchers)}async function Da($,Q,J,he){yr($);let ye=(he&&he.flushSync)===!0,Ee=h||u,Oe=ry(j.location,j.matches,f,J,Q,he==null?void 0:he.relative),xe=ia(Ee,Oe,f),Re=zn(xe,Ee,Oe);if(Re.active&&Re.matches&&(xe=Re.matches),!xe){Qe($,Q,Vr(404,{pathname:Oe}),{flushSync:ye});return}let{path:De,submission:Ve,error:Ce}=bw(!0,Oe,he);if(Ce){Qe($,Q,Ce,{flushSync:ye});return}let ke=oc(xe,De),tt=new ww(t.unstable_getContext?await t.unstable_getContext():void 0),yt=(he&&he.preventScrollReset)===!0;if(Ve&&mr(Ve.formMethod)){await bs($,Q,De,ke,xe,tt,Re.active,ye,yt,Ve);return}ie.set($,{routeId:Q,path:De}),await ji($,Q,De,ke,xe,tt,Re.active,ye,yt,Ve)}async function bs($,Q,J,he,ye,Ee,Oe,xe,Re,De){Ss(),ie.delete($);function Ve(Rt){if(!Rt.route.action&&!Rt.route.lazy){let wr=Vr(405,{method:De.formMethod,pathname:J,routeId:Q});return Qe($,Q,wr,{flushSync:xe}),!0}return!1}if(!Oe&&Ve(he))return;let Ce=j.fetchers.get($);pt($,ND(De,Ce),{flushSync:xe});let ke=new AbortController,tt=fl(t.history,J,ke.signal,De);if(Oe){let Rt=await oi(ye,J,tt.signal,$);if(Rt.type==="aborted")return;if(Rt.type==="error"){Qe($,Q,Rt.error,{flushSync:xe});return}else if(Rt.matches){if(ye=Rt.matches,he=oc(ye,J),Ve(he))return}else{Qe($,Q,Vr(404,{pathname:J}),{flushSync:xe});return}}K.set($,ke);let yt=te,ft=xl(a,l,tt,ye,he,r,Ee),Je=(await gr(tt,ft,Ee,$))[he.route.id];if(tt.signal.aborted){K.get($)===ke&&K.delete($);return}if(ue.has($)){if(lo(Je)||dr(Je)){pt($,na(void 0));return}}else{if(lo(Je))if(K.delete($),pe>yt){pt($,na(void 0));return}else return H.add($),pt($,ec(De)),qr(tt,Je,!1,{fetcherSubmission:De,preventScrollReset:Re});if(dr(Je)){Qe($,Q,Je.error);return}}let Tr=j.navigation.location||j.location,sn=fl(t.history,Tr,ke.signal),Fn=h||u,Tn=j.navigation.state!=="idle"?ia(Fn,j.navigation.location,f):j.matches;Xe(Tn,"Didn't find any matches after fetcher action");let ui=++te;we.set($,ui);let rr=ec(De,Je.data);j.fetchers.set($,rr);let{dsMatches:Is,revalidatingFetchers:Pn}=xw(sn,Ee,a,l,t.history,j,Tn,De,Tr,r,!1,ae,oe,ue,ie,H,Fn,f,t.patchRoutesOnNavigation!=null,[he.route.id,Je]);Pn.filter(Rt=>Rt.key!==$).forEach(Rt=>{let wr=Rt.key,zi=j.fetchers.get(wr),wn=ec(void 0,zi?zi.data:void 0);j.fetchers.set(wr,wn),yr(wr),Rt.controller&&K.set(wr,Rt.controller)}),Pt({fetchers:new Map(j.fetchers)});let Hn=()=>Pn.forEach(Rt=>yr(Rt.key));ke.signal.addEventListener("abort",Hn);let{loaderResults:qe,fetcherResults:Xt}=await xs(Is,Pn,sn,Ee);if(ke.signal.aborted)return;if(ke.signal.removeEventListener("abort",Hn),we.delete($),K.delete($),Pn.forEach(Rt=>K.delete(Rt.key)),j.fetchers.has($)){let Rt=na(Je.data);j.fetchers.set($,Rt)}let ir=If(qe);if(ir)return qr(sn,ir.result,!1,{preventScrollReset:Re});if(ir=If(Xt),ir)return H.add(ir.key),qr(sn,ir.result,!1,{preventScrollReset:Re});let{loaderData:Xn,errors:ci}=Pw(j,Tn,qe,void 0,Pn,Xt);ai(ui),j.navigation.state==="loading"&&ui>pe?(Xe(A,"Expected pending action"),C&&C.abort(),dn(j.navigation.location,{matches:Tn,loaderData:Xn,errors:ci,fetchers:new Map(j.fetchers)})):(Pt({errors:ci,loaderData:Nw(j.loaderData,Xn,Tn,ci),fetchers:new Map(j.fetchers)}),ae=!1)}async function ji($,Q,J,he,ye,Ee,Oe,xe,Re,De){let Ve=j.fetchers.get($);pt($,ec(De,Ve?Ve.data:void 0),{flushSync:xe});let Ce=new AbortController,ke=fl(t.history,J,Ce.signal);if(Oe){let Je=await oi(ye,J,ke.signal,$);if(Je.type==="aborted")return;if(Je.type==="error"){Qe($,Q,Je.error,{flushSync:xe});return}else if(Je.matches)ye=Je.matches,he=oc(ye,J);else{Qe($,Q,Vr(404,{pathname:J}),{flushSync:xe});return}}K.set($,Ce);let tt=te,yt=xl(a,l,ke,ye,he,r,Ee),at=(await gr(ke,yt,Ee,$))[he.route.id];if(K.get($)===Ce&&K.delete($),!ke.signal.aborted){if(ue.has($)){pt($,na(void 0));return}if(lo(at))if(pe>tt){pt($,na(void 0));return}else{H.add($),await qr(ke,at,!1,{preventScrollReset:Re});return}if(dr(at)){Qe($,Q,at.error);return}pt($,na(at.data))}}async function qr($,Q,J,{submission:he,fetcherSubmission:ye,preventScrollReset:Ee,replace:Oe}={}){Q.response.headers.has("X-Remix-Revalidate")&&(ae=!0);let xe=Q.response.headers.get("Location");Xe(xe,"Expected a Location header on the redirect Response"),xe=Iw(xe,new URL($.url),f);let Re=Ac(j.location,xe,{_isRedirect:!0});if(n){let yt=!1;if(Q.response.headers.has("X-Remix-Reload-Document"))yt=!0;else if(hv.test(xe)){const ft=Jx(xe,!0);yt=ft.origin!==e.location.origin||Fr(ft.pathname,f)==null}if(yt){Oe?e.location.replace(xe):e.location.assign(xe);return}}C=null;let De=Oe===!0||Q.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ve,formAction:Ce,formEncType:ke}=j.navigation;!he&&!ye&&Ve&&Ce&&ke&&(he=Lw(j.navigation));let tt=he||ye;if(mD.has(Q.response.status)&&tt&&mr(tt.formMethod))await Un(De,Re,{submission:{...tt,formAction:xe},preventScrollReset:Ee||b,enableViewTransition:J?U:void 0});else{let yt=Sg(Re,he);await Un(De,Re,{overrideNavigation:yt,fetcherSubmission:ye,preventScrollReset:Ee||b,enableViewTransition:J?U:void 0})}}async function gr($,Q,J,he){let ye,Ee={};try{ye=await bD(p,$,Q,he,J,!1)}catch(Oe){return Q.filter(xe=>xe.shouldLoad).forEach(xe=>{Ee[xe.route.id]={type:"error",error:Oe}}),Ee}if($.signal.aborted)return Ee;for(let[Oe,xe]of Object.entries(ye))if(ID(xe)){let Re=xe.result;Ee[Oe]={type:"redirect",response:AD(Re,$,Oe,Q,f)}}else Ee[Oe]=await SD(xe);return Ee}async function xs($,Q,J,he){let ye=gr(J,$,he,null),Ee=Promise.all(Q.map(async Re=>{if(Re.matches&&Re.match&&Re.request&&Re.controller){let Ve=(await gr(Re.request,Re.matches,he,Re.key))[Re.match.route.id];return{[Re.key]:Ve}}else return Promise.resolve({[Re.key]:{type:"error",error:Vr(404,{pathname:Re.path})}})})),Oe=await ye,xe=(await Ee).reduce((Re,De)=>Object.assign(Re,De),{});return{loaderResults:Oe,fetcherResults:xe}}function Ss(){ae=!0,ie.forEach(($,Q)=>{K.has(Q)&&oe.add(Q),yr(Q)})}function pt($,Q,J={}){j.fetchers.set($,Q),Pt({fetchers:new Map(j.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function Qe($,Q,J,he={}){let ye=oo(j.matches,Q);Yt($),Pt({errors:{[ye.route.id]:J},fetchers:new Map(j.fetchers)},{flushSync:(he&&he.flushSync)===!0})}function Dn($){return ge.set($,(ge.get($)||0)+1),ue.has($)&&ue.delete($),j.fetchers.get($)||pD}function Yt($){let Q=j.fetchers.get($);K.has($)&&!(Q&&Q.state==="loading"&&we.has($))&&yr($),ie.delete($),we.delete($),H.delete($),ue.delete($),oe.delete($),j.fetchers.delete($)}function Ro($){let Q=(ge.get($)||0)-1;Q<=0?(ge.delete($),ue.add($)):ge.set($,Q),Pt({fetchers:new Map(j.fetchers)})}function yr($){let Q=K.get($);Q&&(Q.abort(),K.delete($))}function ii($){for(let Q of $){let J=Dn(Q),he=na(J.data);j.fetchers.set(Q,he)}}function si(){let $=[],Q=!1;for(let J of H){let he=j.fetchers.get(J);Xe(he,`Expected fetcher: ${J}`),he.state==="loading"&&(H.delete(J),$.push(J),Q=!0)}return ii($),Q}function ai($){let Q=[];for(let[J,he]of we)if(he<$){let ye=j.fetchers.get(J);Xe(ye,`Expected fetcher: ${J}`),ye.state==="loading"&&(yr(J),we.delete(J),Q.push(J))}return ii(Q),Q.length>0}function nr($,Q){let J=j.blockers.get($)||Ju;return Te.get($)!==Q&&Te.set($,Q),J}function Ui($){j.blockers.delete($),Te.delete($)}function vr($,Q){let J=j.blockers.get($)||Ju;Xe(J.state==="unblocked"&&Q.state==="blocked"||J.state==="blocked"&&Q.state==="blocked"||J.state==="blocked"&&Q.state==="proceeding"||J.state==="blocked"&&Q.state==="unblocked"||J.state==="proceeding"&&Q.state==="unblocked",`Invalid blocker state transition: ${J.state} -> ${Q.state}`);let he=new Map(j.blockers);he.set($,Q),Pt({blockers:he})}function As({currentLocation:$,nextLocation:Q,historyAction:J}){if(Te.size===0)return;Te.size>1&&zt(!1,"A router only supports one blocker at a time");let he=Array.from(Te.entries()),[ye,Ee]=he[he.length-1],Oe=j.blockers.get(ye);if(!(Oe&&Oe.state==="proceeding")&&Ee({currentLocation:$,nextLocation:Q,historyAction:J}))return ye}function Bi($){let Q=Vr(404,{pathname:$}),J=h||u,{matches:he,route:ye}=Ow(J);return{notFoundMatches:he,route:ye,error:Q}}function Pa($,Q,J){if(x=$,L=Q,R=J||null,!D&&j.navigation===xg){D=!0;let he=Rs(j.location,j.matches);he!=null&&Pt({restoreScrollPosition:he})}return()=>{x=null,L=null,R=null}}function _r($,Q){return R&&R($,Q.map(he=>$I(he,j.loaderData)))||$.key}function Gr($,Q){if(x&&L){let J=_r($,Q);x[J]=L()}}function Rs($,Q){if(x){let J=_r($,Q),he=x[J];if(typeof he=="number")return he}return null}function zn($,Q,J){if(t.patchRoutesOnNavigation)if($){if(Object.keys($[0].params).length>0)return{active:!0,matches:Ff(Q,J,f,!0)}}else return{active:!0,matches:Ff(Q,J,f,!0)||[]};return{active:!1,matches:null}}async function oi($,Q,J,he){if(!t.patchRoutesOnNavigation)return{type:"success",matches:$};let ye=$;for(;;){let Ee=h==null,Oe=h||u,xe=l;try{await t.patchRoutesOnNavigation({signal:J,path:Q,matches:ye,fetcherKey:he,patch:(Ve,Ce)=>{J.aborted||Sw(Ve,Ce,Oe,xe,a)}})}catch(Ve){return{type:"error",error:Ve,partialMatches:ye}}finally{Ee&&!J.aborted&&(u=[...u])}if(J.aborted)return{type:"aborted"};let Re=ia(Oe,Q,f);if(Re)return{type:"success",matches:Re};let De=Ff(Oe,Q,f,!0);if(!De||ye.length===De.length&&ye.every((Ve,Ce)=>Ve.route.id===De[Ce].route.id))return{type:"success",matches:null};ye=De}}function li($){l={},h=ad($,a,void 0,l)}function Cs($,Q){let J=h==null;Sw($,Q,h||u,l,a),J&&(u=[...u],Pt({}))}return F={get basename(){return f},get future(){return g},get state(){return j},get routes(){return u},get window(){return e},initialize:Ie,subscribe:Et,enableScrollRestoration:Pa,navigate:ri,fetch:Da,revalidate:ki,createHref:$=>t.history.createHref($),encodeLocation:$=>t.history.encodeLocation($),getFetcher:Dn,deleteFetcher:Ro,dispose:Ne,getBlocker:nr,deleteBlocker:Ui,patchRoutes:Cs,_internalFetchControllers:K,_internalSetRoutes:li},F}function vD(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function ry(t,e,n,r,a,l){let u,h;if(a){u=[];for(let p of e)if(u.push(p),p.route.id===a){h=p;break}}else u=e,h=e[e.length-1];let f=Bd(r||".",Ud(u),Fr(t.pathname,n)||t.pathname,l==="path");if(r==null&&(f.search=t.search,f.hash=t.hash),(r==null||r===""||r===".")&&h){let p=fv(f.search);if(h.route.index&&!p)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&p){let g=new URLSearchParams(f.search),v=g.getAll("index");g.delete("index"),v.filter(x=>x).forEach(x=>g.append("index",x));let _=g.toString();f.search=_?`?${_}`:""}}return n!=="/"&&(f.pathname=f.pathname==="/"?n:Ai([n,f.pathname])),pa(f)}function bw(t,e,n){if(!n||!vD(n))return{path:e};if(n.formMethod&&!DD(n.formMethod))return{path:e,error:Vr(405,{method:n.formMethod})};let r=()=>({path:e,error:Vr(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),u=hS(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!mr(l))return r();let v=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((_,[x,R])=>`${_}${x}=${R}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:v}}}else if(n.formEncType==="application/json"){if(!mr(l))return r();try{let v=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}Xe(typeof FormData=="function","FormData is not available in this environment");let h,f;if(n.formData)h=ay(n.formData),f=n.formData;else if(n.body instanceof FormData)h=ay(n.body),f=n.body;else if(n.body instanceof URLSearchParams)h=n.body,f=Dw(h);else if(n.body==null)h=new URLSearchParams,f=new FormData;else try{h=new URLSearchParams(n.body),f=Dw(h)}catch{return r()}let p={formMethod:l,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(mr(p.formMethod))return{path:e,submission:p};let g=xa(e);return t&&g.search&&fv(g.search)&&h.append("index",""),g.search=`?${h}`,{path:pa(g),submission:p}}function xw(t,e,n,r,a,l,u,h,f,p,g,v,_,x,R,L,D,I,M,O){var V;let z=O?dr(O[1])?O[1].error:O[1].data:void 0,F=a.createURL(l.location),j=a.createURL(f),A;if(g&&l.errors){let ae=Object.keys(l.errors)[0];A=u.findIndex(oe=>oe.route.id===ae)}else if(O&&dr(O[1])){let ae=O[0];A=u.findIndex(oe=>oe.route.id===ae)-1}let b=O?O[1].statusCode:void 0,C=b&&b>=400,U={currentUrl:F,currentParams:((V=l.matches[0])==null?void 0:V.params)||{},nextUrl:j,nextParams:u[0].params,...h,actionResult:z,actionStatus:b},B=u.map((ae,oe)=>{let{route:K}=ae,te=null;if(A!=null&&oe>A?te=!1:K.lazy?te=!0:K.loader==null?te=!1:g?te=iy(K,l.loaderData,l.errors):_D(l.loaderData,l.matches[oe],ae)&&(te=!0),te!==null)return sy(n,r,t,ae,p,e,te);let pe=C?!1:v||F.pathname+F.search===j.pathname+j.search||F.search!==j.search||TD(l.matches[oe],ae),we={...U,defaultShouldRevalidate:pe},H=ud(ae,we);return sy(n,r,t,ae,p,e,H,we)}),G=[];return R.forEach((ae,oe)=>{if(g||!u.some(ue=>ue.route.id===ae.routeId)||x.has(oe))return;let K=l.fetchers.get(oe),te=K&&K.state!=="idle"&&K.data===void 0,pe=ia(D,ae.path,I);if(!pe){if(M&&te)return;G.push({key:oe,routeId:ae.routeId,path:ae.path,matches:null,match:null,request:null,controller:null});return}if(L.has(oe))return;let we=oc(pe,ae.path),H=new AbortController,ie=fl(a,ae.path,H.signal),ge=null;if(_.has(oe))_.delete(oe),ge=xl(n,r,ie,pe,we,p,e);else if(te)v&&(ge=xl(n,r,ie,pe,we,p,e));else{let ue={...U,defaultShouldRevalidate:C?!1:v};ud(we,ue)&&(ge=xl(n,r,ie,pe,we,p,e,ue))}ge&&G.push({key:oe,routeId:ae.routeId,path:ae.path,matches:ge,match:we,request:ie,controller:H})}),{dsMatches:B,revalidatingFetchers:G}}function iy(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,a=n!=null&&n[t.id]!==void 0;return!r&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!a}function _D(t,e,n){let r=!e||n.route.id!==e.route.id,a=!t.hasOwnProperty(n.route.id);return r||a}function TD(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function ud(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Sw(t,e,n,r,a){let l;if(t){let f=r[t];Xe(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),l=f.children}else l=n;let u=e.filter(f=>!l.some(p=>aS(f,p))),h=ad(u,a,[t||"_","patch",String((l==null?void 0:l.length)||"0")],r);l.push(...h)}function aS(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var a;return(a=e.children)==null?void 0:a.some(l=>aS(n,l))}):!1}var Aw=new WeakMap,oS=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let a=n[e.id];if(Xe(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let l=a.lazy[t];if(!l)return;let u=Aw.get(a);u||(u={},Aw.set(a,u));let h=u[t];if(h)return h;let f=(async()=>{let p=FI(t),v=a[t]!==void 0&&t!=="hasErrorBoundary";if(p)zt(!p,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(v)zt(!1,`Route "${a.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let _=await l();_!=null&&(Object.assign(a,{[t]:_}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[t]=void 0,Object.values(a.lazy).every(_=>_===void 0)&&(a.lazy=void 0))})();return u[t]=f,f},Rw=new WeakMap;function wD(t,e,n,r,a){let l=n[t.id];if(Xe(l,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let g=Rw.get(l);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let v=(async()=>{Xe(typeof t.lazy=="function","No lazy route function found");let _=await t.lazy(),x={};for(let R in _){let L=_[R];if(L===void 0)continue;let D=qI(R),M=l[R]!==void 0&&R!=="hasErrorBoundary";D?zt(!D,"Route property "+R+" is not a supported property to be returned from a lazy route function. This property will be ignored."):M?zt(!M,`Route "${l.id}" has a static property "${R}" defined but its lazy function is also returning a value for this property. The lazy route property "${R}" will be ignored.`):x[R]=L}Object.assign(l,x),Object.assign(l,{...r(l),lazy:void 0})})();return Rw.set(l,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let u=Object.keys(t.lazy),h=[],f;for(let g of u){if(a&&a.includes(g))continue;let v=oS({key:g,route:t,manifest:n,mapRouteProperties:r});v&&(h.push(v),g===e&&(f=v))}let p=h.length>0?Promise.all(h).then(()=>{}):void 0;return p==null||p.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:f}}async function Cw(t){let e=t.matches.filter(a=>a.shouldLoad),n={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,l)=>{n[e[l].route.id]=a}),n}async function ED(t){return t.matches.some(e=>e.route.unstable_middleware)?lS(t,!1,()=>Cw(t),(e,n)=>({[n]:{type:"error",result:e}})):Cw(t)}async function lS(t,e,n,r){let{matches:a,request:l,params:u,context:h}=t,f={handlerResult:void 0};try{let p=a.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(_=>[v.route.id,_]):[]),g=await uS({request:l,params:u,context:h},p,e,f,n);return e?g:f.handlerResult}catch(p){if(!f.middlewareError)throw p;let g=await r(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,g):g}}async function uS(t,e,n,r,a,l=0){let{request:u}=t;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let h=e[l];if(!h)return r.handlerResult=await a(),r.handlerResult;let[f,p]=h,g=!1,v,_=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");g=!0,await uS(t,e,n,r,a,l+1)};try{let x=await p({request:t.request,params:t.params,context:t.context},_);return g?x===void 0?v:x:_()}catch(x){throw r.middlewareError?r.middlewareError.error!==x&&(r.middlewareError={routeId:f,error:x}):r.middlewareError={routeId:f,error:x},x}}function cS(t,e,n,r,a){let l=oS({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),u=wD(r.route,mr(n.method)?"action":"loader",e,t,a);return{middleware:l,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function sy(t,e,n,r,a,l,u,h=null){let f=!1,p=cS(t,e,n,r,a);return{...r,_lazyPromises:p,shouldLoad:u,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler(g){return f=!0,h?typeof g=="boolean"?ud(r,{...h,defaultShouldRevalidate:g}):ud(r,h):u},resolve(g){return f||u||g&&n.method==="GET"&&(r.route.lazy||r.route.loader)?xD({request:n,match:r,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:g,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function xl(t,e,n,r,a,l,u,h=null){return r.map(f=>f.route.id!==a.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler:()=>!1,_lazyPromises:cS(t,e,n,f,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:sy(t,e,n,f,l,u,!0,h))}async function bD(t,e,n,r,a,l){n.some(p=>{var g;return(g=p._lazyPromises)==null?void 0:g.middleware})&&await Promise.all(n.map(p=>{var g;return(g=p._lazyPromises)==null?void 0:g.middleware}));let u={request:e,params:n[0].params,context:a,matches:n},f=await t({...u,fetcherKey:r,unstable_runClientMiddleware:p=>{let g=u;return lS(g,!1,()=>p({...g,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(v,_)=>({[_]:{type:"error",result:v}}))}});try{await Promise.all(n.flatMap(p=>{var g,v;return[(g=p._lazyPromises)==null?void 0:g.handler,(v=p._lazyPromises)==null?void 0:v.route]}))}catch{}return f}async function xD({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:a,scopedContext:l}){let u,h,f=mr(t.method),p=f?"action":"loader",g=v=>{let _,x=new Promise((D,I)=>_=I);h=()=>_(),t.signal.addEventListener("abort",h);let R=D=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):v({request:t,params:e.params,context:l},...D!==void 0?[D]:[]),L=(async()=>{try{return{type:"data",result:await(a?a(I=>R(I)):R())}}catch(D){return{type:"error",result:D}}})();return Promise.race([L,x])};try{let v=f?e.route.action:e.route.loader;if(n||r)if(v){let _,[x]=await Promise.all([g(v).catch(R=>{_=R}),n,r]);if(_!==void 0)throw _;u=x}else{await n;let _=f?e.route.action:e.route.loader;if(_)[u]=await Promise.all([g(_),r]);else if(p==="action"){let x=new URL(t.url),R=x.pathname+x.search;throw Vr(405,{method:t.method,pathname:R,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(v)u=await g(v);else{let _=new URL(t.url),x=_.pathname+_.search;throw Vr(404,{pathname:x})}}catch(v){return{type:"error",result:v}}finally{h&&t.signal.removeEventListener("abort",h)}return u}async function SD(t){var r,a,l,u,h,f;let{result:e,type:n}=t;if(fS(e)){let p;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(g){return{type:"error",error:g}}return n==="error"?{type:"error",error:new ld(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return n==="error"?Vw(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new ld(((l=e.init)==null?void 0:l.status)||500,void 0,e.data),statusCode:Rc(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Rc(e)?e.status:void 0}:Vw(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function AD(t,e,n,r,a){let l=t.headers.get("Location");if(Xe(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!hv.test(l)){let u=r.slice(0,r.findIndex(h=>h.route.id===n)+1);l=ry(new URL(e.url),u,a,l),t.headers.set("Location",l)}return t}function Iw(t,e,n){if(hv.test(t)){let r=t,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),l=Fr(a.pathname,n)!=null;if(a.origin===e.origin&&l)return a.pathname+a.search+a.hash}return t}function fl(t,e,n,r){let a=t.createURL(hS(e)).toString(),l={signal:n};if(r&&mr(r.formMethod)){let{formMethod:u,formEncType:h}=r;l.method=u.toUpperCase(),h==="application/json"?(l.headers=new Headers({"Content-Type":h}),l.body=JSON.stringify(r.json)):h==="text/plain"?l.body=r.text:h==="application/x-www-form-urlencoded"&&r.formData?l.body=ay(r.formData):l.body=r.formData}return new Request(a,l)}function ay(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Dw(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function RD(t,e,n,r=!1,a=!1){let l={},u=null,h,f=!1,p={},g=n&&dr(n[1])?n[1].error:void 0;return t.forEach(v=>{if(!(v.route.id in e))return;let _=v.route.id,x=e[_];if(Xe(!lo(x),"Cannot handle redirect results in processLoaderData"),dr(x)){let R=x.error;if(g!==void 0&&(R=g,g=void 0),u=u||{},a)u[_]=R;else{let L=oo(t,_);u[L.route.id]==null&&(u[L.route.id]=R)}r||(l[_]=sS),f||(f=!0,h=Rc(x.error)?x.error.status:500),x.headers&&(p[_]=x.headers)}else l[_]=x.data,x.statusCode&&x.statusCode!==200&&!f&&(h=x.statusCode),x.headers&&(p[_]=x.headers)}),g!==void 0&&n&&(u={[n[0]]:g},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:u,statusCode:h||200,loaderHeaders:p}}function Pw(t,e,n,r,a,l){let{loaderData:u,errors:h}=RD(e,n,r);return a.filter(f=>!f.matches||f.matches.some(p=>p.shouldLoad)).forEach(f=>{let{key:p,match:g,controller:v}=f,_=l[p];if(Xe(_,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(dr(_)){let x=oo(t.matches,g==null?void 0:g.route.id);h&&h[x.route.id]||(h={...h,[x.route.id]:_.error}),t.fetchers.delete(p)}else if(lo(_))Xe(!1,"Unhandled fetcher revalidation redirect");else{let x=na(_.data);t.fetchers.set(p,x)}}),{loaderData:u,errors:h}}function Nw(t,e,n,r){let a=Object.entries(e).filter(([,l])=>l!==sS).reduce((l,[u,h])=>(l[u]=h,l),{});for(let l of n){let u=l.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&l.route.loader&&(a[u]=t[u]),r&&r.hasOwnProperty(u))break}return a}function Mw(t){return t?dr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function oo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Ow(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Vr(t,{pathname:e,routeId:n,method:r,type:a,message:l}={}){let u="Unknown Server Error",h="Unknown @remix-run/router error";return t===400?(u="Bad Request",r&&e&&n?h=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(h="Unable to encode submission body")):t===403?(u="Forbidden",h=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",h=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",r&&e&&n?h=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(h=`Invalid request method "${r.toUpperCase()}"`)),new ld(t||500,u,new Error(h),!0)}function If(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,a]=e[n];if(lo(a))return{key:r,result:a}}}function hS(t){let e=typeof t=="string"?xa(t):t;return pa({...e,hash:""})}function CD(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function ID(t){return fS(t.result)&&dD.has(t.result.status)}function dr(t){return t.type==="error"}function lo(t){return(t&&t.type)==="redirect"}function Vw(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function fS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function DD(t){return fD.has(t.toUpperCase())}function mr(t){return cD.has(t.toUpperCase())}function fv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function oc(t,e){let n=typeof e=="string"?xa(e).search:e.search;if(t[t.length-1].route.index&&fv(n||""))return t[t.length-1];let r=nS(t);return r[r.length-1]}function Lw(t){let{formMethod:e,formAction:n,formEncType:r,text:a,formData:l,json:u}=t;if(!(!e||!n||!r)){if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(l!=null)return{formMethod:e,formAction:n,formEncType:r,formData:l,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:u,text:void 0}}}function Sg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function PD(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ec(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ND(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function na(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function MD(t,e){try{let n=t.sessionStorage.getItem(iS);if(n){let r=JSON.parse(n);for(let[a,l]of Object.entries(r||{}))l&&Array.isArray(l)&&e.set(a,new Set(l||[]))}}catch{}}function OD(t,e){if(e.size>0){let n={};for(let[r,a]of e)n[r]=[...a];try{t.sessionStorage.setItem(iS,JSON.stringify(n))}catch(r){zt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function VD(){let t,e,n=new Promise((r,a)=>{t=async l=>{r(l);try{await n}catch{}},e=async l=>{a(l);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var bo=N.createContext(null);bo.displayName="DataRouter";var Gc=N.createContext(null);Gc.displayName="DataRouterState";var dv=N.createContext({isTransitioning:!1});dv.displayName="ViewTransition";var dS=N.createContext(new Map);dS.displayName="Fetchers";var LD=N.createContext(null);LD.displayName="Await";var ti=N.createContext(null);ti.displayName="Navigation";var zd=N.createContext(null);zd.displayName="Location";var Hr=N.createContext({outlet:null,matches:[],isDataRoute:!1});Hr.displayName="Route";var mv=N.createContext(null);mv.displayName="RouteError";function kD(t,{relative:e}={}){Xe(Bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(ti),{hash:a,pathname:l,search:u}=$c(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Ai([n,l])),r.createHref({pathname:h,search:u,hash:a})}function Bl(){return N.useContext(zd)!=null}function Li(){return Xe(Bl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(zd).location}var mS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pS(t){N.useContext(ti).static||N.useLayoutEffect(t)}function _s(){let{isDataRoute:t}=N.useContext(Hr);return t?ZD():jD()}function jD(){Xe(Bl(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(bo),{basename:e,navigator:n}=N.useContext(ti),{matches:r}=N.useContext(Hr),{pathname:a}=Li(),l=JSON.stringify(Ud(r)),u=N.useRef(!1);return pS(()=>{u.current=!0}),N.useCallback((f,p={})=>{if(zt(u.current,mS),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=Bd(f,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ai([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,l,a,t])}var UD=N.createContext(null);function BD(t){let e=N.useContext(Hr).outlet;return e&&N.createElement(UD.Provider,{value:t},e)}function zD(){let{matches:t}=N.useContext(Hr),e=t[t.length-1];return e?e.params:{}}function $c(t,{relative:e}={}){let{matches:n}=N.useContext(Hr),{pathname:r}=Li(),a=JSON.stringify(Ud(n));return N.useMemo(()=>Bd(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function FD(t,e,n,r){Xe(Bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(ti),{matches:l}=N.useContext(Hr),u=l[l.length-1],h=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let I=g&&g.path||"";yS(f,!g||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let v=Li(),_;_=v;let x=_.pathname||"/",R=x;if(p!=="/"){let I=p.replace(/^\//,"").split("/");R="/"+x.replace(/^\//,"").split("/").slice(I.length).join("/")}let L=ia(t,{pathname:R});return zt(g||L!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),zt(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),KD(L&&L.map(I=>Object.assign({},I,{params:Object.assign({},h,I.params),pathname:Ai([p,a.encodeLocation?a.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?p:Ai([p,a.encodeLocation?a.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),l,n,r)}function HD(){let t=WD(),e=Rc(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:a},n):null,u)}var qD=N.createElement(HD,null),GD=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?N.createElement(Hr.Provider,{value:this.props.routeContext},N.createElement(mv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $D({routeContext:t,match:e,children:n}){let r=N.useContext(bo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Hr.Provider,{value:t},n)}function KD(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let f=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Xe(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,h=-1;if(n)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:g,errors:v}=n,_=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||_){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,p,g)=>{let v,_=!1,x=null,R=null;n&&(v=l&&p.route.id?l[p.route.id]:void 0,x=p.route.errorElement||qD,u&&(h<0&&g===0?(yS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,R=null):h===g&&(_=!0,R=p.route.hydrateFallbackElement||null)));let L=e.concat(a.slice(0,g+1)),D=()=>{let I;return v?I=x:_?I=R:p.route.Component?I=N.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=f,N.createElement($D,{match:p,routeContext:{outlet:f,matches:L,isDataRoute:n!=null},children:I})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?N.createElement(GD,{location:n.location,revalidation:n.revalidation,component:x,error:v,children:D(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):D()},null)}function pv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YD(t){let e=N.useContext(bo);return Xe(e,pv(t)),e}function gS(t){let e=N.useContext(Gc);return Xe(e,pv(t)),e}function XD(t){let e=N.useContext(Hr);return Xe(e,pv(t)),e}function Fd(t){let e=XD(t),n=e.matches[e.matches.length-1];return Xe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function QD(){return Fd("useRouteId")}function Kc(){let t=gS("useLoaderData"),e=Fd("useLoaderData");return t.loaderData[e]}function WD(){var r;let t=N.useContext(mv),e=gS("useRouteError"),n=Fd("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function ZD(){let{router:t}=YD("useNavigate"),e=Fd("useNavigate"),n=N.useRef(!1);return pS(()=>{n.current=!0}),N.useCallback(async(a,l={})=>{zt(n.current,mS),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var kw={};function yS(t,e,n){!e&&!kw[t]&&(kw[t]=!0,zt(!1,n))}var jw={};function Uw(t,e){!t&&!jw[e]&&(jw[e]=!0,console.warn(e))}function JD(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&zt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:N.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&zt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:N.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&zt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:N.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var e3=["HydrateFallback","hydrateFallbackElement"],t3=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function n3({router:t,flushSync:e}){let[n,r]=N.useState(t.state),[a,l]=N.useState(),[u,h]=N.useState({isTransitioning:!1}),[f,p]=N.useState(),[g,v]=N.useState(),[_,x]=N.useState(),R=N.useRef(new Map),L=N.useCallback((O,{deletedFetchers:z,flushSync:F,viewTransitionOpts:j})=>{O.fetchers.forEach((b,C)=>{b.data!==void 0&&R.current.set(C,b.data)}),z.forEach(b=>R.current.delete(b)),Uw(F===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let A=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Uw(j==null||A,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!j||!A){e&&F?e(()=>r(O)):N.startTransition(()=>r(O));return}if(e&&F){e(()=>{g&&(f&&f.resolve(),g.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:j.currentLocation,nextLocation:j.nextLocation})});let b=t.window.document.startViewTransition(()=>{e(()=>r(O))});b.finished.finally(()=>{e(()=>{p(void 0),v(void 0),l(void 0),h({isTransitioning:!1})})}),e(()=>v(b));return}g?(f&&f.resolve(),g.skipTransition(),x({state:O,currentLocation:j.currentLocation,nextLocation:j.nextLocation})):(l(O),h({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}))},[t.window,e,g,f]);N.useLayoutEffect(()=>t.subscribe(L),[t,L]),N.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new t3)},[u]),N.useEffect(()=>{if(f&&a&&t.window){let O=a,z=f.promise,F=t.window.document.startViewTransition(async()=>{N.startTransition(()=>r(O)),await z});F.finished.finally(()=>{p(void 0),v(void 0),l(void 0),h({isTransitioning:!1})}),v(F)}},[a,f,t.window]),N.useEffect(()=>{f&&a&&n.location.key===a.location.key&&f.resolve()},[f,g,n.location,a]),N.useEffect(()=>{!u.isTransitioning&&_&&(l(_.state),h({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),x(void 0))},[u.isTransitioning,_]);let D=N.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:O=>t.navigate(O),push:(O,z,F)=>t.navigate(O,{state:z,preventScrollReset:F==null?void 0:F.preventScrollReset}),replace:(O,z,F)=>t.navigate(O,{replace:!0,state:z,preventScrollReset:F==null?void 0:F.preventScrollReset})}),[t]),I=t.basename||"/",M=N.useMemo(()=>({router:t,navigator:D,static:!1,basename:I}),[t,D,I]);return N.createElement(N.Fragment,null,N.createElement(bo.Provider,{value:M},N.createElement(Gc.Provider,{value:n},N.createElement(dS.Provider,{value:R.current},N.createElement(dv.Provider,{value:u},N.createElement(a3,{basename:I,location:n.location,navigationType:n.historyAction,navigator:D},N.createElement(r3,{routes:t.routes,future:t.future,state:n})))))),null)}var r3=N.memo(i3);function i3({routes:t,future:e,state:n}){return FD(t,void 0,n,e)}function s3({to:t,replace:e,state:n,relative:r}){Xe(Bl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(ti);zt(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(Hr),{pathname:u}=Li(),h=_s(),f=Bd(t,Ud(l),u,r==="path"),p=JSON.stringify(f);return N.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:r})},[h,p,r,e,n]),null}function Hd(t){return BD(t.context)}function It(t){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function a3({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){Xe(!Bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=xa(n));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:_="default"}=n,x=N.useMemo(()=>{let R=Fr(f,u);return R==null?null:{location:{pathname:R,search:p,hash:g,state:v,key:_},navigationType:r}},[u,f,p,g,v,_,r]);return zt(x!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:N.createElement(ti.Provider,{value:h},N.createElement(zd.Provider,{children:e,value:x}))}function oy(t,e=[]){let n=[];return N.Children.forEach(t,(r,a)=>{if(!N.isValidElement(r))return;let l=[...e,a];if(r.type===N.Fragment){n.push.apply(n,oy(r.props.children,l));return}Xe(r.type===It,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=oy(r.props.children,l)),n.push(u)}),n}var o3=oy,Hf="get",qf="application/x-www-form-urlencoded";function qd(t){return t!=null&&typeof t.tagName=="string"}function l3(t){return qd(t)&&t.tagName.toLowerCase()==="button"}function u3(t){return qd(t)&&t.tagName.toLowerCase()==="form"}function c3(t){return qd(t)&&t.tagName.toLowerCase()==="input"}function h3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function f3(t,e){return t.button===0&&(!e||e==="_self")&&!h3(t)}function ly(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function d3(t,e){let n=ly(t);return e&&e.forEach((r,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}var Df=null;function m3(){if(Df===null)try{new FormData(document.createElement("form"),0),Df=!1}catch{Df=!0}return Df}var p3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ag(t){return t!=null&&!p3.has(t)?(zt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qf}"`),null):t}function g3(t,e){let n,r,a,l,u;if(u3(t)){let h=t.getAttribute("action");r=h?Fr(h,e):null,n=t.getAttribute("method")||Hf,a=Ag(t.getAttribute("enctype"))||qf,l=new FormData(t)}else if(l3(t)||c3(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(r=f?Fr(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Hf,a=Ag(t.getAttribute("formenctype"))||Ag(h.getAttribute("enctype"))||qf,l=new FormData(h,t),!m3()){let{name:p,type:g,value:v}=t;if(g==="image"){let _=p?`${p}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else p&&l.append(p,v)}}else{if(qd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hf,r=null,a=qf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:u}}function gv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function y3(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function v3(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _3(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await y3(l,n);return u.links?u.links():[]}return[]}));return b3(r.flat(1).filter(v3).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Bw(t,e,n,r,a,l){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>{var g;return n[p].pathname!==f.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):l==="data"?e.filter((f,p)=>{var v;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function T3(t,e,{includeHydrateFallback:n}={}){return w3(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function w3(t){return[...new Set(t)]}function E3(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function b3(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(E3(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var x3=new Set([100,101,204,205]);function S3(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Fr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function vS(){let t=N.useContext(bo);return gv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function A3(){let t=N.useContext(Gc);return gv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var yv=N.createContext(void 0);yv.displayName="FrameworkContext";function _S(){let t=N.useContext(yv);return gv(t,"You must render this element inside a <HydratedRouter> element"),t}function R3(t,e){let n=N.useContext(yv),[r,a]=N.useState(!1),[l,u]=N.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,_=N.useRef(null);N.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let L=I=>{I.forEach(M=>{u(M.isIntersecting)})},D=new IntersectionObserver(L,{threshold:.5});return _.current&&D.observe(_.current),()=>{D.disconnect()}}},[t]),N.useEffect(()=>{if(r){let L=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(L)}}},[r]);let x=()=>{a(!0)},R=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:tc(h,x),onBlur:tc(f,R),onMouseEnter:tc(p,x),onMouseLeave:tc(g,R),onTouchStart:tc(v,x)}]:[!1,_,{}]}function tc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function C3({page:t,...e}){let{router:n}=vS(),r=N.useMemo(()=>ia(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?N.createElement(D3,{page:t,matches:r,...e}):null}function I3(t){let{manifest:e,routeModules:n}=_S(),[r,a]=N.useState([]);return N.useEffect(()=>{let l=!1;return _3(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),r}function D3({page:t,matches:e,...n}){let r=Li(),{manifest:a,routeModules:l}=_S(),{basename:u}=vS(),{loaderData:h,matches:f}=A3(),p=N.useMemo(()=>Bw(t,e,f,a,r,"data"),[t,e,f,a,r]),g=N.useMemo(()=>Bw(t,e,f,a,r,"assets"),[t,e,f,a,r]),v=N.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let R=new Set,L=!1;if(e.forEach(I=>{var O;let M=a.routes[I.route.id];!M||!M.hasLoader||(!p.some(z=>z.route.id===I.route.id)&&I.route.id in h&&((O=l[I.route.id])!=null&&O.shouldRevalidate)||M.hasClientLoader?L=!0:R.add(I.route.id))}),R.size===0)return[];let D=S3(t,u);return L&&R.size>0&&D.searchParams.set("_routes",e.filter(I=>R.has(I.route.id)).map(I=>I.route.id).join(",")),[D.pathname+D.search]},[u,h,r,a,p,e,t,l]),_=N.useMemo(()=>T3(g,a),[g,a]),x=I3(g);return N.createElement(N.Fragment,null,v.map(R=>N.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),_.map(R=>N.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),x.map(({key:R,link:L})=>N.createElement("link",{key:R,...L})))}function P3(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var TS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TS&&(window.__reactRouterVersion="7.6.2")}catch{}function N3(t,e){return yD({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:jI({window:e==null?void 0:e.window}),hydrationData:M3(),routes:t,mapRouteProperties:JD,hydrationRouteProperties:e3,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function M3(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:O3(t.errors)}),t}function O3(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")n[r]=new ld(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let l=window[a.__subType];if(typeof l=="function")try{let u=new l(a.message);u.stack="",n[r]=u}catch{}}if(n[r]==null){let l=new Error(a.message);l.stack="",n[r]=l}}else n[r]=a;return n}var wS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kr=N.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:u,state:h,target:f,to:p,preventScrollReset:g,viewTransition:v,..._},x){let{basename:R}=N.useContext(ti),L=typeof p=="string"&&wS.test(p),D,I=!1;if(typeof p=="string"&&L&&(D=p,TS))try{let C=new URL(window.location.href),U=p.startsWith("//")?new URL(C.protocol+p):new URL(p),B=Fr(U.pathname,R);U.origin===C.origin&&B!=null?p=B+U.search+U.hash:I=!0}catch{zt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=kD(p,{relative:a}),[O,z,F]=R3(r,_),j=k3(p,{replace:u,state:h,target:f,preventScrollReset:g,relative:a,viewTransition:v});function A(C){e&&e(C),C.defaultPrevented||j(C)}let b=N.createElement("a",{..._,...F,href:D||M,onClick:I||l?e:A,ref:P3(x,z),target:f,"data-discover":!L&&n==="render"?"true":void 0});return O&&!L?N.createElement(N.Fragment,null,b,N.createElement(C3,{page:M})):b});kr.displayName="Link";var dl=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:u,viewTransition:h,children:f,...p},g){let v=$c(u,{relative:p.relative}),_=Li(),x=N.useContext(Gc),{navigator:R,basename:L}=N.useContext(ti),D=x!=null&&H3(v)&&h===!0,I=R.encodeLocation?R.encodeLocation(v).pathname:v.pathname,M=_.pathname,O=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(M=M.toLowerCase(),O=O?O.toLowerCase():null,I=I.toLowerCase()),O&&L&&(O=Fr(O,L)||O);const z=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let F=M===I||!a&&M.startsWith(I)&&M.charAt(z)==="/",j=O!=null&&(O===I||!a&&O.startsWith(I)&&O.charAt(I.length)==="/"),A={isActive:F,isPending:j,isTransitioning:D},b=F?e:void 0,C;typeof r=="function"?C=r(A):C=[r,F?"active":null,j?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(A):l;return N.createElement(kr,{...p,"aria-current":b,className:C,ref:g,style:U,to:u,viewTransition:h},typeof f=="function"?f(A):f)});dl.displayName="NavLink";var V3=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:u=Hf,action:h,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:v,..._},x)=>{let R=z3(),L=F3(h,{relative:p}),D=u.toLowerCase()==="get"?"get":"post",I=typeof h=="string"&&wS.test(h),M=O=>{if(f&&f(O),O.defaultPrevented)return;O.preventDefault();let z=O.nativeEvent.submitter,F=(z==null?void 0:z.getAttribute("formmethod"))||u;R(z||O.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:a,state:l,relative:p,preventScrollReset:g,viewTransition:v})};return N.createElement("form",{ref:x,method:D,action:L,onSubmit:r?f:M,..._,"data-discover":!I&&t==="render"?"true":void 0})});V3.displayName="Form";function L3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ES(t){let e=N.useContext(bo);return Xe(e,L3(t)),e}function k3(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=_s(),f=Li(),p=$c(t,{relative:l});return N.useCallback(g=>{if(f3(g,e)){g.preventDefault();let v=n!==void 0?n:pa(f)===pa(p);h(t,{replace:v,state:r,preventScrollReset:a,relative:l,viewTransition:u})}},[f,h,p,n,r,e,t,a,l,u])}function j3(t){zt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=N.useRef(ly(t)),n=N.useRef(!1),r=Li(),a=N.useMemo(()=>d3(r.search,n.current?null:e.current),[r.search]),l=_s(),u=N.useCallback((h,f)=>{const p=ly(typeof h=="function"?h(a):h);n.current=!0,l("?"+p,f)},[l,a]);return[a,u]}var U3=0,B3=()=>`__${String(++U3)}__`;function z3(){let{router:t}=ES("useSubmit"),{basename:e}=N.useContext(ti),n=QD();return N.useCallback(async(r,a={})=>{let{action:l,method:u,encType:h,formData:f,body:p}=g3(r,e);if(a.navigate===!1){let g=a.fetcherKey||B3();await t.fetch(g,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function F3(t,{relative:e}={}){let{basename:n}=N.useContext(ti),r=N.useContext(Hr);Xe(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...$c(t||".",{relative:e})},u=Li();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ai([n,l.pathname])),pa(l)}function H3(t,e={}){let n=N.useContext(dv);Xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ES("useViewTransitionState"),a=$c(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Fr(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Fr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return od(a.pathname,u)!=null||od(a.pathname,l)!=null}[...x3];var q3=jd();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function G3(t){return N.createElement(n3,{flushSync:q3.flushSync,...t})}function bS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=bS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function fo(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=bS(t))&&(r&&(r+=" "),r+=e);return r}function $3(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}$3(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Yc=t=>typeof t=="number"&&!isNaN(t),go=t=>typeof t=="string",fs=t=>typeof t=="function",K3=t=>go(t)||Yc(t),uy=t=>go(t)||fs(t)?t:null,Y3=(t,e)=>t===!1||Yc(t)&&t>0?t:e,cy=t=>N.isValidElement(t)||go(t)||fs(t)||Yc(t);function X3(t,e,n=300){let{scrollHeight:r,style:a}=t;requestAnimationFrame(()=>{a.minHeight="initial",a.height=r+"px",a.transition=`all ${n}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,n)})})}function Q3({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:a=300}){return function({children:l,position:u,preventExitTransition:h,done:f,nodeRef:p,isIn:g,playToast:v}){let _=n?`${t}--${u}`:t,x=n?`${e}--${u}`:e,R=N.useRef(0);return N.useLayoutEffect(()=>{let L=p.current,D=_.split(" "),I=M=>{M.target===p.current&&(v(),L.removeEventListener("animationend",I),L.removeEventListener("animationcancel",I),R.current===0&&M.type!=="animationcancel"&&L.classList.remove(...D))};L.classList.add(...D),L.addEventListener("animationend",I),L.addEventListener("animationcancel",I)},[]),N.useEffect(()=>{let L=p.current,D=()=>{L.removeEventListener("animationend",D),r?X3(L,f,a):f()};g||(h?D():(R.current=1,L.className+=` ${x}`,L.addEventListener("animationend",D)))},[g]),mt.createElement(mt.Fragment,null,l)}}function zw(t,e){return{content:xS(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function xS(t,e,n=!1){return N.isValidElement(t)&&!go(t.type)?N.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):fs(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function W3({closeToast:t,theme:e,ariaLabel:n="close"}){return mt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},mt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},mt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Z3({delay:t,isRunning:e,closeToast:n,type:r="default",hide:a,className:l,controlledProgress:u,progress:h,rtl:f,isIn:p,theme:g}){let v=a||u&&h===0,_={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};u&&(_.transform=`scaleX(${h})`);let x=fo("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),R=fs(l)?l({rtl:f,type:r,defaultClassName:x}):fo(x,l),L={[u&&h>=1?"onTransitionEnd":"onAnimationEnd"]:u&&h<1?null:()=>{p&&n()}};return mt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":v},mt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${r}`}),mt.createElement("div",{role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:R,style:_,...L}))}var J3=1,SS=()=>`${J3++}`;function eP(t,e,n){let r=1,a=0,l=[],u=[],h=e,f=new Map,p=new Set,g=M=>(p.add(M),()=>p.delete(M)),v=()=>{u=Array.from(f.values()),p.forEach(M=>M())},_=({containerId:M,toastId:O,updateId:z})=>{let F=M?M!==t:t!==1,j=f.has(O)&&z==null;return F||j},x=(M,O)=>{f.forEach(z=>{var F;(O==null||O===z.props.toastId)&&((F=z.toggle)==null||F.call(z,M))})},R=M=>{var O,z;(z=(O=M.props)==null?void 0:O.onClose)==null||z.call(O,M.removalReason),M.isActive=!1},L=M=>{if(M==null)f.forEach(R);else{let O=f.get(M);O&&R(O)}v()},D=()=>{a-=l.length,l=[]},I=M=>{var O,z;let{toastId:F,updateId:j}=M.props,A=j==null;M.staleId&&f.delete(M.staleId),M.isActive=!0,f.set(F,M),v(),n(zw(M,A?"added":"updated")),A&&((z=(O=M.props).onOpen)==null||z.call(O))};return{id:t,props:h,observe:g,toggle:x,removeToast:L,toasts:f,clearQueue:D,buildToast:(M,O)=>{if(_(O))return;let{toastId:z,updateId:F,data:j,staleId:A,delay:b}=O,C=F==null;C&&a++;let U={...h,style:h.toastStyle,key:r++,...Object.fromEntries(Object.entries(O).filter(([G,V])=>V!=null)),toastId:z,updateId:F,data:j,isIn:!1,className:uy(O.className||h.toastClassName),progressClassName:uy(O.progressClassName||h.progressClassName),autoClose:O.isLoading?!1:Y3(O.autoClose,h.autoClose),closeToast(G){f.get(z).removalReason=G,L(z)},deleteToast(){let G=f.get(z);if(G!=null){if(n(zw(G,"removed")),f.delete(z),a--,a<0&&(a=0),l.length>0){I(l.shift());return}v()}}};U.closeButton=h.closeButton,O.closeButton===!1||cy(O.closeButton)?U.closeButton=O.closeButton:O.closeButton===!0&&(U.closeButton=cy(h.closeButton)?h.closeButton:!0);let B={content:M,props:U,staleId:A};h.limit&&h.limit>0&&a>h.limit&&C?l.push(B):Yc(b)?setTimeout(()=>{I(B)},b):I(B)},setProps(M){h=M},setToggle:(M,O)=>{let z=f.get(M);z&&(z.toggle=O)},isToastActive:M=>{var O;return(O=f.get(M))==null?void 0:O.isActive},getSnapshot:()=>u}}var $n=new Map,Cc=[],hy=new Set,tP=t=>hy.forEach(e=>e(t)),AS=()=>$n.size>0;function nP(){Cc.forEach(t=>CS(t.content,t.options)),Cc=[]}var rP=(t,{containerId:e})=>{var n;return(n=$n.get(e||1))==null?void 0:n.toasts.get(t)};function RS(t,e){var n;if(e)return!!((n=$n.get(e))!=null&&n.isToastActive(t));let r=!1;return $n.forEach(a=>{a.isToastActive(t)&&(r=!0)}),r}function iP(t){if(!AS()){Cc=Cc.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||K3(t))$n.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=$n.get(t.containerId);e?e.removeToast(t.id):$n.forEach(n=>{n.removeToast(t.id)})}}var sP=(t={})=>{$n.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function CS(t,e){cy(t)&&(AS()||Cc.push({content:t,options:e}),$n.forEach(n=>{n.buildToast(t,e)}))}function aP(t){var e;(e=$n.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function IS(t,e){$n.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function oP(t){let e=t.containerId||1;return{subscribe(n){let r=eP(e,t,tP);$n.set(e,r);let a=r.observe(n);return nP(),()=>{a(),$n.delete(e)}},setProps(n){var r;(r=$n.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=$n.get(e))==null?void 0:n.getSnapshot()}}}function lP(t){return hy.add(t),()=>{hy.delete(t)}}function uP(t){return t&&(go(t.toastId)||Yc(t.toastId))?t.toastId:SS()}function Xc(t,e){return CS(t,e),e.toastId}function Gd(t,e){return{...e,type:e&&e.type||t,toastId:uP(e)}}function $d(t){return(e,n)=>Xc(e,Gd(t,n))}function Ke(t,e){return Xc(t,Gd("default",e))}Ke.loading=(t,e)=>Xc(t,Gd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function cP(t,{pending:e,error:n,success:r},a){let l;e&&(l=go(e)?Ke.loading(e,a):Ke.loading(e.render,{...a,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(p,g,v)=>{if(g==null){Ke.dismiss(l);return}let _={type:p,...u,...a,data:v},x=go(g)?{render:g}:g;return l?Ke.update(l,{..._,...x}):Ke(x.render,{..._,...x}),v},f=fs(t)?t():t;return f.then(p=>h("success",r,p)).catch(p=>h("error",n,p)),f}Ke.promise=cP;Ke.success=$d("success");Ke.info=$d("info");Ke.error=$d("error");Ke.warning=$d("warning");Ke.warn=Ke.warning;Ke.dark=(t,e)=>Xc(t,Gd("default",{theme:"dark",...e}));function hP(t){iP(t)}Ke.dismiss=hP;Ke.clearWaitingQueue=sP;Ke.isActive=RS;Ke.update=(t,e={})=>{let n=rP(t,e);if(n){let{props:r,content:a}=n,l={delay:100,...r,...e,toastId:e.toastId||t,updateId:SS()};l.toastId!==t&&(l.staleId=t);let u=l.render||a;delete l.render,Xc(u,l)}};Ke.done=t=>{Ke.update(t,{progress:1})};Ke.onChange=lP;Ke.play=t=>IS(!0,t);Ke.pause=t=>IS(!1,t);function fP(t){var e;let{subscribe:n,getSnapshot:r,setProps:a}=N.useRef(oP(t)).current;a(t);let l=(e=N.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function u(h){if(!l)return[];let f=new Map;return t.newestOnTop&&l.reverse(),l.forEach(p=>{let{position:g}=p.props;f.has(g)||f.set(g,[]),f.get(g).push(p)}),Array.from(f,p=>h(p[0],p[1]))}return{getToastToRender:u,isToastActive:RS,count:l==null?void 0:l.length}}function dP(t){let[e,n]=N.useState(!1),[r,a]=N.useState(!1),l=N.useRef(null),u=N.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:f,closeToast:p,onClick:g,closeOnClick:v}=t;aP({id:t.toastId,containerId:t.containerId,fn:n}),N.useEffect(()=>{if(t.pauseOnFocusLoss)return _(),()=>{x()}},[t.pauseOnFocusLoss]);function _(){document.hasFocus()||I(),window.addEventListener("focus",D),window.addEventListener("blur",I)}function x(){window.removeEventListener("focus",D),window.removeEventListener("blur",I)}function R(A){if(t.draggable===!0||t.draggable===A.pointerType){M();let b=l.current;u.canCloseOnClick=!0,u.canDrag=!0,b.style.transition="none",t.draggableDirection==="x"?(u.start=A.clientX,u.removalDistance=b.offsetWidth*(t.draggablePercent/100)):(u.start=A.clientY,u.removalDistance=b.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function L(A){let{top:b,bottom:C,left:U,right:B}=l.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&t.pauseOnHover&&A.clientX>=U&&A.clientX<=B&&A.clientY>=b&&A.clientY<=C?I():D()}function D(){n(!0)}function I(){n(!1)}function M(){u.didMove=!1,document.addEventListener("pointermove",z),document.addEventListener("pointerup",F)}function O(){document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",F)}function z(A){let b=l.current;if(u.canDrag&&b){u.didMove=!0,e&&I(),t.draggableDirection==="x"?u.delta=A.clientX-u.start:u.delta=A.clientY-u.start,u.start!==A.clientX&&(u.canCloseOnClick=!1);let C=t.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;b.style.transform=`translate3d(${C},0)`,b.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function F(){O();let A=l.current;if(u.canDrag&&u.didMove&&A){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){a(!0),t.closeToast(!0),t.collapseAll();return}A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}let j={onPointerDown:R,onPointerUp:L};return h&&f&&(j.onMouseEnter=I,t.stacked||(j.onMouseLeave=D)),v&&(j.onClick=A=>{g&&g(A),u.canCloseOnClick&&p(!0)}),{playToast:D,pauseToast:I,isRunning:e,preventExitTransition:r,toastRef:l,eventHandlers:j}}var mP=typeof window<"u"?N.useLayoutEffect:N.useEffect,Kd=({theme:t,type:e,isLoading:n,...r})=>mt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function pP(t){return mt.createElement(Kd,{...t},mt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function gP(t){return mt.createElement(Kd,{...t},mt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function yP(t){return mt.createElement(Kd,{...t},mt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function vP(t){return mt.createElement(Kd,{...t},mt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function _P(){return mt.createElement("div",{className:"Toastify__spinner"})}var fy={info:gP,warning:pP,success:yP,error:vP,spinner:_P},TP=t=>t in fy;function wP({theme:t,type:e,isLoading:n,icon:r}){let a=null,l={theme:t,type:e};return r===!1||(fs(r)?a=r({...l,isLoading:n}):N.isValidElement(r)?a=N.cloneElement(r,l):n?a=fy.spinner():TP(e)&&(a=fy[e](l))),a}var EP=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:a,playToast:l}=dP(t),{closeButton:u,children:h,autoClose:f,onClick:p,type:g,hideProgressBar:v,closeToast:_,transition:x,position:R,className:L,style:D,progressClassName:I,updateId:M,role:O,progress:z,rtl:F,toastId:j,deleteToast:A,isIn:b,isLoading:C,closeOnClick:U,theme:B,ariaLabel:G}=t,V=fo("Toastify__toast",`Toastify__toast-theme--${B}`,`Toastify__toast--${g}`,{"Toastify__toast--rtl":F},{"Toastify__toast--close-on-click":U}),ae=fs(L)?L({rtl:F,position:R,type:g,defaultClassName:V}):fo(V,L),oe=wP(t),K=!!z||!f,te={closeToast:_,type:g,theme:B},pe=null;return u===!1||(fs(u)?pe=u(te):N.isValidElement(u)?pe=N.cloneElement(u,te):pe=W3(te)),mt.createElement(x,{isIn:b,done:A,position:R,preventExitTransition:n,nodeRef:r,playToast:l},mt.createElement("div",{id:j,tabIndex:0,onClick:p,"data-in":b,className:ae,...a,style:D,ref:r,...b&&{role:O,"aria-label":G}},oe!=null&&mt.createElement("div",{className:fo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},oe),xS(h,t,!e),pe,!t.customProgressBar&&mt.createElement(Z3,{...M&&!K?{key:`p-${M}`}:{},rtl:F,theme:B,delay:f,isRunning:e,isIn:b,closeToast:_,hide:v,type:g,className:I,controlledProgress:K,progress:z||0})))},bP=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),xP=Q3(bP("bounce",!0)),SP={position:"top-right",transition:xP,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function vv(t){let e={...SP,...t},n=t.stacked,[r,a]=N.useState(!0),l=N.useRef(null),{getToastToRender:u,isToastActive:h,count:f}=fP(e),{className:p,style:g,rtl:v,containerId:_,hotKeys:x}=e;function R(D){let I=fo("Toastify__toast-container",`Toastify__toast-container--${D}`,{"Toastify__toast-container--rtl":v});return fs(p)?p({position:D,rtl:v,defaultClassName:I}):fo(I,uy(p))}function L(){n&&(a(!0),Ke.play())}return mP(()=>{var D;if(n){let I=l.current.querySelectorAll('[data-in="true"]'),M=12,O=(D=e.position)==null?void 0:D.includes("top"),z=0,F=0;Array.from(I).reverse().forEach((j,A)=>{let b=j;b.classList.add("Toastify__toast--stacked"),A>0&&(b.dataset.collapsed=`${r}`),b.dataset.pos||(b.dataset.pos=O?"top":"bot");let C=z*(r?.2:1)+(r?0:M*A);b.style.setProperty("--y",`${O?C:C*-1}px`),b.style.setProperty("--g",`${M}`),b.style.setProperty("--s",`${1-(r?F:0)}`),z+=b.offsetHeight,F+=.025})}},[r,f,n]),N.useEffect(()=>{function D(I){var M;let O=l.current;x(I)&&((M=O.querySelector('[tabIndex="0"]'))==null||M.focus(),a(!1),Ke.pause()),I.key==="Escape"&&(document.activeElement===O||O!=null&&O.contains(document.activeElement))&&(a(!0),Ke.play())}return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[x]),mt.createElement("section",{ref:l,className:"Toastify",id:_,onMouseEnter:()=>{n&&(a(!1),Ke.pause())},onMouseLeave:L,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((D,I)=>{let M=I.length?{...g}:{...g,pointerEvents:"none"};return mt.createElement("div",{tabIndex:-1,className:R(D),"data-stacked":n,style:M,key:`c-${D}`},I.map(({content:O,props:z})=>mt.createElement(EP,{...z,stacked:n,collapseAll:L,isIn:h(z.toastId,z.containerId),key:`t-${z.key}`},O)))}))}var DS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Fw=mt.createContext&&mt.createContext(DS),AP=["attr","size","title"];function RP(t,e){if(t==null)return{};var n=CP(t,e),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)r=l[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CP(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cd(){return cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cd.apply(this,arguments)}function Hw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hw(Object(n),!0).forEach(function(r){IP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IP(t,e,n){return e=DP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DP(t){var e=PP(t,"string");return typeof e=="symbol"?e:e+""}function PP(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PS(t){return t&&t.map((e,n)=>mt.createElement(e.tag,hd({key:n},e.attr),PS(e.child)))}function ht(t){return e=>mt.createElement(NP,cd({attr:hd({},t.attr)},e),PS(t.child))}function NP(t){var e=n=>{var{attr:r,size:a,title:l}=t,u=RP(t,AP),h=a||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),mt.createElement("svg",cd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,u,{className:f,style:hd(hd({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&mt.createElement("title",null,l),t.children)};return Fw!==void 0?mt.createElement(Fw.Consumer,null,n=>e(n)):e(DS)}function MP(t){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function OP(t){return ht({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function VP(t){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"},child:[]}]})(t)}function LP(t){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.5 231.4l-192-160C287.9 54.3 256 68.6 256 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2zm-256 0l-192-160C31.9 54.3 0 68.6 0 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2z"},child:[]}]})(t)}function kP(t){return ht({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"},child:[]}]})(t)}function NS(t){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"},child:[]}]})(t)}function MS(t){return ht({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function OS(t){return ht({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function jP(t){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"},child:[]}]})(t)}function UP(t){return ht({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function BP(t){return ht({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 468V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v176.4l195.5-181C352.1 22.3 384 36.6 384 64v384c0 27.4-31.9 41.7-52.5 24.6L136 292.7V468c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12z"},child:[]}]})(t)}function zP(t){return ht({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M384 44v424c0 6.6-5.4 12-12 12h-48c-6.6 0-12-5.4-12-12V291.6l-195.5 181C95.9 489.7 64 475.4 64 448V64c0-27.4 31.9-41.7 52.5-24.6L312 219.3V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12z"},child:[]}]})(t)}const FP=()=>{};var qw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},HP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],f=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},LS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,f=a+2<t.length,p=f?t[a+2]:0,g=l>>2,v=(l&3)<<4|h>>4;let _=(h&15)<<2|p>>6,x=p&63;f||(x=64,u||(_=64)),r.push(n[g],n[v],n[_],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new qP;const _=l<<2|h>>4;if(r.push(_),p!==64){const x=h<<4&240|p>>2;if(r.push(x),v!==64){const R=p<<6&192|v;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GP=function(t){const e=VS(t);return LS.encodeByteArray(e,!0)},fd=function(t){return GP(t).replace(/\./g,"")},kS=function(t){try{return LS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=()=>$P().__FIREBASE_DEFAULTS__,YP=()=>{if(typeof process>"u"||typeof qw>"u")return;const t=qw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kS(t[1]);return e&&JSON.parse(e)},Yd=()=>{try{return FP()||KP()||YP()||XP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jS=t=>{var e,n;return(n=(e=Yd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},QP=t=>{const e=jS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},US=()=>{var t;return(t=Yd())===null||t===void 0?void 0:t.config},BS=t=>{var e;return(e=Yd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){return t.endsWith(".cloudworkstations.dev")}async function zS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fd(JSON.stringify(n)),fd(JSON.stringify(u)),""].join(".")}const pc={};function JP(){const t={prod:[],emulator:[]};for(const e of Object.keys(pc))pc[e]?t.emulator.push(e):t.prod.push(e);return t}function eN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Gw=!1;function FS(t,e){if(typeof window>"u"||typeof document>"u"||!Qc(window.location.host)||pc[t]===e||pc[t]||Gw)return;pc[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",l=JP().prod.length>0;function u(){const _=document.getElementById(r);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,x){_.setAttribute("width","24"),_.setAttribute("id",x),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Gw=!0,u()},_}function g(_,x){_.setAttribute("id",x),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=eN(r),x=n("text"),R=document.getElementById(x)||document.createElement("span"),L=n("learnmore"),D=document.getElementById(L)||document.createElement("a"),I=n("preprendIcon"),M=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const O=_.element;h(O),g(D,L);const z=p();f(M,I),O.append(M,R,D,z),document.body.appendChild(O)}l?(R.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function nN(){var t;const e=(t=Yd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aN(){const t=jn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oN(){return!nN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lN(){try{return typeof indexedDB=="object"}catch{return!1}}function uN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="FirebaseError";class Ts extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cN,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wc.prototype.create)}}class Wc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?hN(l,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Ts(a,h,r)}}function hN(t,e){return t.replace(fN,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const fN=/\{\$([^}]+)}/g;function dN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],u=e[a];if($w(l)&&$w(u)){if(!yo(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function $w(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function uc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function mN(t,e){const n=new pN(t,e);return n.subscribe.bind(n)}class pN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gN(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Rg),a.error===void 0&&(a.error=Rg),a.complete===void 0&&(a.complete=Rg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){return t&&t._delegate?t._delegate:t}class vo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new WP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_N(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&u.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vN(t){return t===so?void 0:t}function _N(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const wN={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},EN=it.INFO,bN={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},xN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=bN[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _v{constructor(e){this.name=e,this._logLevel=EN,this._logHandler=xN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const SN=(t,e)=>e.some(n=>t instanceof n);let Kw,Yw;function AN(){return Kw||(Kw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RN(){return Yw||(Yw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HS=new WeakMap,dy=new WeakMap,qS=new WeakMap,Cg=new WeakMap,Tv=new WeakMap;function CN(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(ca(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&HS.set(n,t)}).catch(()=>{}),Tv.set(e,t),e}function IN(t){if(dy.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});dy.set(t,e)}let my={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ca(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DN(t){my=t(my)}function PN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ig(this),e,...n);return qS.set(r,e.sort?e.sort():[e]),ca(r)}:RN().includes(t)?function(...e){return t.apply(Ig(this),e),ca(HS.get(this))}:function(...e){return ca(t.apply(Ig(this),e))}}function NN(t){return typeof t=="function"?PN(t):(t instanceof IDBTransaction&&IN(t),SN(t,AN())?new Proxy(t,my):t)}function ca(t){if(t instanceof IDBRequest)return CN(t);if(Cg.has(t))return Cg.get(t);const e=NN(t);return e!==t&&(Cg.set(t,e),Tv.set(e,t)),e}const Ig=t=>Tv.get(t);function MN(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=ca(u);return r&&u.addEventListener("upgradeneeded",f=>{r(ca(u.result),f.oldVersion,f.newVersion,ca(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const ON=["get","getKey","getAll","getAllKeys","count"],VN=["put","add","delete","clear"],Dg=new Map;function Xw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dg.get(e))return Dg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=VN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||ON.includes(n)))return;const l=async function(u,...h){const f=this.transaction(u,a?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&f.done]))[0]};return Dg.set(e,l),l}DN(t=>({...t,get:(e,n,r)=>Xw(e,n)||t.get(e,n,r),has:(e,n)=>!!Xw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const py="@firebase/app",Qw="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new _v("@firebase/app"),jN="@firebase/app-compat",UN="@firebase/analytics-compat",BN="@firebase/analytics",zN="@firebase/app-check-compat",FN="@firebase/app-check",HN="@firebase/auth",qN="@firebase/auth-compat",GN="@firebase/database",$N="@firebase/data-connect",KN="@firebase/database-compat",YN="@firebase/functions",XN="@firebase/functions-compat",QN="@firebase/installations",WN="@firebase/installations-compat",ZN="@firebase/messaging",JN="@firebase/messaging-compat",eM="@firebase/performance",tM="@firebase/performance-compat",nM="@firebase/remote-config",rM="@firebase/remote-config-compat",iM="@firebase/storage",sM="@firebase/storage-compat",aM="@firebase/firestore",oM="@firebase/ai",lM="@firebase/firestore-compat",uM="firebase",cM="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="[DEFAULT]",hM={[py]:"fire-core",[jN]:"fire-core-compat",[BN]:"fire-analytics",[UN]:"fire-analytics-compat",[FN]:"fire-app-check",[zN]:"fire-app-check-compat",[HN]:"fire-auth",[qN]:"fire-auth-compat",[GN]:"fire-rtdb",[$N]:"fire-data-connect",[KN]:"fire-rtdb-compat",[YN]:"fire-fn",[XN]:"fire-fn-compat",[QN]:"fire-iid",[WN]:"fire-iid-compat",[ZN]:"fire-fcm",[JN]:"fire-fcm-compat",[eM]:"fire-perf",[tM]:"fire-perf-compat",[nM]:"fire-rc",[rM]:"fire-rc-compat",[iM]:"fire-gcs",[sM]:"fire-gcs-compat",[aM]:"fire-fst",[lM]:"fire-fst-compat",[oM]:"fire-vertex","fire-js":"fire-js",[uM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=new Map,fM=new Map,yy=new Map;function Ww(t,e){try{t.container.addComponent(e)}catch(n){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dl(t){const e=t.name;if(yy.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;yy.set(e,t);for(const n of dd.values())Ww(n,t);for(const n of fM.values())Ww(n,t);return!0}function wv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Lr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ha=new Wc("app","Firebase",dM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ha.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=cM;function GS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gy,automaticDataCollectionEnabled:!0},e),a=r.name;if(typeof a!="string"||!a)throw ha.create("bad-app-name",{appName:String(a)});if(n||(n=US()),!n)throw ha.create("no-options");const l=dd.get(a);if(l){if(yo(n,l.options)&&yo(r,l.config))return l;throw ha.create("duplicate-app",{appName:a})}const u=new TN(a);for(const f of yy.values())u.addComponent(f);const h=new mM(n,r,u);return dd.set(a,h),h}function $S(t=gy){const e=dd.get(t);if(!e&&t===gy&&US())return GS();if(!e)throw ha.create("no-app",{appName:t});return e}function fa(t,e,n){var r;let a=(r=hM[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const h=[`Unable to register library "${a}" with version "${e}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(h.join(" "));return}Dl(new vo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="firebase-heartbeat-database",gM=1,Ic="firebase-heartbeat-store";let Pg=null;function KS(){return Pg||(Pg=MN(pM,gM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ic)}catch(n){console.warn(n)}}}}).catch(t=>{throw ha.create("idb-open",{originalErrorMessage:t.message})})),Pg}async function yM(t){try{const n=(await KS()).transaction(Ic),r=await n.objectStore(Ic).get(YS(t));return await n.done,r}catch(e){if(e instanceof Ts)ds.warn(e.message);else{const n=ha.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ds.warn(n.message)}}}async function Zw(t,e){try{const r=(await KS()).transaction(Ic,"readwrite");await r.objectStore(Ic).put(e,YS(t)),await r.done}catch(n){if(n instanceof Ts)ds.warn(n.message);else{const r=ha.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ds.warn(r.message)}}}function YS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=1024,_M=30;class TM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Jw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>_M){const u=bM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ds.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Jw(),{heartbeatsToSend:r,unsentEntries:a}=wM(this._heartbeatsCache.heartbeats),l=fd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return ds.warn(n),""}}}function Jw(){return new Date().toISOString().substring(0,10)}function wM(t,e=vM){const n=[];let r=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),eE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),eE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class EM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lN()?uN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Zw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Zw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function eE(t){return fd(JSON.stringify({version:2,heartbeats:t})).length}function bM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t){Dl(new vo("platform-logger",e=>new LN(e),"PRIVATE")),Dl(new vo("heartbeat",e=>new TM(e),"PRIVATE")),fa(py,Qw,t),fa(py,Qw,"esm2017"),fa("fire-js","")}xM("");var SM="firebase",AM="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fa(SM,AM,"app");function Ev(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function XS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RM=XS,QS=new Wc("auth","Firebase",XS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=new _v("@firebase/auth");function CM(t,...e){md.logLevel<=it.WARN&&md.warn(`Auth (${zl}): ${t}`,...e)}function Gf(t,...e){md.logLevel<=it.ERROR&&md.error(`Auth (${zl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t,...e){throw bv(t,...e)}function Ri(t,...e){return bv(t,...e)}function WS(t,e,n){const r=Object.assign(Object.assign({},RM()),{[e]:n});return new Wc("auth","Firebase",r).create(e,{appName:t.name})}function cs(t){return WS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return QS.create(t,...e)}function Be(t,e,...n){if(!t)throw bv(e,...n)}function ls(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gf(e),new Error(e)}function ms(t,e){t||ls(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function IM(){return tE()==="http:"||tE()==="https:"}function tE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IM()||iN()||"connection"in navigator)?navigator.onLine:!0}function PM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ms(n>e,"Short delay should be less than long delay!"),this.isMobile=tN()||sN()}get(){return DM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t,e){ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OM=new Jc(3e4,6e4);function ws(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Es(t,e,n,r,a={}){return JS(t,a,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const h=Zc(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:f},l);return rN()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Qc(t.emulatorConfig.host)&&(p.credentials="include"),ZS.fetch()(await e2(t,t.config.apiHost,n,h),p)})}async function JS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},NM),e);try{const a=new LM(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Pf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pf(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Pf(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw Pf(t,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw WS(t,g,p);Jr(t,g)}}catch(a){if(a instanceof Ts)throw a;Jr(t,"network-request-failed",{message:String(a)})}}async function eh(t,e,n,r,a={}){const l=await Es(t,e,n,r,a);return"mfaPendingCredential"in l&&Jr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function e2(t,e,n,r){const a=`${e}${n}?${r}`,l=t,u=l.config.emulator?xv(t.config,a):`${t.config.apiScheme}://${a}`;return MM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function VM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ri(this.auth,"network-request-failed")),OM.get())})}}function Pf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Ri(t,e,r);return a.customData._tokenResponse=n,a}function nE(t){return t!==void 0&&t.enterprise!==void 0}class kM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return VM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jM(t,e){return Es(t,"GET","/v2/recaptchaConfig",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(t,e){return Es(t,"POST","/v1/accounts:delete",e)}async function pd(t,e){return Es(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BM(t,e=!1){const n=rn(t),r=await n.getIdToken(e),a=Sv(r);Be(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:gc(Ng(a.auth_time)),issuedAtTime:gc(Ng(a.iat)),expirationTime:gc(Ng(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Ng(t){return Number(t)*1e3}function Sv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gf("JWT malformed, contained fewer than 3 sections"),null;try{const a=kS(n);return a?JSON.parse(a):(Gf("Failed to decode base64 JWT payload"),null)}catch(a){return Gf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function rE(t){const e=Sv(t);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ts&&zM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gd(t){var e;const n=t.auth,r=await t.getIdToken(),a=await Dc(t,pd(n,{idToken:r}));Be(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?t2(l.providerUserInfo):[],h=qM(t.providerData,u),f=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(h!=null&&h.length),g=f?p:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new _y(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function HM(t){const e=rn(t);await gd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qM(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function t2(t){return t.map(e=>{var{providerId:n}=e,r=Ev(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(t,e){const n=await JS(t,{},async()=>{const r=Zc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await e2(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",ZS.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $M(t,e){return Es(t,"POST","/v2/accounts:revokeToken",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const n=rE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await GM(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,u=new Sl;return r&&(Be(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Be(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Be(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sl,this.toJSON())}_performRefresh(){return ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t,e){Be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wr{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,l=Ev(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new _y(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Dc(this,this.stsTokenManager.getToken(this.auth,e));return Be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BM(this,e)}reload(){return HM(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Lr(this.auth.app))return Promise.reject(cs(this.auth));const e=await this.getIdToken();return await Dc(this,UM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,l,u,h,f,p,g;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(a=n.email)!==null&&a!==void 0?a:void 0,x=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,R=(u=n.photoURL)!==null&&u!==void 0?u:void 0,L=(h=n.tenantId)!==null&&h!==void 0?h:void 0,D=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,I=(p=n.createdAt)!==null&&p!==void 0?p:void 0,M=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:O,emailVerified:z,isAnonymous:F,providerData:j,stsTokenManager:A}=n;Be(O&&A,e,"internal-error");const b=Sl.fromJSON(this.name,A);Be(typeof O=="string",e,"internal-error"),Js(v,e.name),Js(_,e.name),Be(typeof z=="boolean",e,"internal-error"),Be(typeof F=="boolean",e,"internal-error"),Js(x,e.name),Js(R,e.name),Js(L,e.name),Js(D,e.name),Js(I,e.name),Js(M,e.name);const C=new Wr({uid:O,auth:e,email:_,emailVerified:z,displayName:v,isAnonymous:F,photoURL:R,phoneNumber:x,tenantId:L,stsTokenManager:b,createdAt:I,lastLoginAt:M});return j&&Array.isArray(j)&&(C.providerData=j.map(U=>Object.assign({},U))),D&&(C._redirectEventId=D),C}static async _fromIdTokenResponse(e,n,r=!1){const a=new Sl;a.updateFromServerResponse(n);const l=new Wr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await gd(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Be(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?t2(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),h=new Sl;h.updateFromIdToken(r);const f=new Wr({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new _y(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=new Map;function us(t){ms(t instanceof Function,"Expected a class definition");let e=iE.get(t);return e?(ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}n2.type="NONE";const sE=n2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t,e,n){return`firebase:${t}:${e}:${n}`}class Al{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=$f(this.userKey,a.apiKey,l),this.fullPersistenceKey=$f("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await pd(this.auth,{idToken:e}).catch(()=>{});return n?Wr._fromGetAccountInfoResponse(this.auth,n,e):null}return Wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Al(us(sE),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||us(sE);const u=$f(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const g=await p._get(u);if(g){let v;if(typeof g=="string"){const _=await pd(e,{idToken:g}).catch(()=>{});if(!_)break;v=await Wr._fromGetAccountInfoResponse(e,_,g)}else v=Wr._fromJSON(e,g);p!==l&&(h=v),l=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Al(l,e,r):(l=f[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Al(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(a2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(r2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(l2(e))return"Blackberry";if(u2(e))return"Webos";if(i2(e))return"Safari";if((e.includes("chrome/")||s2(e))&&!e.includes("edge/"))return"Chrome";if(o2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function r2(t=jn()){return/firefox\//i.test(t)}function i2(t=jn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function s2(t=jn()){return/crios\//i.test(t)}function a2(t=jn()){return/iemobile/i.test(t)}function o2(t=jn()){return/android/i.test(t)}function l2(t=jn()){return/blackberry/i.test(t)}function u2(t=jn()){return/webos/i.test(t)}function Av(t=jn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KM(t=jn()){var e;return Av(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YM(){return aN()&&document.documentMode===10}function c2(t=jn()){return Av(t)||o2(t)||u2(t)||l2(t)||/windows phone/i.test(t)||a2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(t,e=[]){let n;switch(t){case"Browser":n=aE(jn());break;case"Worker":n=`${aE(jn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${zl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((u,h)=>{try{const f=e(l);u(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QM(t,e={}){return Es(t,"GET","/v2/passwordPolicy",ws(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=6;class ZM{constructor(e){var n,r,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:WM,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,l,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsUppercaseLetter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oE(this),this.idTokenSubscription=new oE(this),this.beforeStateQueue=new XM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=us(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await Al.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await pd(this,{idToken:e}),r=await Wr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Lr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(a=f.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Lr(this.app))return Promise.reject(cs(this));const n=e?rn(e):null;return n&&Be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Lr(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Lr(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QM(this),n=new ZM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $M(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&us(e)||this._popupRedirectResolver;Be(n,this,"argument-error"),this.redirectPersistenceManager=await Al.create(this,[us(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,a);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=h2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&CM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Sa(t){return rn(t)}class oE{constructor(e){this.auth=e,this.observer=null,this.addObserver=mN(n=>this.observer=n)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e6(t){Xd=t}function f2(t){return Xd.loadJS(t)}function t6(){return Xd.recaptchaEnterpriseScript}function n6(){return Xd.gapiScript}function r6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class i6{constructor(){this.enterprise=new s6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class s6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const a6="recaptcha-enterprise",d2="NO_RECAPTCHA";class o6{constructor(e){this.type=a6,this.auth=Sa(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{jM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new kM(f);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(f=>{h(f)})})}function a(l,u,h){const f=window.grecaptcha;nE(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(d2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new i6().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(h=>{if(!n&&nE(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=t6();f.length!==0&&(f+=h),f2(f).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function lE(t,e,n,r=!1,a=!1){const l=new o6(t);let u;if(a)u=d2;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function yd(t,e,n,r,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await lE(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await lE(t,e,n,n==="getOobCode");return r(t,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(t,e){const n=wv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(yo(l,e??{}))return a;Jr(a,"already-initialized")}return n.initialize({options:e})}function u6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(us);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function c6(t,e,n){const r=Sa(t);Be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=m2(e),{host:u,port:h}=h6(e),f=h===null?"":`:${h}`,p={url:`${l}//${u}${f}/`},g=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Be(yo(p,r.config.emulator)&&yo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Qc(u)?(zS(`${l}//${u}${f}`),FS("Auth",!0)):f6()}function m2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function h6(t){const e=m2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:uE(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:uE(u)}}}function uE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function f6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ls("not implemented")}_getIdTokenResponse(e){return ls("not implemented")}_linkToIdToken(e,n){return ls("not implemented")}_getReauthenticationResolver(e){return ls("not implemented")}}async function d6(t,e){return Es(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m6(t,e){return eh(t,"POST","/v1/accounts:signInWithPassword",ws(t,e))}async function p2(t,e){return Es(t,"POST","/v1/accounts:sendOobCode",ws(t,e))}async function p6(t,e){return p2(t,e)}async function g6(t,e){return p2(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(t,e){return eh(t,"POST","/v1/accounts:signInWithEmailLink",ws(t,e))}async function v6(t,e){return eh(t,"POST","/v1/accounts:signInWithEmailLink",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends Rv{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Pc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Pc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yd(e,n,"signInWithPassword",m6);case"emailLink":return y6(e,{email:this._email,oobCode:this._password});default:Jr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yd(e,r,"signUpPassword",d6);case"emailLink":return v6(e,{idToken:n,email:this._email,oobCode:this._password});default:Jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t,e){return eh(t,"POST","/v1/accounts:signInWithIdp",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6="http://localhost";class _o extends Rv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,l=Ev(n,["providerId","signInMethod"]);if(!r||!a)return null;const u=new _o(r,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Rl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Rl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Rl(e,n)}buildRequest(){const e={requestUri:_6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function w6(t){const e=lc(uc(t)).link,n=e?lc(uc(e)).deep_link_id:null,r=lc(uc(t)).deep_link_id;return(r?lc(uc(r)).link:null)||r||n||e||t}class Cv{constructor(e){var n,r,a,l,u,h;const f=lc(uc(e)),p=(n=f.apiKey)!==null&&n!==void 0?n:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,v=T6((a=f.mode)!==null&&a!==void 0?a:null);Be(p&&g&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=g,this.continueUrl=(l=f.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=w6(e);try{return new Cv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.providerId=Fl.PROVIDER_ID}static credential(e,n){return Pc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Cv.parseLink(n);return Be(r,"argument-error"),Pc._fromEmailAndCode(e,r.code,r.tenantId)}}Fl.PROVIDER_ID="password";Fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends g2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends th{constructor(){super("facebook.com")}static credential(e){return _o._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sa.credential(e.oauthAccessToken)}catch{return null}}}sa.FACEBOOK_SIGN_IN_METHOD="facebook.com";sa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends th{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _o._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return aa.credential(n,r)}catch{return null}}}aa.GOOGLE_SIGN_IN_METHOD="google.com";aa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends th{constructor(){super("github.com")}static credential(e){return _o._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oa.credential(e.oauthAccessToken)}catch{return null}}}oa.GITHUB_SIGN_IN_METHOD="github.com";oa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends th{constructor(){super("twitter.com")}static credential(e,n){return _o._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return la.credential(n,r)}catch{return null}}}la.TWITTER_SIGN_IN_METHOD="twitter.com";la.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E6(t,e){return eh(t,"POST","/v1/accounts:signUp",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await Wr._fromIdTokenResponse(e,r,a),u=cE(r);return new To({user:l,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=cE(r);return new To({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function cE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends Ts{constructor(e,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,vd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new vd(e,n,r,a)}}function y2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?vd._fromErrorAndOperation(t,l,e,r):l})}async function b6(t,e,n=!1){const r=await Dc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return To._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x6(t,e,n=!1){const{auth:r}=t;if(Lr(r.app))return Promise.reject(cs(r));const a="reauthenticate";try{const l=await Dc(t,y2(r,a,e,t),n);Be(l.idToken,r,"internal-error");const u=Sv(l.idToken);Be(u,r,"internal-error");const{sub:h}=u;return Be(t.uid===h,r,"user-mismatch"),To._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Jr(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(t,e,n=!1){if(Lr(t.app))return Promise.reject(cs(t));const r="signIn",a=await y2(t,r,e),l=await To._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function S6(t,e){return v2(Sa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(t){const e=Sa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function A6(t,e,n){const r=Sa(t);await yd(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",g6)}async function R6(t,e,n){if(Lr(t.app))return Promise.reject(cs(t));const r=Sa(t),u=await yd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",E6).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&_2(t),f}),h=await To._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function C6(t,e,n){return Lr(t.app)?Promise.reject(cs(t)):S6(rn(t),Fl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_2(t),r})}async function T2(t,e){const n=rn(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:l}=await p6(n.auth,a);l!==t.email&&await t.reload()}function I6(t,e,n,r){return rn(t).onIdTokenChanged(e,n,r)}function D6(t,e,n){return rn(t).beforeAuthStateChanged(e,n)}function ni(t,e,n,r){return rn(t).onAuthStateChanged(e,n,r)}function P6(t){return rn(t).signOut()}async function N6(t){return rn(t).delete()}const _d="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_d,"1"),this.storage.removeItem(_d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=1e3,O6=10;class E2 extends w2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=c2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);YM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,O6):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},M6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}E2.type="LOCAL";const V6=E2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2 extends w2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}b2.type="SESSION";const x2=b2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Qd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,l)),f=await L6(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,f)=>{const p=Iv("",20);a.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(v){const _=v;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(_.data.response);break;default:clearTimeout(g),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function j6(t){Ci().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function U6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function z6(){return S2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="firebaseLocalStorageDb",F6=1,Td="firebaseLocalStorage",R2="fbase_key";class nh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wd(t,e){return t.transaction([Td],e?"readwrite":"readonly").objectStore(Td)}function H6(){const t=indexedDB.deleteDatabase(A2);return new nh(t).toPromise()}function Ty(){const t=indexedDB.open(A2,F6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Td,{keyPath:R2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Td)?e(r):(r.close(),await H6(),e(await Ty()))})})}async function hE(t,e,n){const r=Wd(t,!0).put({[R2]:e,value:n});return new nh(r).toPromise()}async function q6(t,e){const n=Wd(t,!1).get(e),r=await new nh(n).toPromise();return r===void 0?null:r.value}function fE(t,e){const n=Wd(t,!0).delete(e);return new nh(n).toPromise()}const G6=800,$6=3;class C2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ty(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return S2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qd._getInstance(z6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await U6(),!this.activeServiceWorker)return;this.sender=new k6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||B6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ty();return await hE(e,_d,"1"),await fE(e,_d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>q6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Wd(a,!1).getAll();return new nh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}C2.type="LOCAL";const K6=C2;new Jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(t,e){return e?us(e):(Be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv extends Rv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Rl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function X6(t){return v2(t.auth,new Dv(t),t.bypassAuthState)}function Q6(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),x6(n,new Dv(t),t.bypassAuthState)}async function W6(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),b6(n,new Dv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X6;case"linkViaPopup":case"linkViaRedirect":return W6;case"reauthViaPopup":case"reauthViaRedirect":return Q6;default:Jr(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=new Jc(2e3,1e4);class vl extends I2{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,vl.currentPopupAction&&vl.currentPopupAction.cancel(),vl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const e=Iv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z6.get())};e()}}vl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6="pendingRedirect",Kf=new Map;class e5 extends I2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kf.get(this.auth._key());if(!e){try{const r=await t5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kf.set(this.auth._key(),e)}return this.bypassAuthState||Kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t5(t,e){const n=i5(e),r=r5(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function n5(t,e){Kf.set(t._key(),e)}function r5(t){return us(t._redirectPersistence)}function i5(t){return $f(J6,t.config.apiKey,t.name)}async function s5(t,e,n=!1){if(Lr(t.app))return Promise.reject(cs(t));const r=Sa(t),a=Y6(r,e),u=await new e5(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=10*60*1e3;class o5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!l5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!D2(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ri(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dE(e))}saveEventToCache(e){this.cachedEventUids.add(dE(e)),this.lastProcessedEventTime=Date.now()}}function dE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function D2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function l5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u5(t,e={}){return Es(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h5=/^https?/;async function f5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await u5(t);for(const n of e)try{if(d5(n))return}catch{}Jr(t,"unauthorized-domain")}function d5(t){const e=vy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!h5.test(n))return!1;if(c5.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=new Jc(3e4,6e4);function mE(){const t=Ci().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function p5(t){return new Promise((e,n)=>{var r,a,l;function u(){mE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mE(),n(Ri(t,"network-request-failed"))},timeout:m5.get()})}if(!((a=(r=Ci().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Ci().gapi)===null||l===void 0)&&l.load)u();else{const h=r6("iframefcb");return Ci()[h]=()=>{gapi.load?u():n(Ri(t,"network-request-failed"))},f2(`${n6()}?onload=${h}`).catch(f=>n(f))}}).catch(e=>{throw Yf=null,e})}let Yf=null;function g5(t){return Yf=Yf||p5(t),Yf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=new Jc(5e3,15e3),v5="__/auth/iframe",_5="emulator/auth/iframe",T5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E5(t){const e=t.config;Be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xv(e,_5):`https://${t.config.authDomain}/${v5}`,r={apiKey:e.apiKey,appName:t.name,v:zl},a=w5.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Zc(r).slice(1)}`}async function b5(t){const e=await g5(t),n=Ci().gapi;return Be(n,t,"internal-error"),e.open({where:document.body,url:E5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T5,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const u=Ri(t,"network-request-failed"),h=Ci().setTimeout(()=>{l(u)},y5.get());function f(){Ci().clearTimeout(h),a(r)}r.ping(f).then(f,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S5=500,A5=600,R5="_blank",C5="http://localhost";class pE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function I5(t,e,n,r=S5,a=A5){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},x5),{width:r.toString(),height:a.toString(),top:l,left:u}),p=jn().toLowerCase();n&&(h=s2(p)?R5:n),r2(p)&&(e=e||C5,f.scrollbars="yes");const g=Object.entries(f).reduce((_,[x,R])=>`${_}${x}=${R},`,"");if(KM(p)&&h!=="_self")return D5(e||"",h),new pE(null);const v=window.open(e||"",h,g);Be(v,t,"popup-blocked");try{v.focus()}catch{}return new pE(v)}function D5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5="__/auth/handler",N5="emulator/auth/handler",M5=encodeURIComponent("fac");async function gE(t,e,n,r,a,l){Be(t.config.authDomain,t,"auth-domain-config-required"),Be(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:zl,eventId:a};if(e instanceof g2){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",dN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))u[g]=v}if(e instanceof th){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await t._getAppCheckToken(),p=f?`#${M5}=${encodeURIComponent(f)}`:"";return`${O5(t)}?${Zc(h).slice(1)}${p}`}function O5({config:t}){return t.emulator?xv(t,N5):`https://${t.authDomain}/${P5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="webStorageSupport";class V5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=x2,this._completeRedirectFn=s5,this._overrideRedirectResult=n5}async _openPopup(e,n,r,a){var l;ms((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await gE(e,n,r,vy(),a);return I5(e,u,Iv())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await gE(e,n,r,vy(),a);return j6(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(ms(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await b5(e),r=new o5(e);return n.register("authEvent",a=>(Be(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mg,{type:Mg},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Mg];u!==void 0&&n(!!u),Jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=f5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return c2()||i2()||Av()}}const L5=V5;var yE="@firebase/auth",vE="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function U5(t){Dl(new vo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Be(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:h2(t)},p=new JM(r,a,l,f);return u6(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dl(new vo("auth-internal",e=>{const n=Sa(e.getProvider("auth").getImmediate());return(r=>new k5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fa(yE,vE,j5(t)),fa(yE,vE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=5*60,z5=BS("authIdTokenMaxAge")||B5;let _E=null;const F5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>z5)return;const a=n==null?void 0:n.token;_E!==a&&(_E=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function H5(t=$S()){const e=wv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=l6(t,{popupRedirectResolver:L5,persistence:[K6,V6,x2]}),r=BS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=F5(l.toString());D6(n,u,()=>u(n.currentUser)),I6(n,h=>u(h))}}const a=jS("auth");return a&&c6(n,`http://${a}`),n}function q5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}e6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=Ri("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",q5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});U5("Browser");var TE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var da,P2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,b){function C(){}C.prototype=b.prototype,A.D=b.prototype,A.prototype=new C,A.prototype.constructor=A,A.C=function(U,B,G){for(var V=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)V[ae-2]=arguments[ae];return b.prototype[B].apply(U,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(A,b,C){C||(C=0);var U=Array(16);if(typeof b=="string")for(var B=0;16>B;++B)U[B]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(B=0;16>B;++B)U[B]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=A.g[0],C=A.g[1],B=A.g[2];var G=A.g[3],V=b+(G^C&(B^G))+U[0]+3614090360&4294967295;b=C+(V<<7&4294967295|V>>>25),V=G+(B^b&(C^B))+U[1]+3905402710&4294967295,G=b+(V<<12&4294967295|V>>>20),V=B+(C^G&(b^C))+U[2]+606105819&4294967295,B=G+(V<<17&4294967295|V>>>15),V=C+(b^B&(G^b))+U[3]+3250441966&4294967295,C=B+(V<<22&4294967295|V>>>10),V=b+(G^C&(B^G))+U[4]+4118548399&4294967295,b=C+(V<<7&4294967295|V>>>25),V=G+(B^b&(C^B))+U[5]+1200080426&4294967295,G=b+(V<<12&4294967295|V>>>20),V=B+(C^G&(b^C))+U[6]+2821735955&4294967295,B=G+(V<<17&4294967295|V>>>15),V=C+(b^B&(G^b))+U[7]+4249261313&4294967295,C=B+(V<<22&4294967295|V>>>10),V=b+(G^C&(B^G))+U[8]+1770035416&4294967295,b=C+(V<<7&4294967295|V>>>25),V=G+(B^b&(C^B))+U[9]+2336552879&4294967295,G=b+(V<<12&4294967295|V>>>20),V=B+(C^G&(b^C))+U[10]+4294925233&4294967295,B=G+(V<<17&4294967295|V>>>15),V=C+(b^B&(G^b))+U[11]+2304563134&4294967295,C=B+(V<<22&4294967295|V>>>10),V=b+(G^C&(B^G))+U[12]+1804603682&4294967295,b=C+(V<<7&4294967295|V>>>25),V=G+(B^b&(C^B))+U[13]+4254626195&4294967295,G=b+(V<<12&4294967295|V>>>20),V=B+(C^G&(b^C))+U[14]+2792965006&4294967295,B=G+(V<<17&4294967295|V>>>15),V=C+(b^B&(G^b))+U[15]+1236535329&4294967295,C=B+(V<<22&4294967295|V>>>10),V=b+(B^G&(C^B))+U[1]+4129170786&4294967295,b=C+(V<<5&4294967295|V>>>27),V=G+(C^B&(b^C))+U[6]+3225465664&4294967295,G=b+(V<<9&4294967295|V>>>23),V=B+(b^C&(G^b))+U[11]+643717713&4294967295,B=G+(V<<14&4294967295|V>>>18),V=C+(G^b&(B^G))+U[0]+3921069994&4294967295,C=B+(V<<20&4294967295|V>>>12),V=b+(B^G&(C^B))+U[5]+3593408605&4294967295,b=C+(V<<5&4294967295|V>>>27),V=G+(C^B&(b^C))+U[10]+38016083&4294967295,G=b+(V<<9&4294967295|V>>>23),V=B+(b^C&(G^b))+U[15]+3634488961&4294967295,B=G+(V<<14&4294967295|V>>>18),V=C+(G^b&(B^G))+U[4]+3889429448&4294967295,C=B+(V<<20&4294967295|V>>>12),V=b+(B^G&(C^B))+U[9]+568446438&4294967295,b=C+(V<<5&4294967295|V>>>27),V=G+(C^B&(b^C))+U[14]+3275163606&4294967295,G=b+(V<<9&4294967295|V>>>23),V=B+(b^C&(G^b))+U[3]+4107603335&4294967295,B=G+(V<<14&4294967295|V>>>18),V=C+(G^b&(B^G))+U[8]+1163531501&4294967295,C=B+(V<<20&4294967295|V>>>12),V=b+(B^G&(C^B))+U[13]+2850285829&4294967295,b=C+(V<<5&4294967295|V>>>27),V=G+(C^B&(b^C))+U[2]+4243563512&4294967295,G=b+(V<<9&4294967295|V>>>23),V=B+(b^C&(G^b))+U[7]+1735328473&4294967295,B=G+(V<<14&4294967295|V>>>18),V=C+(G^b&(B^G))+U[12]+2368359562&4294967295,C=B+(V<<20&4294967295|V>>>12),V=b+(C^B^G)+U[5]+4294588738&4294967295,b=C+(V<<4&4294967295|V>>>28),V=G+(b^C^B)+U[8]+2272392833&4294967295,G=b+(V<<11&4294967295|V>>>21),V=B+(G^b^C)+U[11]+1839030562&4294967295,B=G+(V<<16&4294967295|V>>>16),V=C+(B^G^b)+U[14]+4259657740&4294967295,C=B+(V<<23&4294967295|V>>>9),V=b+(C^B^G)+U[1]+2763975236&4294967295,b=C+(V<<4&4294967295|V>>>28),V=G+(b^C^B)+U[4]+1272893353&4294967295,G=b+(V<<11&4294967295|V>>>21),V=B+(G^b^C)+U[7]+4139469664&4294967295,B=G+(V<<16&4294967295|V>>>16),V=C+(B^G^b)+U[10]+3200236656&4294967295,C=B+(V<<23&4294967295|V>>>9),V=b+(C^B^G)+U[13]+681279174&4294967295,b=C+(V<<4&4294967295|V>>>28),V=G+(b^C^B)+U[0]+3936430074&4294967295,G=b+(V<<11&4294967295|V>>>21),V=B+(G^b^C)+U[3]+3572445317&4294967295,B=G+(V<<16&4294967295|V>>>16),V=C+(B^G^b)+U[6]+76029189&4294967295,C=B+(V<<23&4294967295|V>>>9),V=b+(C^B^G)+U[9]+3654602809&4294967295,b=C+(V<<4&4294967295|V>>>28),V=G+(b^C^B)+U[12]+3873151461&4294967295,G=b+(V<<11&4294967295|V>>>21),V=B+(G^b^C)+U[15]+530742520&4294967295,B=G+(V<<16&4294967295|V>>>16),V=C+(B^G^b)+U[2]+3299628645&4294967295,C=B+(V<<23&4294967295|V>>>9),V=b+(B^(C|~G))+U[0]+4096336452&4294967295,b=C+(V<<6&4294967295|V>>>26),V=G+(C^(b|~B))+U[7]+1126891415&4294967295,G=b+(V<<10&4294967295|V>>>22),V=B+(b^(G|~C))+U[14]+2878612391&4294967295,B=G+(V<<15&4294967295|V>>>17),V=C+(G^(B|~b))+U[5]+4237533241&4294967295,C=B+(V<<21&4294967295|V>>>11),V=b+(B^(C|~G))+U[12]+1700485571&4294967295,b=C+(V<<6&4294967295|V>>>26),V=G+(C^(b|~B))+U[3]+2399980690&4294967295,G=b+(V<<10&4294967295|V>>>22),V=B+(b^(G|~C))+U[10]+4293915773&4294967295,B=G+(V<<15&4294967295|V>>>17),V=C+(G^(B|~b))+U[1]+2240044497&4294967295,C=B+(V<<21&4294967295|V>>>11),V=b+(B^(C|~G))+U[8]+1873313359&4294967295,b=C+(V<<6&4294967295|V>>>26),V=G+(C^(b|~B))+U[15]+4264355552&4294967295,G=b+(V<<10&4294967295|V>>>22),V=B+(b^(G|~C))+U[6]+2734768916&4294967295,B=G+(V<<15&4294967295|V>>>17),V=C+(G^(B|~b))+U[13]+1309151649&4294967295,C=B+(V<<21&4294967295|V>>>11),V=b+(B^(C|~G))+U[4]+4149444226&4294967295,b=C+(V<<6&4294967295|V>>>26),V=G+(C^(b|~B))+U[11]+3174756917&4294967295,G=b+(V<<10&4294967295|V>>>22),V=B+(b^(G|~C))+U[2]+718787259&4294967295,B=G+(V<<15&4294967295|V>>>17),V=C+(G^(B|~b))+U[9]+3951481745&4294967295,A.g[0]=A.g[0]+b&4294967295,A.g[1]=A.g[1]+(B+(V<<21&4294967295|V>>>11))&4294967295,A.g[2]=A.g[2]+B&4294967295,A.g[3]=A.g[3]+G&4294967295}r.prototype.u=function(A,b){b===void 0&&(b=A.length);for(var C=b-this.blockSize,U=this.B,B=this.h,G=0;G<b;){if(B==0)for(;G<=C;)a(this,A,G),G+=this.blockSize;if(typeof A=="string"){for(;G<b;)if(U[B++]=A.charCodeAt(G++),B==this.blockSize){a(this,U),B=0;break}}else for(;G<b;)if(U[B++]=A[G++],B==this.blockSize){a(this,U),B=0;break}}this.h=B,this.o+=b},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var b=1;b<A.length-8;++b)A[b]=0;var C=8*this.o;for(b=A.length-8;b<A.length;++b)A[b]=C&255,C/=256;for(this.u(A),A=Array(16),b=C=0;4>b;++b)for(var U=0;32>U;U+=8)A[C++]=this.g[b]>>>U&255;return A};function l(A,b){var C=h;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=b(A)}function u(A,b){this.h=b;for(var C=[],U=!0,B=A.length-1;0<=B;B--){var G=A[B]|0;U&&G==b||(C[B]=G,U=!1)}this.g=C}var h={};function f(A){return-128<=A&&128>A?l(A,function(b){return new u([b|0],0>b?-1:0)}):new u([A|0],0>A?-1:0)}function p(A){if(isNaN(A)||!isFinite(A))return v;if(0>A)return D(p(-A));for(var b=[],C=1,U=0;A>=C;U++)b[U]=A/C|0,C*=4294967296;return new u(b,0)}function g(A,b){if(A.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(A.charAt(0)=="-")return D(g(A.substring(1),b));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(b,8)),U=v,B=0;B<A.length;B+=8){var G=Math.min(8,A.length-B),V=parseInt(A.substring(B,B+G),b);8>G?(G=p(Math.pow(b,G)),U=U.j(G).add(p(V))):(U=U.j(C),U=U.add(p(V)))}return U}var v=f(0),_=f(1),x=f(16777216);t=u.prototype,t.m=function(){if(L(this))return-D(this).m();for(var A=0,b=1,C=0;C<this.g.length;C++){var U=this.i(C);A+=(0<=U?U:4294967296+U)*b,b*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(R(this))return"0";if(L(this))return"-"+D(this).toString(A);for(var b=p(Math.pow(A,6)),C=this,U="";;){var B=z(C,b).g;C=I(C,B.j(b));var G=((0<C.g.length?C.g[0]:C.h)>>>0).toString(A);if(C=B,R(C))return G+U;for(;6>G.length;)G="0"+G;U=G+U}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function R(A){if(A.h!=0)return!1;for(var b=0;b<A.g.length;b++)if(A.g[b]!=0)return!1;return!0}function L(A){return A.h==-1}t.l=function(A){return A=I(this,A),L(A)?-1:R(A)?0:1};function D(A){for(var b=A.g.length,C=[],U=0;U<b;U++)C[U]=~A.g[U];return new u(C,~A.h).add(_)}t.abs=function(){return L(this)?D(this):this},t.add=function(A){for(var b=Math.max(this.g.length,A.g.length),C=[],U=0,B=0;B<=b;B++){var G=U+(this.i(B)&65535)+(A.i(B)&65535),V=(G>>>16)+(this.i(B)>>>16)+(A.i(B)>>>16);U=V>>>16,G&=65535,V&=65535,C[B]=V<<16|G}return new u(C,C[C.length-1]&-2147483648?-1:0)};function I(A,b){return A.add(D(b))}t.j=function(A){if(R(this)||R(A))return v;if(L(this))return L(A)?D(this).j(D(A)):D(D(this).j(A));if(L(A))return D(this.j(D(A)));if(0>this.l(x)&&0>A.l(x))return p(this.m()*A.m());for(var b=this.g.length+A.g.length,C=[],U=0;U<2*b;U++)C[U]=0;for(U=0;U<this.g.length;U++)for(var B=0;B<A.g.length;B++){var G=this.i(U)>>>16,V=this.i(U)&65535,ae=A.i(B)>>>16,oe=A.i(B)&65535;C[2*U+2*B]+=V*oe,M(C,2*U+2*B),C[2*U+2*B+1]+=G*oe,M(C,2*U+2*B+1),C[2*U+2*B+1]+=V*ae,M(C,2*U+2*B+1),C[2*U+2*B+2]+=G*ae,M(C,2*U+2*B+2)}for(U=0;U<b;U++)C[U]=C[2*U+1]<<16|C[2*U];for(U=b;U<2*b;U++)C[U]=0;return new u(C,0)};function M(A,b){for(;(A[b]&65535)!=A[b];)A[b+1]+=A[b]>>>16,A[b]&=65535,b++}function O(A,b){this.g=A,this.h=b}function z(A,b){if(R(b))throw Error("division by zero");if(R(A))return new O(v,v);if(L(A))return b=z(D(A),b),new O(D(b.g),D(b.h));if(L(b))return b=z(A,D(b)),new O(D(b.g),b.h);if(30<A.g.length){if(L(A)||L(b))throw Error("slowDivide_ only works with positive integers.");for(var C=_,U=b;0>=U.l(A);)C=F(C),U=F(U);var B=j(C,1),G=j(U,1);for(U=j(U,2),C=j(C,2);!R(U);){var V=G.add(U);0>=V.l(A)&&(B=B.add(C),G=V),U=j(U,1),C=j(C,1)}return b=I(A,B.j(b)),new O(B,b)}for(B=v;0<=A.l(b);){for(C=Math.max(1,Math.floor(A.m()/b.m())),U=Math.ceil(Math.log(C)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),G=p(C),V=G.j(b);L(V)||0<V.l(A);)C-=U,G=p(C),V=G.j(b);R(G)&&(G=_),B=B.add(G),A=I(A,V)}return new O(B,A)}t.A=function(A){return z(this,A).h},t.and=function(A){for(var b=Math.max(this.g.length,A.g.length),C=[],U=0;U<b;U++)C[U]=this.i(U)&A.i(U);return new u(C,this.h&A.h)},t.or=function(A){for(var b=Math.max(this.g.length,A.g.length),C=[],U=0;U<b;U++)C[U]=this.i(U)|A.i(U);return new u(C,this.h|A.h)},t.xor=function(A){for(var b=Math.max(this.g.length,A.g.length),C=[],U=0;U<b;U++)C[U]=this.i(U)^A.i(U);return new u(C,this.h^A.h)};function F(A){for(var b=A.g.length+1,C=[],U=0;U<b;U++)C[U]=A.i(U)<<1|A.i(U-1)>>>31;return new u(C,A.h)}function j(A,b){var C=b>>5;b%=32;for(var U=A.g.length-C,B=[],G=0;G<U;G++)B[G]=0<b?A.i(G+C)>>>b|A.i(G+C+1)<<32-b:A.i(G+C);return new u(B,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,P2=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,da=u}).apply(typeof TE<"u"?TE:typeof self<"u"?self:typeof window<"u"?window:{});var Nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var N2,cc,M2,Xf,wy,O2,V2,L2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,T,E){return d==Array.prototype||d==Object.prototype||(d[T]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nf=="object"&&Nf];for(var T=0;T<d.length;++T){var E=d[T];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function a(d,T){if(T)e:{var E=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var W=d[k];if(!(W in E))break e;E=E[W]}d=d[d.length-1],k=E[d],T=T(k),T!=k&&T!=null&&e(E,d,{configurable:!0,writable:!0,value:T})}}function l(d,T){d instanceof String&&(d+="");var E=0,k=!1,W={next:function(){if(!k&&E<d.length){var se=E++;return{value:T(se,d[se]),done:!1}}return k=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}a("Array.prototype.values",function(d){return d||function(){return l(this,function(T,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(d){var T=typeof d;return T=T!="object"?T:d?Array.isArray(d)?"array":T:"null",T=="array"||T=="object"&&typeof d.length=="number"}function p(d){var T=typeof d;return T=="object"&&d!=null||T=="function"}function g(d,T,E){return d.call.apply(d.bind,arguments)}function v(d,T,E){if(!d)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,k),d.apply(T,W)}}return function(){return d.apply(T,arguments)}}function _(d,T,E){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,_.apply(null,arguments)}function x(d,T){var E=Array.prototype.slice.call(arguments,1);return function(){var k=E.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function R(d,T){function E(){}E.prototype=T.prototype,d.aa=T.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(k,W,se){for(var _e=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)_e[ot-2]=arguments[ot];return T.prototype[W].apply(k,_e)}}function L(d){const T=d.length;if(0<T){const E=Array(T);for(let k=0;k<T;k++)E[k]=d[k];return E}return[]}function D(d,T){for(let E=1;E<arguments.length;E++){const k=arguments[E];if(f(k)){const W=d.length||0,se=k.length||0;d.length=W+se;for(let _e=0;_e<se;_e++)d[W+_e]=k[_e]}else d.push(k)}}class I{constructor(T,E){this.i=T,this.j=E,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function M(d){return/^[\s\xa0]*$/.test(d)}function O(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function z(d){return z[" "](d),d}z[" "]=function(){};var F=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function j(d,T,E){for(const k in d)T.call(E,d[k],k,d)}function A(d,T){for(const E in d)T.call(void 0,d[E],E,d)}function b(d){const T={};for(const E in d)T[E]=d[E];return T}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(d,T){let E,k;for(let W=1;W<arguments.length;W++){k=arguments[W];for(E in k)d[E]=k[E];for(let se=0;se<C.length;se++)E=C[se],Object.prototype.hasOwnProperty.call(k,E)&&(d[E]=k[E])}}function B(d){var T=1;d=d.split(":");const E=[];for(;0<T&&d.length;)E.push(d.shift()),T--;return d.length&&E.push(d.join(":")),E}function G(d){h.setTimeout(()=>{throw d},0)}function V(){var d=we;let T=null;return d.g&&(T=d.g,d.g=d.g.next,d.g||(d.h=null),T.next=null),T}class ae{constructor(){this.h=this.g=null}add(T,E){const k=oe.get();k.set(T,E),this.h?this.h.next=k:this.g=k,this.h=k}}var oe=new I(()=>new K,d=>d.reset());class K{constructor(){this.next=this.g=this.h=null}set(T,E){this.h=T,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let te,pe=!1,we=new ae,H=()=>{const d=h.Promise.resolve(void 0);te=()=>{d.then(ie)}};var ie=()=>{for(var d;d=V();){try{d.h.call(d.g)}catch(E){G(E)}var T=oe;T.j(d),100>T.h&&(T.h++,d.next=T.g,T.g=d)}pe=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(d,T){this.type=d,this.g=this.target=T,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,T=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};h.addEventListener("test",E,T),h.removeEventListener("test",E,T)}catch{}return d}();function Ue(d,T){if(ue.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=T,T=d.relatedTarget){if(F){e:{try{z(T.nodeName);var W=!0;break e}catch{}W=!1}W||(T=null)}}else E=="mouseover"?T=d.fromElement:E=="mouseout"&&(T=d.toElement);this.relatedTarget=T,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ve[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ue.aa.h.call(this)}}R(Ue,ue);var ve={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function Et(d,T,E,k,W){this.listener=d,this.proxy=null,this.src=T,this.type=E,this.capture=!!k,this.ha=W,this.key=++Ne,this.da=this.fa=!1}function Pt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function dn(d){this.src=d,this.g={},this.h=0}dn.prototype.add=function(d,T,E,k,W){var se=d.toString();d=this.g[se],d||(d=this.g[se]=[],this.h++);var _e=ki(d,T,k,W);return-1<_e?(T=d[_e],E||(T.fa=!1)):(T=new Et(T,this.src,se,!!k,W),T.fa=E,d.push(T)),T};function ri(d,T){var E=T.type;if(E in d.g){var k=d.g[E],W=Array.prototype.indexOf.call(k,T,void 0),se;(se=0<=W)&&Array.prototype.splice.call(k,W,1),se&&(Pt(T),d.g[E].length==0&&(delete d.g[E],d.h--))}}function ki(d,T,E,k){for(var W=0;W<d.length;++W){var se=d[W];if(!se.da&&se.listener==T&&se.capture==!!E&&se.ha==k)return W}return-1}var Un="closure_lm_"+(1e6*Math.random()|0),Ia={};function Ao(d,T,E,k,W){if(Array.isArray(T)){for(var se=0;se<T.length;se++)Ao(d,T[se],E,k,W);return null}return E=Ss(E),d&&d[Ie]?d.K(T,E,p(k)?!!k.capture:!1,W):Bn(d,T,E,!1,k,W)}function Bn(d,T,E,k,W,se){if(!T)throw Error("Invalid event type");var _e=p(W)?!!W.capture:!!W,ot=gr(d);if(ot||(d[Un]=ot=new dn(d)),E=ot.add(T,E,k,_e,se),E.proxy)return E;if(k=Zl(),E.proxy=k,k.src=d,k.listener=E,d.addEventListener)Te||(W=_e),W===void 0&&(W=!1),d.addEventListener(T.toString(),k,W);else if(d.attachEvent)d.attachEvent(ji(T.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Zl(){function d(E){return T.call(d.src,d.listener,E)}const T=qr;return d}function Da(d,T,E,k,W){if(Array.isArray(T))for(var se=0;se<T.length;se++)Da(d,T[se],E,k,W);else k=p(k)?!!k.capture:!!k,E=Ss(E),d&&d[Ie]?(d=d.i,T=String(T).toString(),T in d.g&&(se=d.g[T],E=ki(se,E,k,W),-1<E&&(Pt(se[E]),Array.prototype.splice.call(se,E,1),se.length==0&&(delete d.g[T],d.h--)))):d&&(d=gr(d))&&(T=d.g[T.toString()],d=-1,T&&(d=ki(T,E,k,W)),(E=-1<d?T[d]:null)&&bs(E))}function bs(d){if(typeof d!="number"&&d&&!d.da){var T=d.src;if(T&&T[Ie])ri(T.i,d);else{var E=d.type,k=d.proxy;T.removeEventListener?T.removeEventListener(E,k,d.capture):T.detachEvent?T.detachEvent(ji(E),k):T.addListener&&T.removeListener&&T.removeListener(k),(E=gr(T))?(ri(E,d),E.h==0&&(E.src=null,T[Un]=null)):Pt(d)}}}function ji(d){return d in Ia?Ia[d]:Ia[d]="on"+d}function qr(d,T){if(d.da)d=!0;else{T=new Ue(T,this);var E=d.listener,k=d.ha||d.src;d.fa&&bs(d),d=E.call(k,T)}return d}function gr(d){return d=d[Un],d instanceof dn?d:null}var xs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ss(d){return typeof d=="function"?d:(d[xs]||(d[xs]=function(T){return d.handleEvent(T)}),d[xs])}function pt(){ge.call(this),this.i=new dn(this),this.M=this,this.F=null}R(pt,ge),pt.prototype[Ie]=!0,pt.prototype.removeEventListener=function(d,T,E,k){Da(this,d,T,E,k)};function Qe(d,T){var E,k=d.F;if(k)for(E=[];k;k=k.F)E.push(k);if(d=d.M,k=T.type||T,typeof T=="string")T=new ue(T,d);else if(T instanceof ue)T.target=T.target||d;else{var W=T;T=new ue(k,d),U(T,W)}if(W=!0,E)for(var se=E.length-1;0<=se;se--){var _e=T.g=E[se];W=Dn(_e,k,!0,T)&&W}if(_e=T.g=d,W=Dn(_e,k,!0,T)&&W,W=Dn(_e,k,!1,T)&&W,E)for(se=0;se<E.length;se++)_e=T.g=E[se],W=Dn(_e,k,!1,T)&&W}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var d=this.i,T;for(T in d.g){for(var E=d.g[T],k=0;k<E.length;k++)Pt(E[k]);delete d.g[T],d.h--}}this.F=null},pt.prototype.K=function(d,T,E,k){return this.i.add(String(d),T,!1,E,k)},pt.prototype.L=function(d,T,E,k){return this.i.add(String(d),T,!0,E,k)};function Dn(d,T,E,k){if(T=d.i.g[String(T)],!T)return!0;T=T.concat();for(var W=!0,se=0;se<T.length;++se){var _e=T[se];if(_e&&!_e.da&&_e.capture==E){var ot=_e.listener,an=_e.ha||_e.src;_e.fa&&ri(d.i,_e),W=ot.call(an,k)!==!1&&W}}return W&&!k.defaultPrevented}function Yt(d,T,E){if(typeof d=="function")E&&(d=_(d,E));else if(d&&typeof d.handleEvent=="function")d=_(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:h.setTimeout(d,T||0)}function Ro(d){d.g=Yt(()=>{d.g=null,d.i&&(d.i=!1,Ro(d))},d.l);const T=d.h;d.h=null,d.m.apply(null,T)}class yr extends ge{constructor(T,E){super(),this.m=T,this.l=E,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Ro(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ii(d){ge.call(this),this.h=d,this.g={}}R(ii,ge);var si=[];function ai(d){j(d.g,function(T,E){this.g.hasOwnProperty(E)&&bs(T)},d),d.g={}}ii.prototype.N=function(){ii.aa.N.call(this),ai(this)},ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=h.JSON.stringify,Ui=h.JSON.parse,vr=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function As(){}As.prototype.h=null;function Bi(d){return d.h||(d.h=d.i())}function Pa(){}var _r={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gr(){ue.call(this,"d")}R(Gr,ue);function Rs(){ue.call(this,"c")}R(Rs,ue);var zn={},oi=null;function li(){return oi=oi||new pt}zn.La="serverreachability";function Cs(d){ue.call(this,zn.La,d)}R(Cs,ue);function $(d){const T=li();Qe(T,new Cs(T))}zn.STAT_EVENT="statevent";function Q(d,T){ue.call(this,zn.STAT_EVENT,d),this.stat=T}R(Q,ue);function J(d){const T=li();Qe(T,new Q(T,d))}zn.Ma="timingevent";function he(d,T){ue.call(this,zn.Ma,d),this.size=T}R(he,ue);function ye(d,T){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},T)}function Ee(){this.g=!0}Ee.prototype.xa=function(){this.g=!1};function Oe(d,T,E,k,W,se){d.info(function(){if(d.g)if(se)for(var _e="",ot=se.split("&"),an=0;an<ot.length;an++){var lt=ot[an].split("=");if(1<lt.length){var pn=lt[0];lt=lt[1];var on=pn.split("_");_e=2<=on.length&&on[1]=="type"?_e+(pn+"="+lt+"&"):_e+(pn+"=redacted&")}}else _e=null;else _e=se;return"XMLHTTP REQ ("+k+") [attempt "+W+"]: "+T+`
`+E+`
`+_e})}function xe(d,T,E,k,W,se,_e){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+W+"]: "+T+`
`+E+`
`+se+" "+_e})}function Re(d,T,E,k){d.info(function(){return"XMLHTTP TEXT ("+T+"): "+Ve(d,E)+(k?" "+k:"")})}function De(d,T){d.info(function(){return"TIMEOUT: "+T})}Ee.prototype.info=function(){};function Ve(d,T){if(!d.g)return T;if(!T)return null;try{var E=JSON.parse(T);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var k=E[d];if(!(2>k.length)){var W=k[1];if(Array.isArray(W)&&!(1>W.length)){var se=W[0];if(se!="noop"&&se!="stop"&&se!="close")for(var _e=1;_e<W.length;_e++)W[_e]=""}}}}return nr(E)}catch{return T}}var Ce={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ke={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tt;function yt(){}R(yt,As),yt.prototype.g=function(){return new XMLHttpRequest},yt.prototype.i=function(){return{}},tt=new yt;function ft(d,T,E,k){this.j=d,this.i=T,this.l=E,this.R=k||1,this.U=new ii(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new at}function at(){this.i=null,this.g="",this.h=!1}var Je={},Tr={};function sn(d,T,E){d.L=1,d.v=Oa(sr(T)),d.m=E,d.P=!0,Fn(d,null)}function Fn(d,T){d.F=Date.now(),rr(d),d.A=sr(d.v);var E=d.A,k=d.R;Array.isArray(k)||(k=[String(k)]),ru(E.i,"t",k),d.C=0,E=d.j.J,d.h=new at,d.g=xh(d.j,E?T:null,!d.m),0<d.O&&(d.M=new yr(_(d.Y,d,d.g),d.O)),T=d.U,E=d.g,k=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(si[0]=W.toString()),W=si);for(var se=0;se<W.length;se++){var _e=Ao(E,W[se],k||T.handleEvent,!1,T.h||T);if(!_e)break;T.g[_e.key]=_e}T=d.H?b(d.H):{},d.m?(d.u||(d.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,T)):(d.u="GET",d.g.ea(d.A,d.u,null,T)),$(),Oe(d.i,d.u,d.A,d.l,d.R,d.m)}ft.prototype.ca=function(d){d=d.target;const T=this.M;T&&Sr(d)==3?T.j():this.Y(d)},ft.prototype.Y=function(d){try{if(d==this.g)e:{const on=Sr(this.g);var T=this.g.Ba();const Yi=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||gh(this.g)))){this.J||on!=4||T==7||(T==8||0>=Yi?$(3):$(2)),Pn(this);var E=this.g.Z();this.X=E;t:if(Tn(this)){var k=gh(this.g);d="";var W=k.length,se=Sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),Hn(this);var _e="";break t}this.h.i=new h.TextDecoder}for(T=0;T<W;T++)this.h.h=!0,d+=this.h.i.decode(k[T],{stream:!(se&&T==W-1)});k.length=0,this.h.g+=d,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=E==200,xe(this.i,this.u,this.A,this.l,this.R,on,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,an=this.g;if((ot=an.g?an.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(ot)){var lt=ot;break t}}lt=null}if(E=lt)Re(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xt(this,E);else{this.o=!1,this.s=3,J(12),qe(this),Hn(this);break e}}if(this.P){E=!0;let En;for(;!this.J&&this.C<_e.length;)if(En=ui(this,_e),En==Tr){on==4&&(this.s=4,J(14),E=!1),Re(this.i,this.l,null,"[Incomplete Response]");break}else if(En==Je){this.s=4,J(15),Re(this.i,this.l,_e,"[Invalid Chunk]"),E=!1;break}else Re(this.i,this.l,En,null),Xt(this,En);if(Tn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||_e.length!=0||this.h.h||(this.s=1,J(16),E=!1),this.o=this.o&&E,!E)Re(this.i,this.l,_e,"[Invalid Chunked Response]"),qe(this),Hn(this);else if(0<_e.length&&!this.W){this.W=!0;var pn=this.j;pn.g==this&&pn.ba&&!pn.M&&(pn.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),Fa(pn),pn.M=!0,J(11))}}else Re(this.i,this.l,_e,null),Xt(this,_e);on==4&&qe(this),this.o&&!this.J&&(on==4?wh(this.j,this):(this.o=!1,rr(this)))}else xm(this.g),E==400&&0<_e.indexOf("Unknown SID")?(this.s=3,J(12)):(this.s=0,J(13)),qe(this),Hn(this)}}}catch{}finally{}};function Tn(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ui(d,T){var E=d.C,k=T.indexOf(`
`,E);return k==-1?Tr:(E=Number(T.substring(E,k)),isNaN(E)?Je:(k+=1,k+E>T.length?Tr:(T=T.slice(k,k+E),d.C=k+E,T)))}ft.prototype.cancel=function(){this.J=!0,qe(this)};function rr(d){d.S=Date.now()+d.I,Is(d,d.I)}function Is(d,T){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ye(_(d.ba,d),T)}function Pn(d){d.B&&(h.clearTimeout(d.B),d.B=null)}ft.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(De(this.i,this.A),this.L!=2&&($(),J(17)),qe(this),this.s=2,Hn(this)):Is(this,this.S-d)};function Hn(d){d.j.G==0||d.J||wh(d.j,d)}function qe(d){Pn(d);var T=d.M;T&&typeof T.ma=="function"&&T.ma(),d.M=null,ai(d.U),d.g&&(T=d.g,d.g=null,T.abort(),T.ma())}function Xt(d,T){try{var E=d.j;if(E.G!=0&&(E.g==d||wr(E.h,d))){if(!d.K&&wr(E.h,d)&&E.G==3){try{var k=E.Da.g.parse(T)}catch{k=null}if(Array.isArray(k)&&k.length==3){var W=k;if(W[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Lo(E),Oo(E);else break e;lu(E),J(18)}}else E.za=W[1],0<E.za-E.T&&37500>W[2]&&E.F&&E.v==0&&!E.C&&(E.C=ye(_(E.Za,E),6e3));if(1>=Rt(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ki(E,11)}else if((d.K||E.g==d)&&Lo(E),!M(T))for(W=E.Da.g.parse(T),T=0;T<W.length;T++){let lt=W[T];if(E.T=lt[0],lt=lt[1],E.G==2)if(lt[0]=="c"){E.K=lt[1],E.ia=lt[2];const pn=lt[3];pn!=null&&(E.la=pn,E.j.info("VER="+E.la));const on=lt[4];on!=null&&(E.Aa=on,E.j.info("SVER="+E.Aa));const Yi=lt[5];Yi!=null&&typeof Yi=="number"&&0<Yi&&(k=1.5*Yi,E.L=k,E.j.info("backChannelRequestTimeoutMs_="+k)),k=E;const En=d.g;if(En){const yi=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yi){var se=k.h;se.g||yi.indexOf("spdy")==-1&&yi.indexOf("quic")==-1&&yi.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(zi(se,se.h),se.h=null))}if(k.D){const cu=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;cu&&(k.ya=cu,bt(k.I,k.D,cu))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),k=E;var _e=d;if(k.qa=bh(k,k.J?k.ia:null,k.W),_e.K){wn(k.h,_e);var ot=_e,an=k.L;an&&(ot.I=an),ot.B&&(Pn(ot),rr(ot)),k.g=_e}else _h(k);0<E.i.length&&Vo(E)}else lt[0]!="stop"&&lt[0]!="close"||Ki(E,7);else E.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?Ki(E,7):au(E):lt[0]!="noop"&&E.l&&E.l.ta(lt),E.v=0)}}$(4)}catch{}}var ir=class{constructor(d,T){this.g=d,this.map=T}};function Xn(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ci(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Rt(d){return d.h?1:d.g?d.g.size:0}function wr(d,T){return d.h?d.h==T:d.g?d.g.has(T):!1}function zi(d,T){d.g?d.g.add(T):d.h=T}function wn(d,T){d.h&&d.h==T?d.h=null:d.g&&d.g.has(T)&&d.g.delete(T)}Xn.prototype.cancel=function(){if(this.i=Jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Jl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let T=d.i;for(const E of d.g.values())T=T.concat(E.D);return T}return L(d.i)}function Tm(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var T=[],E=d.length,k=0;k<E;k++)T.push(d[k]);return T}T=[],E=0;for(k in d)T[E++]=d[k];return T}function Co(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var T=[];d=d.length;for(var E=0;E<d;E++)T.push(E);return T}T=[],E=0;for(const k in d)T[E++]=k;return T}}}function eu(d,T){if(d.forEach&&typeof d.forEach=="function")d.forEach(T,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,T,void 0);else for(var E=Co(d),k=Tm(d),W=k.length,se=0;se<W;se++)T.call(void 0,k[se],E&&E[se],d)}var Na=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wm(d,T){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var k=d[E].indexOf("="),W=null;if(0<=k){var se=d[E].substring(0,k);W=d[E].substring(k+1)}else se=d[E];T(se,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Qt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Qt){this.h=d.h,Ma(this,d.j),this.o=d.o,this.g=d.g,Ds(this,d.s),this.l=d.l;var T=d.i,E=new Hi;E.i=T.i,T.g&&(E.g=new Map(T.g),E.h=T.h),Fi(this,E),this.m=d.m}else d&&(T=String(d).match(Na))?(this.h=!1,Ma(this,T[1]||"",!0),this.o=Er(T[2]||""),this.g=Er(T[3]||"",!0),Ds(this,T[4]),this.l=Er(T[5]||"",!0),Fi(this,T[6]||"",!0),this.m=Er(T[7]||"")):(this.h=!1,this.i=new Hi(null,this.h))}Qt.prototype.toString=function(){var d=[],T=this.j;T&&d.push(Va(T,tu,!0),":");var E=this.g;return(E||T=="file")&&(d.push("//"),(T=this.o)&&d.push(Va(T,tu,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Va(E,E.charAt(0)=="/"?Em:nu,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Va(E,Io)),d.join("")};function sr(d){return new Qt(d)}function Ma(d,T,E){d.j=E?Er(T,!0):T,d.j&&(d.j=d.j.replace(/:$/,""))}function Ds(d,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);d.s=T}else d.s=null}function Fi(d,T,E){T instanceof Hi?(d.i=T,mh(d.i,d.h)):(E||(T=Va(T,bm)),d.i=new Hi(T,d.h))}function bt(d,T,E){d.i.set(T,E)}function Oa(d){return bt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Er(d,T){return d?T?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Va(d,T,E){return typeof d=="string"?(d=encodeURI(d).replace(T,dh),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function dh(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var tu=/[#\/\?@]/g,nu=/[#\?:]/g,Em=/[#\?]/g,bm=/[#\?@]/g,Io=/#/g;function Hi(d,T){this.h=this.g=null,this.i=d||null,this.j=!!T}function br(d){d.g||(d.g=new Map,d.h=0,d.i&&wm(d.i,function(T,E){d.add(decodeURIComponent(T.replace(/\+/g," ")),E)}))}t=Hi.prototype,t.add=function(d,T){br(this),this.i=null,d=hi(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(T),this.h+=1,this};function qi(d,T){br(d),T=hi(d,T),d.g.has(T)&&(d.i=null,d.h-=d.g.get(T).length,d.g.delete(T))}function Gi(d,T){return br(d),T=hi(d,T),d.g.has(T)}t.forEach=function(d,T){br(this),this.g.forEach(function(E,k){E.forEach(function(W){d.call(T,W,k,this)},this)},this)},t.na=function(){br(this);const d=Array.from(this.g.values()),T=Array.from(this.g.keys()),E=[];for(let k=0;k<T.length;k++){const W=d[k];for(let se=0;se<W.length;se++)E.push(T[k])}return E},t.V=function(d){br(this);let T=[];if(typeof d=="string")Gi(this,d)&&(T=T.concat(this.g.get(hi(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)T=T.concat(d[E])}return T},t.set=function(d,T){return br(this),this.i=null,d=hi(this,d),Gi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[T]),this.h+=1,this},t.get=function(d,T){return d?(d=this.V(d),0<d.length?String(d[0]):T):T};function ru(d,T,E){qi(d,T),0<E.length&&(d.i=null,d.g.set(hi(d,T),L(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],T=Array.from(this.g.keys());for(var E=0;E<T.length;E++){var k=T[E];const se=encodeURIComponent(String(k)),_e=this.V(k);for(k=0;k<_e.length;k++){var W=se;_e[k]!==""&&(W+="="+encodeURIComponent(String(_e[k]))),d.push(W)}}return this.i=d.join("&")};function hi(d,T){return T=String(T),d.j&&(T=T.toLowerCase()),T}function mh(d,T){T&&!d.j&&(br(d),d.i=null,d.g.forEach(function(E,k){var W=k.toLowerCase();k!=W&&(qi(this,k),ru(this,W,E))},d)),d.j=T}function La(d,T){const E=new Ee;if(h.Image){const k=new Image;k.onload=x(xr,E,"TestLoadImage: loaded",!0,T,k),k.onerror=x(xr,E,"TestLoadImage: error",!1,T,k),k.onabort=x(xr,E,"TestLoadImage: abort",!1,T,k),k.ontimeout=x(xr,E,"TestLoadImage: timeout",!1,T,k),h.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else T(!1)}function $r(d,T){const E=new Ee,k=new AbortController,W=setTimeout(()=>{k.abort(),xr(E,"TestPingServer: timeout",!1,T)},1e4);fetch(d,{signal:k.signal}).then(se=>{clearTimeout(W),se.ok?xr(E,"TestPingServer: ok",!0,T):xr(E,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(W),xr(E,"TestPingServer: error",!1,T)})}function xr(d,T,E,k,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),k(E)}catch{}}function ka(){this.g=new vr}function fi(d,T,E){const k=E||"";try{eu(d,function(W,se){let _e=W;p(W)&&(_e=nr(W)),T.push(k+se+"="+encodeURIComponent(_e))})}catch(W){throw T.push(k+"type="+encodeURIComponent("_badmap")),W}}function Ps(d){this.l=d.Ub||null,this.j=d.eb||!1}R(Ps,As),Ps.prototype.g=function(){return new $i(this.l,this.j)},Ps.prototype.i=function(d){return function(){return d}}({});function $i(d,T){pt.call(this),this.D=d,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R($i,pt),t=$i.prototype,t.open=function(d,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=T,this.readyState=1,mi(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(T.body=d),(this.D||h).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iu(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function iu(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var T=d.value?d.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!d.done}))&&(this.response=this.responseText+=T)}d.done?di(this):mi(this),this.readyState==3&&iu(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,di(this))},t.Qa=function(d){this.g&&(this.response=d,di(this))},t.ga=function(){this.g&&di(this)};function di(d){d.readyState=4,d.l=null,d.j=null,d.v=null,mi(d)}t.setRequestHeader=function(d,T){this.u.append(d,T)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],T=this.h.entries();for(var E=T.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=T.next();return d.join(`\r
`)};function mi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty($i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function su(d){let T="";return j(d,function(E,k){T+=k,T+=":",T+=E,T+=`\r
`}),T}function mn(d,T,E){e:{for(k in E){var k=!1;break e}k=!0}k||(E=su(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):bt(d,T,E))}function vt(d){pt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(vt,pt);var Do=/^https?$/i,ja=["POST","PUT"];t=vt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,T,E,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);T=T?T.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tt.g(),this.v=this.o?Bi(this.o):Bi(tt),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(T,String(d),!0),this.B=!1}catch(se){ph(this,se);return}if(d=E||"",E=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var W in k)E.set(W,k[W]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const se of k.keys())E.set(se,k.get(se));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(E.keys()).find(se=>se.toLowerCase()=="content-type"),W=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(ja,T,void 0))||k||W||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,_e]of E)this.g.setRequestHeader(se,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ua(this),this.u=!0,this.g.send(d),this.u=!1}catch(se){ph(this,se)}};function ph(d,T){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=T,d.m=5,Po(d),pi(d)}function Po(d){d.A||(d.A=!0,Qe(d,"complete"),Qe(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Qe(this,"complete"),Qe(this,"abort"),pi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?No(this):this.bb())},t.bb=function(){No(this)};function No(d){if(d.h&&typeof u<"u"&&(!d.v[1]||Sr(d)!=4||d.Z()!=2)){if(d.u&&Sr(d)==4)Yt(d.Ea,0,d);else if(Qe(d,"readystatechange"),Sr(d)==4){d.h=!1;try{const _e=d.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var E;if(!(E=T)){var k;if(k=_e===0){var W=String(d.D).match(Na)[1]||null;!W&&h.self&&h.self.location&&(W=h.self.location.protocol.slice(0,-1)),k=!Do.test(W?W.toLowerCase():"")}E=k}if(E)Qe(d,"complete"),Qe(d,"success");else{d.m=6;try{var se=2<Sr(d)?d.g.statusText:""}catch{se=""}d.l=se+" ["+d.Z()+"]",Po(d)}}finally{pi(d)}}}}function pi(d,T){if(d.g){Ua(d);const E=d.g,k=d.v[0]?()=>{}:null;d.g=null,d.v=null,T||Qe(d,"ready");try{E.onreadystatechange=k}catch{}}}function Ua(d){d.I&&(h.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Sr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Sr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var T=this.g.responseText;return d&&T.indexOf(d)==0&&(T=T.substring(d.length)),Ui(T)}};function gh(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function xm(d){const T={};d=(d.g&&2<=Sr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(M(d[k]))continue;var E=B(d[k]);const W=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const se=T[W]||[];T[W]=se,se.push(E)}A(T,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ba(d,T,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||T}function Mo(d){this.Aa=0,this.i=[],this.j=new Ee,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ba("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ba("baseRetryDelayMs",5e3,d),this.cb=Ba("retryDelaySeedMs",1e4,d),this.Wa=Ba("forwardChannelMaxRetries",2,d),this.wa=Ba("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Xn(d&&d.concurrentRequestLimit),this.Da=new ka,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Mo.prototype,t.la=8,t.G=1,t.connect=function(d,T,E,k){J(0),this.W=d,this.H=T||{},E&&k!==void 0&&(this.H.OSID=E,this.H.OAID=k),this.F=this.X,this.I=bh(this,null,this.W),Vo(this)};function au(d){if(yh(d),d.G==3){var T=d.U++,E=sr(d.I);if(bt(E,"SID",d.K),bt(E,"RID",T),bt(E,"TYPE","terminate"),za(d,E),T=new ft(d,d.j,T),T.L=2,T.v=Oa(sr(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(T.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=T.v,E=!0),E||(T.g=xh(T.j,null),T.g.ea(T.v)),T.F=Date.now(),rr(T)}Eh(d)}function Oo(d){d.g&&(Fa(d),d.g.cancel(),d.g=null)}function yh(d){Oo(d),d.u&&(h.clearTimeout(d.u),d.u=null),Lo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function Vo(d){if(!ci(d.h)&&!d.s){d.s=!0;var T=d.Ga;te||H(),pe||(te(),pe=!0),we.add(T,d),d.B=0}}function Sm(d,T){return Rt(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=T.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ye(_(d.Ga,d,T),uu(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new ft(this,this.j,d);let se=this.o;if(this.S&&(se?(se=b(se),U(se,this.S)):se=this.S),this.m!==null||this.O||(W.H=se,se=null),this.P)e:{for(var T=0,E=0;E<this.i.length;E++){t:{var k=this.i[E];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(T+=k,4096<T){T=E;break e}if(T===4096||E===this.i.length-1){T=E+1;break e}}T=1e3}else T=1e3;T=vh(this,W,T),E=sr(this.I),bt(E,"RID",d),bt(E,"CVER",22),this.D&&bt(E,"X-HTTP-Session-Id",this.D),za(this,E),se&&(this.O?T="headers="+encodeURIComponent(String(su(se)))+"&"+T:this.m&&mn(E,this.m,se)),zi(this.h,W),this.Ua&&bt(E,"TYPE","init"),this.P?(bt(E,"$req",T),bt(E,"SID","null"),W.T=!0,sn(W,E,null)):sn(W,E,T),this.G=2}}else this.G==3&&(d?ou(this,d):this.i.length==0||ci(this.h)||ou(this))};function ou(d,T){var E;T?E=T.l:E=d.U++;const k=sr(d.I);bt(k,"SID",d.K),bt(k,"RID",E),bt(k,"AID",d.T),za(d,k),d.m&&d.o&&mn(k,d.m,d.o),E=new ft(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),T&&(d.i=T.D.concat(d.i)),T=vh(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),zi(d.h,E),sn(E,k,T)}function za(d,T){d.H&&j(d.H,function(E,k){bt(T,k,E)}),d.l&&eu({},function(E,k){bt(T,k,E)})}function vh(d,T,E){E=Math.min(d.i.length,E);var k=d.l?_(d.l.Na,d.l,d):null;e:{var W=d.i;let se=-1;for(;;){const _e=["count="+E];se==-1?0<E?(se=W[0].g,_e.push("ofs="+se)):se=0:_e.push("ofs="+se);let ot=!0;for(let an=0;an<E;an++){let lt=W[an].g;const pn=W[an].map;if(lt-=se,0>lt)se=Math.max(0,W[an].g-100),ot=!1;else try{fi(pn,_e,"req"+lt+"_")}catch{k&&k(pn)}}if(ot){k=_e.join("&");break e}}}return d=d.i.splice(0,E),T.D=d,k}function _h(d){if(!d.g&&!d.u){d.Y=1;var T=d.Fa;te||H(),pe||(te(),pe=!0),we.add(T,d),d.v=0}}function lu(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ye(_(d.Fa,d),uu(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Th(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ye(_(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,J(10),Oo(this),Th(this))};function Fa(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function Th(d){d.g=new ft(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var T=sr(d.qa);bt(T,"RID","rpc"),bt(T,"SID",d.K),bt(T,"AID",d.T),bt(T,"CI",d.F?"0":"1"),!d.F&&d.ja&&bt(T,"TO",d.ja),bt(T,"TYPE","xmlhttp"),za(d,T),d.m&&d.o&&mn(T,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Oa(sr(T)),E.m=null,E.P=!0,Fn(E,d)}t.Za=function(){this.C!=null&&(this.C=null,Oo(this),lu(this),J(19))};function Lo(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function wh(d,T){var E=null;if(d.g==T){Lo(d),Fa(d),d.g=null;var k=2}else if(wr(d.h,T))E=T.D,wn(d.h,T),k=1;else return;if(d.G!=0){if(T.o)if(k==1){E=T.m?T.m.length:0,T=Date.now()-T.F;var W=d.B;k=li(),Qe(k,new he(k,E)),Vo(d)}else _h(d);else if(W=T.s,W==3||W==0&&0<T.X||!(k==1&&Sm(d,T)||k==2&&lu(d)))switch(E&&0<E.length&&(T=d.h,T.i=T.i.concat(E)),W){case 1:Ki(d,5);break;case 4:Ki(d,10);break;case 3:Ki(d,6);break;default:Ki(d,2)}}}function uu(d,T){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*T}function Ki(d,T){if(d.j.info("Error code "+T),T==2){var E=_(d.fb,d),k=d.Xa;const W=!k;k=new Qt(k||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ma(k,"https"),Oa(k),W?La(k.toString(),E):$r(k.toString(),E)}else J(2);d.G=0,d.l&&d.l.sa(T),Eh(d),yh(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function Eh(d){if(d.G=0,d.ka=[],d.l){const T=Jl(d.h);(T.length!=0||d.i.length!=0)&&(D(d.ka,T),D(d.ka,d.i),d.h.i.length=0,L(d.i),d.i.length=0),d.l.ra()}}function bh(d,T,E){var k=E instanceof Qt?sr(E):new Qt(E);if(k.g!="")T&&(k.g=T+"."+k.g),Ds(k,k.s);else{var W=h.location;k=W.protocol,T=T?T+"."+W.hostname:W.hostname,W=+W.port;var se=new Qt(null);k&&Ma(se,k),T&&(se.g=T),W&&Ds(se,W),E&&(se.l=E),k=se}return E=d.D,T=d.ya,E&&T&&bt(k,E,T),bt(k,"VER",d.la),za(d,k),k}function xh(d,T,E){if(T&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=d.Ca&&!d.pa?new vt(new Ps({eb:E})):new vt(d.pa),T.Ha(d.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sh(){}t=Sh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ko(){}ko.prototype.g=function(d,T){return new qn(d,T)};function qn(d,T){pt.call(this),this.g=new Mo(T),this.l=d,this.h=T&&T.messageUrlParams||null,d=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(d?d["X-WebChannel-Content-Type"]=T.messageContentType:d={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(d?d["X-WebChannel-Client-Profile"]=T.va:d={"X-WebChannel-Client-Profile":T.va}),this.g.S=d,(d=T&&T.Sb)&&!M(d)&&(this.g.m=d),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!M(T)&&(this.g.D=T,d=this.h,d!==null&&T in d&&(d=this.h,T in d&&delete d[T])),this.j=new gi(this)}R(qn,pt),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){au(this.g)},qn.prototype.o=function(d){var T=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=nr(d),d=E);T.i.push(new ir(T.Ya++,d)),T.G==3&&Vo(T)},qn.prototype.N=function(){this.g.l=null,delete this.j,au(this.g),delete this.g,qn.aa.N.call(this)};function Ah(d){Gr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var T=d.__sm__;if(T){e:{for(const E in T){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,T=T!==null&&d in T?T[d]:void 0),this.data=T}else this.data=d}R(Ah,Gr);function Rh(){Rs.call(this),this.status=1}R(Rh,Rs);function gi(d){this.g=d}R(gi,Sh),gi.prototype.ua=function(){Qe(this.g,"a")},gi.prototype.ta=function(d){Qe(this.g,new Ah(d))},gi.prototype.sa=function(d){Qe(this.g,new Rh)},gi.prototype.ra=function(){Qe(this.g,"b")},ko.prototype.createWebChannel=ko.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,L2=function(){return new ko},V2=function(){return li()},O2=zn,wy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ce.NO_ERROR=0,Ce.TIMEOUT=8,Ce.HTTP_ERROR=6,Xf=Ce,ke.COMPLETE="complete",M2=ke,Pa.EventType=_r,_r.OPEN="a",_r.CLOSE="b",_r.ERROR="c",_r.MESSAGE="d",pt.prototype.listen=pt.prototype.K,cc=Pa,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,N2=vt}).apply(typeof Nf<"u"?Nf:typeof self<"u"?self:typeof window<"u"?window:{});const wE="@firebase/firestore",EE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new _v("@firebase/firestore");function ml(){return wo.logLevel}function be(t,...e){if(wo.logLevel<=it.DEBUG){const n=e.map(Pv);wo.debug(`Firestore (${Hl}): ${t}`,...n)}}function ps(t,...e){if(wo.logLevel<=it.ERROR){const n=e.map(Pv);wo.error(`Firestore (${Hl}): ${t}`,...n)}}function Pl(t,...e){if(wo.logLevel<=it.WARN){const n=e.map(Pv);wo.warn(`Firestore (${Hl}): ${t}`,...n)}}function Pv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,k2(t,r,n)}function k2(t,e,n){let r=`FIRESTORE (${Hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ps(r),new Error(r)}function _t(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||k2(e,a,r)}function $e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Ts{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class G5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vn.UNAUTHENTICATED))}shutdown(){}}class $5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class K5{constructor(e){this.t=e,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_t(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let l=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new hs,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const f=l;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},h=f=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new hs)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t(typeof r.accessToken=="string",31837,{l:r}),new j2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new Vn(e)}}class Y5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class X5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Y5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Lr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_t(this.o===void 0,3512);const r=l=>{l.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,be("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=W5(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function Ze(t,e){return t<e?-1:t>e?1:0}function Ey(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),a=e.codePointAt(n);if(r!==a){if(r<128&&a<128)return Ze(r,a);{const l=U2(),u=Z5(l.encode(xE(t,n)),l.encode(xE(e,n)));return u!==0?u:Ze(r,a)}}n+=r>65535?2:1}return Ze(t.length,e.length)}function xE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Z5(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ze(t[n],e[n]);return Ze(t.length,e.length)}function Nl(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=-62135596800,AE=1e6;class cn{static now(){return cn.fromMillis(Date.now())}static fromDate(e){return cn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*AE);return new cn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<SE)throw new Se(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AE}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-SE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new cn(0,0))}static max(){return new Ge(new cn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="__name__";class Si{constructor(e,n,r){n===void 0?n=0:n>e.length&&ze(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ze(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=Si.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ze(e.length,n.length)}static compareSegments(e,n){const r=Si.isNumericId(e),a=Si.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Si.extractNumericId(e).compare(Si.extractNumericId(n)):Ey(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return da.fromString(e.substring(4,e.length-2))}}class Nt extends Si{construct(e,n,r){return new Nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new Nt(n)}static emptyPath(){return new Nt([])}}const J5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends Si{construct(e,n,r){return new Cn(e,n,r)}static isValidIdentifier(e){return J5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RE}static keyField(){return new Cn([RE])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new Se(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new Se(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Se(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(l(),a++)}if(l(),u)throw new Se(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cn(n)}static emptyPath(){return new Cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Nt.fromString(e))}static fromName(e){return new Me(Nt.fromString(e).popFirst(5))}static empty(){return new Me(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=-1;function eO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Ge.fromTimestamp(r===1e9?new cn(n+1,0):new cn(n,r));return new ga(a,Me.empty(),e)}function tO(t){return new ga(t.readTime,t.key,Nc)}class ga{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ga(Ge.min(),Me.empty(),Nc)}static max(){return new ga(Ge.max(),Me.empty(),Nc)}}function nO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==rO)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):de.reject(n)}static resolve(e){return new de((n,r)=>{n(e)})}static reject(e){return new de((n,r)=>{r(e)})}static waitFor(e){return new de((n,r)=>{let a=0,l=0,u=!1;e.forEach(h=>{++a,h.next(()=>{++l,u&&l===a&&n()},f=>r(f))}),u=!0,l===a&&n()})}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next(a=>a?de.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(e,n){return new de((r,a)=>{const l=e.length,u=new Array(l);let h=0;for(let f=0;f<l;f++){const p=f;n(e[p]).next(g=>{u[p]=g,++h,h===l&&r(u)},g=>a(g))}})}static doWhile(e,n){return new de((r,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):r()};l()})}}function sO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Zd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=-1;function Jd(t){return t==null}function wd(t){return t===0&&1/t==-1/0}function aO(t){return typeof t=="number"&&Number.isInteger(t)&&!wd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="";function oO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=CE(e)),e=lO(t.get(n),e);return CE(e)}function lO(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case z2:n+="";break;default:n+=l}}return n}function CE(t){return t+z2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Aa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function F2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n){this.comparator=e,this.root=n||Rn.EMPTY}insert(e,n){return new kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mf(this.root,e,this.comparator,!0)}}class Mf{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??Rn.RED,this.left=a??Rn.EMPTY,this.right=l??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new Rn(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Rn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new Rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new DE(this.data.getIterator())}getIteratorFrom(e){return new DE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new hn(this.comparator);return n.data=e,n}}class DE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(Cn.comparator)}static empty(){return new pr([])}unionWith(e){let n=new hn(Cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Nl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new H2("Invalid base64 string: "+l):l}}(e);return new In(n)}static fromUint8Array(e){const n=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new In(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}In.EMPTY_BYTE_STRING=new In("");const uO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ya(t){if(_t(!!t,39018),typeof t=="string"){let e=0;const n=uO.exec(t);if(_t(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$t(t.seconds),nanos:$t(t.nanos)}}function $t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function va(t){return typeof t=="string"?In.fromBase64String(t):In.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="server_timestamp",G2="__type__",$2="__previous_value__",K2="__local_write_time__";function Mv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[G2])===null||n===void 0?void 0:n.stringValue)===q2}function em(t){const e=t.mapValue.fields[$2];return Mv(e)?em(e):e}function Mc(t){const e=ya(t.mapValue.fields[K2].timestampValue);return new cn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n,r,a,l,u,h,f,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=g}}const Ed="(default)";class Oc{constructor(e,n){this.projectId=e,this.database=n||Ed}static empty(){return new Oc("","")}get isDefaultDatabase(){return this.database===Ed}isEqual(e){return e instanceof Oc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="__type__",hO="__max__",Of={mapValue:{}},X2="__vector__",bd="value";function _a(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mv(t)?4:dO(t)?9007199254740991:fO(t)?10:11:ze(28295,{value:t})}function Mi(t,e){if(t===e)return!0;const n=_a(t);if(n!==_a(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mc(t).isEqual(Mc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ya(a.timestampValue),h=ya(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return va(a.bytesValue).isEqual(va(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return $t(a.geoPointValue.latitude)===$t(l.geoPointValue.latitude)&&$t(a.geoPointValue.longitude)===$t(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return $t(a.integerValue)===$t(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=$t(a.doubleValue),h=$t(l.doubleValue);return u===h?wd(u)===wd(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return Nl(t.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(IE(u)!==IE(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Mi(u[f],h[f])))return!1;return!0}(t,e);default:return ze(52216,{left:t})}}function Vc(t,e){return(t.values||[]).find(n=>Mi(n,e))!==void 0}function Ml(t,e){if(t===e)return 0;const n=_a(t),r=_a(e);if(n!==r)return Ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return function(l,u){const h=$t(l.integerValue||l.doubleValue),f=$t(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(t,e);case 3:return PE(t.timestampValue,e.timestampValue);case 4:return PE(Mc(t),Mc(e));case 5:return Ey(t.stringValue,e.stringValue);case 6:return function(l,u){const h=va(l),f=va(u);return h.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(l,u){const h=l.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const g=Ze(h[p],f[p]);if(g!==0)return g}return Ze(h.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,u){const h=Ze($t(l.latitude),$t(u.latitude));return h!==0?h:Ze($t(l.longitude),$t(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return NE(t.arrayValue,e.arrayValue);case 10:return function(l,u){var h,f,p,g;const v=l.fields||{},_=u.fields||{},x=(h=v[bd])===null||h===void 0?void 0:h.arrayValue,R=(f=_[bd])===null||f===void 0?void 0:f.arrayValue,L=Ze(((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0,((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0);return L!==0?L:NE(x,R)}(t.mapValue,e.mapValue);case 11:return function(l,u){if(l===Of.mapValue&&u===Of.mapValue)return 0;if(l===Of.mapValue)return 1;if(u===Of.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),p=u.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const _=Ey(f[v],g[v]);if(_!==0)return _;const x=Ml(h[f[v]],p[g[v]]);if(x!==0)return x}return Ze(f.length,g.length)}(t.mapValue,e.mapValue);default:throw ze(23264,{Pe:n})}}function PE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const n=ya(t),r=ya(e),a=Ze(n.seconds,r.seconds);return a!==0?a:Ze(n.nanos,r.nanos)}function NE(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=Ml(n[a],r[a]);if(l)return l}return Ze(n.length,r.length)}function Ol(t){return by(t)}function by(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ya(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return va(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=by(l);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${by(n.fields[u])}`;return a+"}"}(t.mapValue):ze(61005,{value:t})}function Qf(t){switch(_a(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=em(t);return e?16+Qf(e):16;case 5:return 2*t.stringValue.length;case 6:return va(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+Qf(l),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return Aa(r.fields,(l,u)=>{a+=l.length+Qf(u)}),a}(t.mapValue);default:throw ze(13486,{value:t})}}function ME(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xy(t){return!!t&&"integerValue"in t}function Ov(t){return!!t&&"arrayValue"in t}function OE(t){return!!t&&"nullValue"in t}function VE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wf(t){return!!t&&"mapValue"in t}function fO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Y2])===null||n===void 0?void 0:n.stringValue)===X2}function yc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Aa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===hO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.value=e}static empty(){return new er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yc(n)}setAll(e){let n=Cn.emptyPath(),r={},a=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,a),r={},a=[],n=h.popLast()}u?r[h.lastSegment()]=yc(u):a.push(h.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());Wf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Wf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Aa(n,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new er(yc(this.value))}}function Q2(t){const e=[];return Aa(t.fields,(n,r)=>{const a=new Cn([n]);if(Wf(r)){const l=Q2(r.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n,r,a,l,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Ln(e,0,Ge.min(),Ge.min(),Ge.min(),er.empty(),0)}static newFoundDocument(e,n,r,a){return new Ln(e,1,n,Ge.min(),r,a,0)}static newNoDocument(e,n){return new Ln(e,2,n,Ge.min(),Ge.min(),er.empty(),0)}static newUnknownDocument(e,n){return new Ln(e,3,n,Ge.min(),Ge.min(),er.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n){this.position=e,this.inclusive=n}}function LE(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?r=Me.comparator(Me.fromName(u.referenceValue),n.key):r=Ml(u,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function kE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n="asc"){this.field=e,this.dir=n}}function mO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{}class nn extends W2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gO(e,n,r):n==="array-contains"?new _O(e,r):n==="in"?new TO(e,r):n==="not-in"?new wO(e,r):n==="array-contains-any"?new EO(e,r):new nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yO(e,r):new vO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ml(n,this.value)):n!==null&&_a(this.value)===_a(n)&&this.matchesComparison(Ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends W2{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ei(e,n)}matches(e){return Z2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Z2(t){return t.op==="and"}function J2(t){return pO(t)&&Z2(t)}function pO(t){for(const e of t.filters)if(e instanceof ei)return!1;return!0}function Sy(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+Ol(t.value);if(J2(t))return t.filters.map(e=>Sy(e)).join(",");{const e=t.filters.map(n=>Sy(n)).join(",");return`${t.op}(${e})`}}function eA(t,e){return t instanceof nn?function(r,a){return a instanceof nn&&r.op===a.op&&r.field.isEqual(a.field)&&Mi(r.value,a.value)}(t,e):t instanceof ei?function(r,a){return a instanceof ei&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,u,h)=>l&&eA(u,a.filters[h]),!0):!1}(t,e):void ze(19439)}function tA(t){return t instanceof nn?function(n){return`${n.field.canonicalString()} ${n.op} ${Ol(n.value)}`}(t):t instanceof ei?function(n){return n.op.toString()+" {"+n.getFilters().map(tA).join(" ,")+"}"}(t):"Filter"}class gO extends nn{constructor(e,n,r){super(e,n,r),this.key=Me.fromName(r.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class yO extends nn{constructor(e,n){super(e,"in",n),this.keys=nA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vO extends nn{constructor(e,n){super(e,"not-in",n),this.keys=nA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function nA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Me.fromName(r.referenceValue))}class _O extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ov(n)&&Vc(n.arrayValue,this.value)}}class TO extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vc(this.value.arrayValue,n)}}class wO extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vc(this.value.arrayValue,n)}}class EO extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ov(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n=null,r=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Ie=null}}function jE(t,e=null,n=[],r=[],a=null,l=null,u=null){return new bO(t,e,n,r,a,l,u)}function Vv(t){const e=$e(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),Jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ol(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ol(r)).join(",")),e.Ie=n}return e.Ie}function Lv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kE(t.startAt,e.startAt)&&kE(t.endAt,e.endAt)}function Ay(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n=null,r=[],a=[],l=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function xO(t,e,n,r,a,l,u,h){return new rh(t,e,n,r,a,l,u,h)}function kv(t){return new rh(t)}function UE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rA(t){return t.collectionGroup!==null}function vc(t){const e=$e(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new hn(Cn.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Sd(l,r))}),n.has(Cn.keyField().canonicalString())||e.Ee.push(new Sd(Cn.keyField(),r))}return e.Ee}function Ii(t){const e=$e(t);return e.de||(e.de=SO(e,vc(t))),e.de}function SO(t,e){if(t.limitType==="F")return jE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Sd(a.field,l)});const n=t.endAt?new xd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xd(t.startAt.position,t.startAt.inclusive):null;return jE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ry(t,e){const n=t.filters.concat([e]);return new rh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cy(t,e,n){return new rh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tm(t,e){return Lv(Ii(t),Ii(e))&&t.limitType===e.limitType}function iA(t){return`${Vv(Ii(t))}|lt:${t.limitType}`}function pl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>tA(a)).join(", ")}]`),Jd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>Ol(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>Ol(a)).join(",")),`Target(${r})`}(Ii(t))}; limitType=${t.limitType})`}function nm(t,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Me.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(t,e)&&function(r,a){for(const l of vc(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(u,h,f){const p=LE(u,h,f);return u.inclusive?p<=0:p<0}(r.startAt,vc(r),a)||r.endAt&&!function(u,h,f){const p=LE(u,h,f);return u.inclusive?p>=0:p>0}(r.endAt,vc(r),a))}(t,e)}function AO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sA(t){return(e,n)=>{let r=!1;for(const a of vc(t)){const l=RO(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function RO(t,e,n){const r=t.field.isKeyField()?Me.comparator(e.key,n.key):function(l,u,h){const f=u.data.field(l),p=h.data.field(l);return f!==null&&p!==null?Ml(f,p):ze(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,(n,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return F2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=new kt(Me.comparator);function gs(){return CO}const aA=new kt(Me.comparator);function hc(...t){let e=aA;for(const n of t)e=e.insert(n.key,n);return e}function oA(t){let e=aA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function uo(){return _c()}function lA(){return _c()}function _c(){return new xo(t=>t.toString(),(t,e)=>t.isEqual(e))}const IO=new kt(Me.comparator),DO=new hn(Me.comparator);function st(...t){let e=DO;for(const n of t)e=e.add(n);return e}const PO=new hn(Ze);function NO(){return PO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wd(e)?"-0":e}}function uA(t){return{integerValue:""+t}}function MO(t,e){return aO(e)?uA(e):jv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this._=void 0}}function OO(t,e,n){return t instanceof Ad?function(a,l){const u={fields:{[G2]:{stringValue:q2},[K2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Mv(l)&&(l=em(l)),l&&(u.fields[$2]=l),{mapValue:u}}(n,e):t instanceof Lc?hA(t,e):t instanceof kc?fA(t,e):function(a,l){const u=cA(a,l),h=BE(u)+BE(a.Re);return xy(u)&&xy(a.Re)?uA(h):jv(a.serializer,h)}(t,e)}function VO(t,e,n){return t instanceof Lc?hA(t,e):t instanceof kc?fA(t,e):n}function cA(t,e){return t instanceof Rd?function(r){return xy(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class Ad extends rm{}class Lc extends rm{constructor(e){super(),this.elements=e}}function hA(t,e){const n=dA(e);for(const r of t.elements)n.some(a=>Mi(a,r))||n.push(r);return{arrayValue:{values:n}}}class kc extends rm{constructor(e){super(),this.elements=e}}function fA(t,e){let n=dA(e);for(const r of t.elements)n=n.filter(a=>!Mi(a,r));return{arrayValue:{values:n}}}class Rd extends rm{constructor(e,n){super(),this.serializer=e,this.Re=n}}function BE(t){return $t(t.integerValue||t.doubleValue)}function dA(t){return Ov(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function LO(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof Lc&&a instanceof Lc||r instanceof kc&&a instanceof kc?Nl(r.elements,a.elements,Mi):r instanceof Rd&&a instanceof Rd?Mi(r.Re,a.Re):r instanceof Ad&&a instanceof Ad}(t.transform,e.transform)}class kO{constructor(e,n){this.version=e,this.transformResults=n}}class Zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zr}static exists(e){return new Zr(void 0,e)}static updateTime(e){return new Zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class im{}function mA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Uv(t.key,Zr.none()):new ih(t.key,t.data,Zr.none());{const n=t.data,r=er.empty();let a=new hn(Cn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new Ra(t.key,r,new pr(a.toArray()),Zr.none())}}function jO(t,e,n){t instanceof ih?function(a,l,u){const h=a.value.clone(),f=FE(a.fieldTransforms,l,u.transformResults);h.setAll(f),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):t instanceof Ra?function(a,l,u){if(!Zf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=FE(a.fieldTransforms,l,u.transformResults),f=l.data;f.setAll(pA(a)),f.setAll(h),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Tc(t,e,n,r){return t instanceof ih?function(l,u,h,f){if(!Zf(l.precondition,u))return h;const p=l.value.clone(),g=HE(l.fieldTransforms,f,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ra?function(l,u,h,f){if(!Zf(l.precondition,u))return h;const p=HE(l.fieldTransforms,f,u),g=u.data;return g.setAll(pA(l)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(l,u,h){return Zf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,n)}function UO(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=cA(r.transform,a||null);l!=null&&(n===null&&(n=er.empty()),n.set(r.field,l))}return n||null}function zE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Nl(r,a,(l,u)=>LO(l,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ih extends im{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ra extends im{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function pA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function FE(t,e,n){const r=new Map;_t(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);r.set(l.field,VO(u,h,n[a]))}return r}function HE(t,e,n){const r=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);r.set(a.field,OO(l,u,e))}return r}class Uv extends im{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BO extends im{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&jO(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Tc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Tc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lA();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const f=mA(u,h);f!==null&&r.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(Ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&Nl(this.mutations,e.mutations,(n,r)=>zE(n,r))&&Nl(this.baseMutations,e.baseMutations,(n,r)=>zE(n,r))}}class Bv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){_t(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return IO}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new Bv(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,ct;function qO(t){switch(t){case me.OK:return ze(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return ze(15467,{code:t})}}function gA(t){if(t===void 0)return ps("GRPC error has no .code"),me.UNKNOWN;switch(t){case Jt.OK:return me.OK;case Jt.CANCELLED:return me.CANCELLED;case Jt.UNKNOWN:return me.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return me.INTERNAL;case Jt.UNAVAILABLE:return me.UNAVAILABLE;case Jt.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Jt.NOT_FOUND:return me.NOT_FOUND;case Jt.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Jt.ABORTED:return me.ABORTED;case Jt.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Jt.DATA_LOSS:return me.DATA_LOSS;default:return ze(39323,{code:t})}}(ct=Jt||(Jt={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=new da([4294967295,4294967295],0);function qE(t){const e=U2().encode(t),n=new P2;return n.update(e),new Uint8Array(n.digest())}function GE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new da([n,r],0),new da([a,l],0)]}class zv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fc(`Invalid padding: ${n}`);if(r<0)throw new fc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=da.fromNumber(this.pe)}we(e,n,r){let a=e.add(n.multiply(da.fromNumber(r)));return a.compare(GO)===1&&(a=new da([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=qE(e),[r,a]=GE(n);for(let l=0;l<this.hashCount;l++){const u=this.we(r,a,l);if(!this.be(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new zv(l,a,n);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const n=qE(e),[r,a]=GE(n);for(let l=0;l<this.hashCount;l++){const u=this.we(r,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,sh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sm(Ge.min(),a,new kt(Ze),gs(),st())}}class sh{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sh(r,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n,r,a){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=a}}class yA{constructor(e,n){this.targetId=e,this.Ce=n}}class vA{constructor(e,n,r=In.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class $E{constructor(){this.Fe=0,this.Me=KE(),this.xe=In.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=st(),n=st(),r=st();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:ze(38017,{changeType:l})}}),new sh(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=KE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,_t(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class $O{constructor(e){this.ze=e,this.je=new Map,this.He=gs(),this.Je=Vf(),this.Ye=Vf(),this.Ze=new kt(Ze)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ze(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,a)=>{this.it(a)&&n(a)})}ot(e){const n=e.targetId,r=e.Ce.count,a=this._t(n);if(a){const l=a.target;if(Ay(l))if(r===0){const u=new Me(l.path);this.tt(n,u,Ln.newNoDocument(u,Ge.min()))}else _t(r===1,20013,{expectedCount:r});else{const u=this.ut(n);if(u!==r){const h=this.ct(e),f=h?this.lt(h,e,u):1;if(f!==0){this.st(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=va(r).toUint8Array()}catch(f){if(f instanceof H2)return Pl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new zv(u,a,l)}catch(f){return Pl(f instanceof fc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.tt(n,l,null),a++)}),a}It(e){const n=new Map;this.je.forEach((l,u)=>{const h=this._t(u);if(h){if(l.current&&Ay(h.target)){const f=new Me(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,Ln.newNoDocument(f,e))}l.Le&&(n.set(u,l.qe()),l.Qe())}});let r=st();this.Ye.forEach((l,u)=>{let h=!0;u.forEachWhile(f=>{const p=this._t(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(l))}),this.He.forEach((l,u)=>u.setReadTime(e));const a=new sm(e,n,this.Ze,this.He,r);return this.He=gs(),this.Je=Vf(),this.Ye=Vf(),this.Ze=new kt(Ze),a}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new $E,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new hn(Ze),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new hn(Ze),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new $E),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Vf(){return new kt(Me.comparator)}function KE(){return new kt(Me.comparator)}const KO={asc:"ASCENDING",desc:"DESCENDING"},YO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XO={and:"AND",or:"OR"};class QO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Iy(t,e){return t.useProto3Json||Jd(e)?e:{value:e}}function Cd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _A(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function WO(t,e){return Cd(t,e.toTimestamp())}function Di(t){return _t(!!t,49232),Ge.fromTimestamp(function(n){const r=ya(n);return new cn(r.seconds,r.nanos)}(t))}function Fv(t,e){return Dy(t,e).canonicalString()}function Dy(t,e){const n=function(a){return new Nt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TA(t){const e=Nt.fromString(t);return _t(SA(e),10190,{key:e.toString()}),e}function Py(t,e){return Fv(t.databaseId,e.path)}function Og(t,e){const n=TA(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(EA(n))}function wA(t,e){return Fv(t.databaseId,e)}function ZO(t){const e=TA(t);return e.length===4?Nt.emptyPath():EA(e)}function Ny(t){return new Nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EA(t){return _t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function YE(t,e,n){return{name:Py(t,e),fields:n.value.mapValue.fields}}function JO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ze(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,g){return p.useProto3Json?(_t(g===void 0||typeof g=="string",58123),In.fromBase64String(g||"")):(_t(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),In.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const g=p.code===void 0?me.UNKNOWN:gA(p.code);return new Se(g,p.message||"")}(u);n=new vA(r,a,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Og(t,r.document.name),l=Di(r.document.updateTime),u=r.document.createTime?Di(r.document.createTime):Ge.min(),h=new er({mapValue:{fields:r.document.fields}}),f=Ln.newFoundDocument(a,l,u,h),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Jf(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Og(t,r.document),l=r.readTime?Di(r.readTime):Ge.min(),u=Ln.newNoDocument(a,l),h=r.removedTargetIds||[];n=new Jf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Og(t,r.document),l=r.removedTargetIds||[];n=new Jf([],l,a,null)}else{if(!("filter"in e))return ze(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new HO(a,l),h=r.targetId;n=new yA(h,u)}}return n}function eV(t,e){let n;if(e instanceof ih)n={update:YE(t,e.key,e.value)};else if(e instanceof Uv)n={delete:Py(t,e.key)};else if(e instanceof Ra)n={update:YE(t,e.key,e.data),updateMask:uV(e.fieldMask)};else{if(!(e instanceof BO))return ze(16599,{ft:e.type});n={verify:Py(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(l,u){const h=u.transform;if(h instanceof Ad)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Lc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof kc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Rd)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw ze(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:WO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ze(27497)}(t,e.precondition)),n}function tV(t,e){return t&&t.length>0?(_t(e!==void 0,14353),t.map(n=>function(a,l){let u=a.updateTime?Di(a.updateTime):Di(l);return u.isEqual(Ge.min())&&(u=Di(l)),new kO(u,a.transformResults||[])}(n,e))):[]}function nV(t,e){return{documents:[wA(t,e.path)]}}function rV(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wA(t,a);const l=function(p){if(p.length!==0)return xA(ei.create(p,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const u=function(p){if(p.length!==0)return p.map(g=>function(_){return{field:gl(_.field),direction:aV(_.dir)}}(g))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Iy(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:a}}function iV(t){let e=ZO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){_t(r===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=function(v){const _=bA(v);return _ instanceof ei&&J2(_)?_.getFilters():[_]}(n.where));let u=[];n.orderBy&&(u=function(v){return v.map(_=>function(R){return new Sd(yl(R.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(_))}(n.orderBy));let h=null;n.limit&&(h=function(v){let _;return _=typeof v=="object"?v.value:v,Jd(_)?null:_}(n.limit));let f=null;n.startAt&&(f=function(v){const _=!!v.before,x=v.values||[];return new xd(x,_)}(n.startAt));let p=null;return n.endAt&&(p=function(v){const _=!v.before,x=v.values||[];return new xd(x,_)}(n.endAt)),xO(e,a,u,l,h,"F",f,p)}function sV(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yl(n.unaryFilter.field);return nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=yl(n.unaryFilter.field);return nn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=yl(n.unaryFilter.field);return nn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=yl(n.unaryFilter.field);return nn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}}(t):t.fieldFilter!==void 0?function(n){return nn.create(yl(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ei.create(n.compositeFilter.filters.map(r=>bA(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ze(1026)}}(n.compositeFilter.op))}(t):ze(30097,{filter:t})}function aV(t){return KO[t]}function oV(t){return YO[t]}function lV(t){return XO[t]}function gl(t){return{fieldPath:t.canonicalString()}}function yl(t){return Cn.fromServerFormat(t.fieldPath)}function xA(t){return t instanceof nn?function(n){if(n.op==="=="){if(VE(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NAN"}};if(OE(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VE(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NOT_NAN"}};if(OE(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gl(n.field),op:oV(n.op),value:n.value}}}(t):t instanceof ei?function(n){const r=n.getFilters().map(a=>xA(a));return r.length===1?r[0]:{compositeFilter:{op:lV(n.op),filters:r}}}(t):ze(54877,{filter:t})}function uV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n,r,a,l=Ge.min(),u=Ge.min(),h=In.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.wt=e}}function hV(t){const e=iV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(){this.Cn=new dV}addToCollectionParentIndex(e,n){return this.Cn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(ga.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(ga.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class dV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new hn(Nt.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new hn(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AA=41943040;class Jn{static withCacheSize(e){return new Jn(e,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn.DEFAULT_COLLECTION_PERCENTILE=10,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jn.DEFAULT=new Jn(AA,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jn.DISABLED=new Jn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Vl(0)}static lr(){return new Vl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="LruGarbageCollector",mV=1048576;function WE([t,e],[n,r]){const a=Ze(t,n);return a===0?Ze(e,r):a}class pV{constructor(e){this.Er=e,this.buffer=new hn(WE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();WE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){be(QE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gl(n)?be(QE,"Ignoring IndexedDB error during garbage collection: ",n):await ql(n)}await this.mr(3e5)})}}class yV{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return de.resolve(Zd.le);const r=new pV(n);return this.gr.forEachTarget(e,a=>r.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>r.Rr(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(XE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,a,l,u,h,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(r=v,h=Date.now(),this.removeTargets(e,r,n))).next(v=>(l=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),ml()<=it.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v})))}}function vV(t,e){return new yV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(){this.changes=new xo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&Tc(r.mutation,a,pr.empty(),cn.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,n,r=st()){const a=uo();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(l=>{let u=hc();return l.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=uo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,st()))}populateOverlays(e,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,r,a){let l=gs();const u=_c(),h=function(){return _c()}();return n.forEach((f,p)=>{const g=r.get(p.key);a.has(p.key)&&(g===void 0||g.mutation instanceof Ra)?l=l.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),Tc(g.mutation,p,g.mutation.getFieldMask(),cn.now())):u.set(p.key,pr.empty())}),this.recalculateAndSaveOverlays(e,l).next(f=>(f.forEach((p,g)=>u.set(p,g)),n.forEach((p,g)=>{var v;return h.set(p,new TV(g,(v=u.get(p))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(e,n){const r=_c();let a=new kt((u,h)=>u-h),l=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let g=r.get(f)||pr.empty();g=h.applyToLocalView(p,g),r.set(f,g);const v=(a.get(h.batchId)||st()).add(f);a=a.insert(h.batchId,v)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,g=f.value,v=lA();g.forEach(_=>{if(!l.has(_)){const x=mA(n.get(_),r.get(_));x!==null&&v.set(_,x),l=l.add(_)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return de.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(u){return Me.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):de.resolve(uo());let h=Nc,f=l;return u.next(p=>de.forEach(p,(g,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(g)?de.resolve():this.remoteDocumentCache.getEntry(e,g).next(_=>{f=f.insert(g,_)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,f,p,st())).next(g=>({batchId:h,changes:oA(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next(r=>{let a=hc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let u=hc();return this.indexManager.getCollectionParents(e,l).next(h=>de.forEach(h,f=>{const p=function(v,_){return new rh(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(g=>{g.forEach((v,_)=>{u=u.insert(v,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a))).next(u=>{l.forEach((f,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,Ln.newInvalidDocument(g)))});let h=hc();return u.forEach((f,p)=>{const g=l.get(f);g!==void 0&&Tc(g.mutation,p,pr.empty(),cn.now()),nm(n,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return de.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Di(a.createTime)}}(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(a){return{name:a.name,query:hV(a.bundledQuery),readTime:Di(a.readTime)}}(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.overlays=new kt(Me.comparator),this.Qr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=uo();return de.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,l)=>{this.St(e,n,l)}),de.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Qr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const a=uo(),l=n.length+1,u=new Me(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>r&&a.set(f.getKey(),f)}return de.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new kt((p,g)=>p-g);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=l.get(p.largestBatchId);g===null&&(g=uo(),l=l.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=uo(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>h.set(p,g)),!(h.size()>=a)););return de.resolve(h)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Qr.get(a.largestBatchId).delete(r.key);this.Qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new FO(n,r));let l=this.Qr.get(n);l===void 0&&(l=st(),this.Qr.set(n,l)),this.Qr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(){this.sessionToken=In.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(){this.$r=new hn(_n.Ur),this.Kr=new hn(_n.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new _n(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new _n(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Me(new Nt([])),r=new _n(n,e),a=new _n(n,e+1),l=[];return this.Kr.forEachInRange([r,a],u=>{this.zr(u),l.push(u.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Me(new Nt([])),r=new _n(n,e),a=new _n(n,e+1);let l=st();return this.Kr.forEachInRange([r,a],u=>{l=l.add(u.key)}),l}containsKey(e){const n=new _n(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _n{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Me.comparator(e.key,n.key)||Ze(e.Zr,n.Zr)}static Wr(e,n){return Ze(e.Zr,n.Zr)||Me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new hn(_n.Ur)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new zO(l,n,r,a);this.mutationQueue.push(u);for(const h of a)this.Xr=this.Xr.add(new _n(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return de.resolve(u)}lookupMutationBatch(e,n){return de.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ti(r),l=a<0?0:a;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?Nv:this.nr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _n(n,0),a=new _n(n,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([r,a],u=>{const h=this.ei(u.Zr);l.push(h)}),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new hn(Ze);return n.forEach(a=>{const l=new _n(a,0),u=new _n(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,u],h=>{r=r.add(h.Zr)})}),de.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;Me.isDocumentKey(l)||(l=l.child(""));const u=new _n(new Me(l),0);let h=new hn(Ze);return this.Xr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(f.Zr)),!0)},u),de.resolve(this.ni(h))}ni(e){const n=[];return e.forEach(r=>{const a=this.ei(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){_t(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return de.forEach(n.mutations,a=>{const l=new _n(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new _n(n,0),a=this.Xr.firstAfterOrEqual(r);return de.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.ii=e,this.docs=function(){return new kt(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,u=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(n))}getEntries(e,n){let r=gs();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():Ln.newInvalidDocument(a))}),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=gs();const u=n.path,h=new Me(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||nO(tO(g),r)<=0||(a.has(g.key)||nm(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,n,r,a){ze(9500)}si(e,n){return de.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new RV(this)}getSize(e){return de.resolve(this.size)}}class RV extends _V{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Br.addEntry(e,a)):this.Br.removeEntry(r)}),de.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.persistence=e,this.oi=new xo(n=>Vv(n),Lv),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this._i=0,this.ai=new Hv,this.targetCount=0,this.ui=Vl.cr()}forEachTarget(e,n){return this.oi.forEach((r,a)=>n(a)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),de.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Vl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Tr(n),de.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.oi.forEach((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.oi.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),de.waitFor(l).next(()=>a)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),de.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),de.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n){this.ci={},this.overlays={},this.li=new Zd(0),this.hi=!1,this.hi=!0,this.Pi=new xV,this.referenceDelegate=e(this),this.Ti=new CV(this),this.indexManager=new fV,this.remoteDocumentCache=function(a){return new AV(a)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new cV(n),this.Ei=new EV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new SV(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){be("MemoryPersistence","Starting transaction:",e);const a=new IV(this.li.next());return this.referenceDelegate.di(),r(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,n){return de.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class IV extends iO{constructor(e){super(),this.currentSequenceNumber=e}}class qv{constructor(e){this.persistence=e,this.Vi=new Hv,this.mi=null}static fi(e){return new qv(e)}get gi(){if(this.mi)return this.mi;throw ze(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),de.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(a=>this.gi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.gi,r=>{const a=Me.fromPath(r);return this.pi(e,a).next(l=>{l||n.removeEntry(a,Ge.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return de.or([()=>de.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Id{constructor(e,n){this.persistence=e,this.yi=new xo(r=>oO(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=vV(this,n)}static fi(e,n){return new Id(e,n)}di(){}Ai(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return de.forEach(this.yi,(r,a)=>this.Dr(e,r,a).next(l=>l?de.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,u=>this.Dr(e,u,n).next(h=>{h||(r++,l.removeEntry(u,Ge.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),de.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),de.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qf(e.data.value)),n}Dr(e,n,r){return de.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.yi.get(n);return de.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.ds=r,this.As=a}static Rs(e,n){let r=st(),a=st();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Gv(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return oN()?8:sO(jn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.ws(e,n).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.bs(e,n,a,r).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new DV;return this.Ss(e,n,u).next(h=>{if(l.result=h,this.fs)return this.Ds(e,n,u,h.size)})}).next(()=>l.result)}Ds(e,n,r,a){return r.documentReadCount<this.gs?(ml()<=it.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",pl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),de.resolve()):(ml()<=it.DEBUG&&be("QueryEngine","Query:",pl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ps*a?(ml()<=it.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",pl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(n))):de.resolve())}ws(e,n){if(UE(n))return de.resolve(null);let r=Ii(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Cy(n,null,"F"),r=Ii(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const u=st(...l);return this.ys.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.vs(n,h);return this.Cs(n,p,u,f.readTime)?this.ws(e,Cy(n,null,"F")):this.Fs(e,p,n,f)}))})))}bs(e,n,r,a){return UE(n)||a.isEqual(Ge.min())?de.resolve(null):this.ys.getDocuments(e,r).next(l=>{const u=this.vs(n,l);return this.Cs(n,u,r,a)?de.resolve(null):(ml()<=it.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),pl(n)),this.Fs(e,u,n,eO(a,Nc)).next(h=>h))})}vs(e,n){let r=new hn(sA(e));return n.forEach((a,l)=>{nm(e,l)&&(r=r.add(l))}),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,r){return ml()<=it.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",pl(n)),this.ys.getDocumentsMatchingQuery(e,n,ga.min(),r)}Fs(e,n,r,a){return this.ys.getDocumentsMatchingQuery(e,r,a).next(l=>(n.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="LocalStore",NV=3e8;class MV{constructor(e,n,r,a){this.persistence=e,this.Ms=n,this.serializer=a,this.xs=new kt(Ze),this.Os=new xo(l=>Vv(l),Lv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wV(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function OV(t,e,n,r){return new MV(t,e,n,r)}async function CA(t,e){const n=$e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const u=[],h=[];let f=st();for(const p of a){u.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of l){h.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next(p=>({ks:p,removedBatchIds:u,addedBatchIds:h}))})})}function VV(t,e){const n=$e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=n.Bs.newChangeBuffer({trackRemovals:!0});return function(h,f,p,g){const v=p.batch,_=v.keys();let x=de.resolve();return _.forEach(R=>{x=x.next(()=>g.getEntry(f,R)).next(L=>{const D=p.docVersions.get(R);_t(D!==null,48541),L.version.compareTo(D)<0&&(v.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),g.addEntry(L)))})}),x.next(()=>h.mutationQueue.removeMutationBatch(f,v))}(n,r,e,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=st();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function IA(t){const e=$e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function LV(t,e){const n=$e(t),r=e.snapshotVersion;let a=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=n.Bs.newChangeBuffer({trackRemovals:!0});a=n.xs;const h=[];e.targetChanges.forEach((g,v)=>{const _=a.get(v);if(!_)return;h.push(n.Ti.removeMatchingKeys(l,g.removedDocuments,v).next(()=>n.Ti.addMatchingKeys(l,g.addedDocuments,v)));let x=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?x=x.withResumeToken(In.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):g.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(g.resumeToken,r)),a=a.insert(v,x),function(L,D,I){return L.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=NV?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(_,x,g)&&h.push(n.Ti.updateTargetData(l,x))});let f=gs(),p=st();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))}),h.push(kV(l,u,e.documentUpdates).next(g=>{f=g.qs,p=g.Qs})),!r.isEqual(Ge.min())){const g=n.Ti.getLastRemoteSnapshotVersion(l).next(v=>n.Ti.setTargetsMetadata(l,l.currentSequenceNumber,r));h.push(g)}return de.waitFor(h).next(()=>u.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,f,p)).next(()=>f)}).then(l=>(n.xs=a,l))}function kV(t,e,n){let r=st(),a=st();return n.forEach(l=>r=r.add(l)),e.getEntries(t,r).next(l=>{let u=gs();return n.forEach((h,f)=>{const p=l.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Ge.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):be($v,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{qs:u,Qs:a}})}function jV(t,e){const n=$e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Nv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function UV(t,e){const n=$e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Ti.getTargetData(r,e).next(l=>l?(a=l,de.resolve(a)):n.Ti.allocateTargetId(r).next(u=>(a=new ua(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.xs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function My(t,e,n){const r=$e(t),a=r.xs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Gl(u))throw u;be($v,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(a.target)}function ZE(t,e,n){const r=$e(t);let a=Ge.min(),l=st();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,g){const v=$e(f),_=v.Os.get(g);return _!==void 0?de.resolve(v.xs.get(_)):v.Ti.getTargetData(p,g)}(r,u,Ii(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,h.targetId).next(f=>{l=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,n?a:Ge.min(),n?l:st())).next(h=>(BV(r,AO(e),h),{documents:h,$s:l})))}function BV(t,e,n){let r=t.Ns.get(e)||Ge.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),t.Ns.set(e,r)}class JE{constructor(){this.activeTargetIds=NO()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zV{constructor(){this.xo=new JE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new JE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="ConnectivityMonitor";class tb{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){be(eb,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){be(eb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf=null;function Oy(){return Lf===null?Lf=function(){return 268435456+Math.round(2147483648*Math.random())}():Lf++,"0x"+Lf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="RestConnection",HV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qV{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${a}`,this.Go=this.databaseId.database===Ed?`project_id=${r}`:`project_id=${r}&database_id=${a}`}zo(e,n,r,a,l){const u=Oy(),h=this.jo(e,n.toUriEncodedString());be(Vg,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,a,l);const{host:p}=new URL(h),g=Qc(p);return this.Jo(e,h,f,r,g).then(v=>(be(Vg,`Received RPC '${e}' ${u}: `,v),v),v=>{throw Pl(Vg,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",r),v})}Yo(e,n,r,a,l,u){return this.zo(e,n,r,a,l)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}jo(e,n){const r=HV[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class $V extends qV{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,l){const u=Oy();return new Promise((h,f)=>{const p=new N2;p.setWithCredentials(!0),p.listenOnce(M2.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Xf.NO_ERROR:const v=p.getResponseJson();be(On,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case Xf.TIMEOUT:be(On,`RPC '${e}' ${u} timed out`),f(new Se(me.DEADLINE_EXCEEDED,"Request time out"));break;case Xf.HTTP_ERROR:const _=p.getStatus();if(be(On,`RPC '${e}' ${u} failed with status:`,_,"response text:",p.getResponseText()),_>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const R=x==null?void 0:x.error;if(R&&R.status&&R.message){const L=function(I){const M=I.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(M)>=0?M:me.UNKNOWN}(R.status);f(new Se(L,R.message))}else f(new Se(me.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Se(me.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{h_:e,streamId:u,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{be(On,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(a);be(On,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",g,r,15)})}I_(e,n,r){const a=Oy(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=L2(),h=V2(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const g=l.join("");be(On,`Creating RPC '${e}' stream ${a}: ${g}`,f);const v=u.createWebChannel(g,f);this.E_(v);let _=!1,x=!1;const R=new GV({Zo:D=>{x?be(On,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(_||(be(On,`Opening RPC '${e}' stream ${a} transport.`),v.open(),_=!0),be(On,`RPC '${e}' stream ${a} sending:`,D),v.send(D))},Xo:()=>v.close()}),L=(D,I,M)=>{D.listen(I,O=>{try{M(O)}catch(z){setTimeout(()=>{throw z},0)}})};return L(v,cc.EventType.OPEN,()=>{x||(be(On,`RPC '${e}' stream ${a} transport opened.`),R.__())}),L(v,cc.EventType.CLOSE,()=>{x||(x=!0,be(On,`RPC '${e}' stream ${a} transport closed`),R.u_(),this.d_(v))}),L(v,cc.EventType.ERROR,D=>{x||(x=!0,Pl(On,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),R.u_(new Se(me.UNAVAILABLE,"The operation could not be completed")))}),L(v,cc.EventType.MESSAGE,D=>{var I;if(!x){const M=D.data[0];_t(!!M,16349);const O=M,z=(O==null?void 0:O.error)||((I=O[0])===null||I===void 0?void 0:I.error);if(z){be(On,`RPC '${e}' stream ${a} received error:`,z);const F=z.status;let j=function(C){const U=Jt[C];if(U!==void 0)return gA(U)}(F),A=z.message;j===void 0&&(j=me.INTERNAL,A="Unknown error status: "+F+" with message "+z.message),x=!0,R.u_(new Se(j,A)),v.close()}else be(On,`RPC '${e}' stream ${a} received:`,M),R.c_(M)}}),L(h,O2.STAT_EVENT,D=>{D.stat===wy.PROXY?be(On,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===wy.NOPROXY&&be(On,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{R.a_()},0),R}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t){return new QO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n,r=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),a=Math.max(0,n-r);a>0&&be("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="PersistentStream";class PA{constructor(e,n,r,a,l,u,h,f){this.xi=e,this.S_=r,this.D_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new DA(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(ps(n.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.v_===n&&this.z_(r,a)},r=>{e(()=>{const a=new Se(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(a)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{r(()=>this.j_(a))}),this.stream.onMessage(a=>{r(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return be(nb,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(be(nb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KV extends PA{constructor(e,n,r,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=JO(this.serializer,e),r=function(l){if(!("targetChange"in l))return Ge.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ge.min():u.readTime?Di(u.readTime):Ge.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Ny(this.serializer),n.addTarget=function(l,u){let h;const f=u.target;if(h=Ay(f)?{documents:nV(l,f)}:{query:rV(l,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=_A(l,u.resumeToken);const p=Iy(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ge.min())>0){h.readTime=Cd(l,u.snapshotVersion.toTimestamp());const p=Iy(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=sV(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Ny(this.serializer),n.removeTarget=e,this.Q_(n)}}class YV extends PA{constructor(e,n,r,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return _t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){_t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=tV(e.writeResults,e.commitTime),r=Di(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Ny(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>eV(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{}class QV extends XV{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new Se(me.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.zo(e,Dy(n,r),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(me.UNKNOWN,l.toString())})}Yo(e,n,r,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Yo(e,Dy(n,r),a,u,h,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(me.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class WV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ps(n),this.ua=!1):be("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="RemoteStore";class ZV{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(u=>{r.enqueueAndForget(async()=>{So(this)&&(be(Eo,"Restarting streams for network reachability change."),await async function(f){const p=$e(f);p.da.add(4),await ah(p),p.Va.set("Unknown"),p.da.delete(4),await om(p)}(this))})}),this.Va=new WV(r,a)}}async function om(t){if(So(t))for(const e of t.Aa)await e(!0)}async function ah(t){for(const e of t.Aa)await e(!1)}function NA(t,e){const n=$e(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Qv(n)?Xv(n):$l(n).N_()&&Yv(n,e))}function Kv(t,e){const n=$e(t),r=$l(n);n.Ea.delete(e),r.N_()&&MA(n,e),n.Ea.size===0&&(r.N_()?r.k_():So(n)&&n.Va.set("Unknown"))}function Yv(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$l(t).Z_(e)}function MA(t,e){t.ma.Ke(e),$l(t).X_(e)}function Xv(t){t.ma=new $O({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),$l(t).start(),t.Va.ca()}function Qv(t){return So(t)&&!$l(t).O_()&&t.Ea.size>0}function So(t){return $e(t).da.size===0}function OA(t){t.ma=void 0}async function JV(t){t.Va.set("Online")}async function eL(t){t.Ea.forEach((e,n)=>{Yv(t,e)})}async function tL(t,e){OA(t),Qv(t)?(t.Va.Pa(e),Xv(t)):t.Va.set("Unknown")}async function nL(t,e,n){if(t.Va.set("Online"),e instanceof vA&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ea.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ea.delete(h),a.ma.removeTarget(h))}(t,e)}catch(r){be(Eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dd(t,r)}else if(e instanceof Jf?t.ma.Xe(e):e instanceof yA?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Ge.min()))try{const r=await IA(t.localStore);n.compareTo(r)>=0&&await function(l,u){const h=l.ma.It(u);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=l.Ea.get(p);g&&l.Ea.set(p,g.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,p)=>{const g=l.Ea.get(f);if(!g)return;l.Ea.set(f,g.withResumeToken(In.EMPTY_BYTE_STRING,g.snapshotVersion)),MA(l,f);const v=new ua(g.target,f,p,g.sequenceNumber);Yv(l,v)}),l.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(r){be(Eo,"Failed to raise snapshot:",r),await Dd(t,r)}}async function Dd(t,e,n){if(!Gl(e))throw e;t.da.add(1),await ah(t),t.Va.set("Offline"),n||(n=()=>IA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{be(Eo,"Retrying IndexedDB access"),await n(),t.da.delete(1),await om(t)})}function VA(t,e){return e().catch(n=>Dd(t,n,e))}async function lm(t){const e=$e(t),n=Ta(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Nv;for(;rL(e);)try{const a=await jV(e.localStore,r);if(a===null){e.Ia.length===0&&n.k_();break}r=a.batchId,iL(e,a)}catch(a){await Dd(e,a)}LA(e)&&kA(e)}function rL(t){return So(t)&&t.Ia.length<10}function iL(t,e){t.Ia.push(e);const n=Ta(t);n.N_()&&n.ea&&n.ta(e.mutations)}function LA(t){return So(t)&&!Ta(t).O_()&&t.Ia.length>0}function kA(t){Ta(t).start()}async function sL(t){Ta(t).ia()}async function aL(t){const e=Ta(t);for(const n of t.Ia)e.ta(n.mutations)}async function oL(t,e,n){const r=t.Ia.shift(),a=Bv.from(r,e,n);await VA(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await lm(t)}async function lL(t,e){e&&Ta(t).ea&&await async function(r,a){if(function(u){return qO(u)&&u!==me.ABORTED}(a.code)){const l=r.Ia.shift();Ta(r).L_(),await VA(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await lm(r)}}(t,e),LA(t)&&kA(t)}async function rb(t,e){const n=$e(t);n.asyncQueue.verifyOperationInProgress(),be(Eo,"RemoteStore received new credentials");const r=So(n);n.da.add(3),await ah(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await om(n)}async function uL(t,e){const n=$e(t);e?(n.da.delete(2),await om(n)):e||(n.da.add(2),await ah(n),n.Va.set("Unknown"))}function $l(t){return t.fa||(t.fa=function(n,r,a){const l=$e(n);return l.oa(),new KV(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{e_:JV.bind(null,t),n_:eL.bind(null,t),i_:tL.bind(null,t),Y_:nL.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Qv(t)?Xv(t):t.Va.set("Unknown")):(await t.fa.stop(),OA(t))})),t.fa}function Ta(t){return t.ga||(t.ga=function(n,r,a){const l=$e(n);return l.oa(),new YV(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:sL.bind(null,t),i_:lL.bind(null,t),na:aL.bind(null,t),ra:oL.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await lm(t)):(await t.ga.stop(),t.Ia.length>0&&(be(Eo,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const u=Date.now()+r,h=new Wv(e,n,u,a,l);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zv(t,e){if(ps("AsyncQueue",`${e}: ${t}`),Gl(t))return new Se(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{static emptySet(e){return new Cl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Me.comparator(n.key,r.key):(n,r)=>Me.comparator(n.key,r.key),this.keyedMap=hc(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Cl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.pa=new kt(Me.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):ze(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ll{constructor(e,n,r,a,l,u,h,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,l){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new Ll(e,n,Cl.emptySet(n),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class hL{constructor(){this.queries=sb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=$e(n),l=a.queries;a.queries=sb(),l.forEach((u,h)=>{for(const f of h.Sa)f.onError(r)})})(this,new Se(me.ABORTED,"Firestore shutting down"))}}function sb(){return new xo(t=>iA(t),tm)}async function jA(t,e){const n=$e(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.Da()&&e.va()&&(r=2):(l=new cL,r=e.va()?0:1);try{switch(r){case 0:l.ba=await n.onListen(a,!0);break;case 1:l.ba=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=Zv(u,`Initialization of query '${pl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.Fa(n.onlineState),l.ba&&e.Ma(l.ba)&&Jv(n)}async function UA(t,e){const n=$e(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.va()?0:1:!l.Da()&&e.va()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fL(t,e){const n=$e(t);let r=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Ma(a)&&(r=!0);u.ba=a}}r&&Jv(n)}function dL(t,e,n){const r=$e(t),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);r.queries.delete(e)}function Jv(t){t.Ca.forEach(e=>{e.next()})}var Vy,ab;(ab=Vy||(Vy={})).xa="default",ab.Cache="cache";class BA{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Ll(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Vy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.key=e}}class FA{constructor(e){this.key=e}}class mL{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=st(),this.mutatedKeys=st(),this.Za=sA(e),this.Xa=new Cl(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new ib,a=n?n.Xa:this.Xa;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((g,v)=>{const _=a.get(g),x=nm(this.query,v)?v:null,R=!!_&&this.mutatedKeys.has(_.key),L=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let D=!1;_&&x?_.data.isEqual(x.data)?R!==L&&(r.track({type:3,doc:x}),D=!0):this.ru(_,x)||(r.track({type:2,doc:x}),D=!0,(f&&this.Za(x,f)>0||p&&this.Za(x,p)<0)&&(h=!0)):!_&&x?(r.track({type:0,doc:x}),D=!0):_&&!x&&(r.track({type:1,doc:_}),D=!0,(f||p)&&(h=!0)),D&&(x?(u=u.add(x),l=L?l.add(g):l.delete(g)):(u=u.delete(g),l=l.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),l=l.delete(g.key),r.track({type:1,doc:g})}return{Xa:u,nu:r,Cs:h,mutatedKeys:l}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((g,v)=>function(x,R){const L=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Vt:D})}};return L(x)-L(R)}(g.type,v.type)||this.Za(g.doc,v.doc)),this.iu(r),a=a!=null&&a;const h=n&&!a?this.su():[],f=this.Ya.size===0&&this.current&&!a?1:0,p=f!==this.Ja;return this.Ja=f,u.length!==0||p?{snapshot:new Ll(this.query,e.Xa,l,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:h}:{ou:h}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new ib,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=st(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new FA(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new zA(r))}),n}au(e){this.Ha=e.$s,this.Ya=st();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Ll.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const e0="SyncEngine";class pL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gL{constructor(e){this.key=e,this.cu=!1}}class yL{constructor(e,n,r,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new xo(h=>iA(h),tm),this.Pu=new Map,this.Tu=new Set,this.Iu=new kt(Me.comparator),this.Eu=new Map,this.du=new Hv,this.Au={},this.Ru=new Map,this.Vu=Vl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function vL(t,e,n=!0){const r=YA(t);let a;const l=r.hu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await HA(r,e,n,!0),a}async function _L(t,e){const n=YA(t);await HA(n,e,!0,!1)}async function HA(t,e,n,r){const a=await UV(t.localStore,Ii(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return r&&(h=await TL(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&NA(t.remoteStore,a),h}async function TL(t,e,n,r,a){t.fu=(v,_,x)=>async function(L,D,I,M){let O=D.view.tu(I);O.Cs&&(O=await ZE(L.localStore,D.query,!1).then(({documents:A})=>D.view.tu(A,O)));const z=M&&M.targetChanges.get(D.targetId),F=M&&M.targetMismatches.get(D.targetId)!=null,j=D.view.applyChanges(O,L.isPrimaryClient,z,F);return lb(L,D.targetId,j.ou),j.snapshot}(t,v,_,x);const l=await ZE(t.localStore,e,!0),u=new mL(e,l.$s),h=u.tu(l.documents),f=sh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,f);lb(t,n,p.ou);const g=new pL(e,n,u);return t.hu.set(e,g),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),p.snapshot}async function wL(t,e,n){const r=$e(t),a=r.hu.get(e),l=r.Pu.get(a.targetId);if(l.length>1)return r.Pu.set(a.targetId,l.filter(u=>!tm(u,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await My(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Kv(r.remoteStore,a.targetId),Ly(r,a.targetId)}).catch(ql)):(Ly(r,a.targetId),await My(r.localStore,a.targetId,!0))}async function EL(t,e){const n=$e(t),r=n.hu.get(e),a=n.Pu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kv(n.remoteStore,r.targetId))}async function bL(t,e,n){const r=DL(t);try{const a=await function(u,h){const f=$e(u),p=cn.now(),g=h.reduce((x,R)=>x.add(R.key),st());let v,_;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>{let R=gs(),L=st();return f.Bs.getEntries(x,g).next(D=>{R=D,R.forEach((I,M)=>{M.isValidDocument()||(L=L.add(I))})}).next(()=>f.localDocuments.getOverlayedDocuments(x,R)).next(D=>{v=D;const I=[];for(const M of h){const O=UO(M,v.get(M.key).overlayedDocument);O!=null&&I.push(new Ra(M.key,O,Q2(O.value.mapValue),Zr.exists(!0)))}return f.mutationQueue.addMutationBatch(x,p,I,h)}).next(D=>{_=D;const I=D.applyToLocalDocumentSet(v,L);return f.documentOverlayCache.saveOverlays(x,D.batchId,I)})}).then(()=>({batchId:_.batchId,changes:oA(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,h,f){let p=u.Au[u.currentUser.toKey()];p||(p=new kt(Ze)),p=p.insert(h,f),u.Au[u.currentUser.toKey()]=p}(r,a.batchId,n),await oh(r,a.changes),await lm(r.remoteStore)}catch(a){const l=Zv(a,"Failed to persist write");n.reject(l)}}async function qA(t,e){const n=$e(t);try{const r=await LV(n.localStore,e);e.targetChanges.forEach((a,l)=>{const u=n.Eu.get(l);u&&(_t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.cu=!0:a.modifiedDocuments.size>0?_t(u.cu,14607):a.removedDocuments.size>0&&(_t(u.cu,42227),u.cu=!1))}),await oh(n,r,e)}catch(r){await ql(r)}}function ob(t,e,n){const r=$e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.hu.forEach((l,u)=>{const h=u.view.Fa(e);h.snapshot&&a.push(h.snapshot)}),function(u,h){const f=$e(u);f.onlineState=h;let p=!1;f.queries.forEach((g,v)=>{for(const _ of v.Sa)_.Fa(h)&&(p=!0)}),p&&Jv(f)}(r.eventManager,e),a.length&&r.lu.Y_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xL(t,e,n){const r=$e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Eu.get(e),l=a&&a.key;if(l){let u=new kt(Me.comparator);u=u.insert(l,Ln.newNoDocument(l,Ge.min()));const h=st().add(l),f=new sm(Ge.min(),new Map,new kt(Ze),u,h);await qA(r,f),r.Iu=r.Iu.remove(l),r.Eu.delete(e),t0(r)}else await My(r.localStore,e,!1).then(()=>Ly(r,e,n)).catch(ql)}async function SL(t,e){const n=$e(t),r=e.batch.batchId;try{const a=await VV(n.localStore,e);$A(n,r,null),GA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await oh(n,a)}catch(a){await ql(a)}}async function AL(t,e,n){const r=$e(t);try{const a=await function(u,h){const f=$e(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,h).next(v=>(_t(v!==null,37113),g=v.keys(),f.mutationQueue.removeMutationBatch(p,v))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);$A(r,e,n),GA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await oh(r,a)}catch(a){await ql(a)}}function GA(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function $A(t,e,n){const r=$e(t);let a=r.Au[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.Au[r.currentUser.toKey()]=a}}function Ly(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||KA(t,r)})}function KA(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Kv(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),t0(t))}function lb(t,e,n){for(const r of n)r instanceof zA?(t.du.addReference(r.key,e),RL(t,r)):r instanceof FA?(be(e0,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||KA(t,r.key)):ze(19791,{pu:r})}function RL(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(be(e0,"New document in limbo: "+n),t.Tu.add(r),t0(t))}function t0(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Me(Nt.fromString(e)),r=t.Vu.next();t.Eu.set(r,new gL(n)),t.Iu=t.Iu.insert(n,r),NA(t.remoteStore,new ua(Ii(kv(n.path)),r,"TargetPurposeLimboResolution",Zd.le))}}async function oh(t,e,n){const r=$e(t),a=[],l=[],u=[];r.hu.isEmpty()||(r.hu.forEach((h,f)=>{u.push(r.fu(f,e,n).then(p=>{var g;if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){a.push(p);const v=Gv.Rs(f.targetId,p);l.push(v)}}))}),await Promise.all(u),r.lu.Y_(a),await async function(f,p){const g=$e(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>de.forEach(p,_=>de.forEach(_.ds,x=>g.persistence.referenceDelegate.addReference(v,_.targetId,x)).next(()=>de.forEach(_.As,x=>g.persistence.referenceDelegate.removeReference(v,_.targetId,x)))))}catch(v){if(!Gl(v))throw v;be($v,"Failed to update sequence numbers: "+v)}for(const v of p){const _=v.targetId;if(!v.fromCache){const x=g.xs.get(_),R=x.snapshotVersion,L=x.withLastLimboFreeSnapshotVersion(R);g.xs=g.xs.insert(_,L)}}}(r.localStore,l))}async function CL(t,e){const n=$e(t);if(!n.currentUser.isEqual(e)){be(e0,"User change. New user:",e.toKey());const r=await CA(n.localStore,e);n.currentUser=e,function(l,u){l.Ru.forEach(h=>{h.forEach(f=>{f.reject(new Se(me.CANCELLED,u))})}),l.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await oh(n,r.ks)}}function IL(t,e){const n=$e(t),r=n.Eu.get(e);if(r&&r.cu)return st().add(r.key);{let a=st();const l=n.Pu.get(e);if(!l)return a;for(const u of l){const h=n.hu.get(u);a=a.unionWith(h.view.eu)}return a}}function YA(t){const e=$e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xL.bind(null,e),e.lu.Y_=fL.bind(null,e.eventManager),e.lu.gu=dL.bind(null,e.eventManager),e}function DL(t){const e=$e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AL.bind(null,e),e}class Pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=am(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return OV(this.persistence,new PV,e.initialUser,this.serializer)}Su(e){return new RA(qv.fi,this.serializer)}bu(e){return new zV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pd.provider={build:()=>new Pd};class PL extends Pd{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){_t(this.persistence.referenceDelegate instanceof Id,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gV(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Jn.withCacheSize(this.cacheSizeBytes):Jn.DEFAULT;return new RA(r=>Id.fi(r,n),this.serializer)}}class ky{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ob(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CL.bind(null,this.syncEngine),await uL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hL}()}createDatastore(e){const n=am(e.databaseInfo.databaseId),r=function(l){return new $V(l)}(e.databaseInfo);return function(l,u,h,f){return new QV(l,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,l,u,h){return new ZV(r,a,l,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>ob(this.syncEngine,n,0),function(){return tb.C()?new tb:new FV}())}createSyncEngine(e,n){return function(a,l,u,h,f,p,g){const v=new yL(a,l,u,h,f,p);return g&&(v.mu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=$e(a);be(Eo,"RemoteStore shutting down."),l.da.add(5),await ah(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ky.provider={build:()=>new ky};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="FirestoreClient";class NL{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Vn.UNAUTHENTICATED,this.clientId=B2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async u=>{be(wa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(be(wa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function kg(t,e){t.asyncQueue.verifyOperationInProgress(),be(wa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await CA(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ub(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ML(t);be(wa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>rb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>rb(e.remoteStore,a)),t._onlineComponents=e}async function ML(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be(wa,"Using user provided OfflineComponentProvider");try{await kg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===me.FAILED_PRECONDITION||a.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Pl("Error using user provided cache. Falling back to memory cache: "+n),await kg(t,new Pd)}}else be(wa,"Using default OfflineComponentProvider"),await kg(t,new PL(void 0));return t._offlineComponents}async function QA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be(wa,"Using user provided OnlineComponentProvider"),await ub(t,t._uninitializedComponentsProvider._online)):(be(wa,"Using default OnlineComponentProvider"),await ub(t,new ky))),t._onlineComponents}function OL(t){return QA(t).then(e=>e.syncEngine)}async function WA(t){const e=await QA(t),n=e.eventManager;return n.onListen=vL.bind(null,e.syncEngine),n.onUnlisten=wL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_L.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EL.bind(null,e.syncEngine),n}function VL(t,e,n={}){const r=new hs;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,h,f,p){const g=new XA({next:_=>{g.xu(),u.enqueueAndForget(()=>UA(l,v));const x=_.docs.has(h);!x&&_.fromCache?p.reject(new Se(me.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&_.fromCache&&f&&f.source==="server"?p.reject(new Se(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),v=new BA(kv(h.path),g,{includeMetadataChanges:!0,Qa:!0});return jA(l,v)}(await WA(t),t.asyncQueue,e,n,r)),r.promise}function LL(t,e,n={}){const r=new hs;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,h,f,p){const g=new XA({next:_=>{g.xu(),u.enqueueAndForget(()=>UA(l,v)),_.fromCache&&f.source==="server"?p.reject(new Se(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),v=new BA(h,g,{includeMetadataChanges:!0,Qa:!0});return jA(l,v)}(await WA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t,e,n){if(!n)throw new Se(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kL(t,e,n,r){if(e===!0&&r===!0)throw new Se(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hb(t){if(!Me.isDocumentKey(t))throw new Se(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fb(t){if(Me.isDocumentKey(t))throw new Se(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function um(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze(12329,{type:typeof t})}function Oi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=um(t);throw new Se(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="firestore.googleapis.com",db=!0;class mb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eR,this.ssl=db}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:db;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mV)throw new Se(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Se(me.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Se(me.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Se(me.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cm{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new G5;switch(r.type){case"firstParty":return new X5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=cb.get(n);r&&(be("ComponentProvider","Removing Datastore"),cb.delete(n),r.terminate())}(this),Promise.resolve()}}function jL(t,e,n,r={}){var a;t=Oi(t,cm);const l=Qc(e),u=t._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;l&&(zS(`https://${f}`),FS("Firestore",!0)),u.host!==eR&&u.host!==f&&Pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:f,ssl:l,emulatorOptions:r});if(!yo(p,h)&&(t._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=Vn.MOCK_USER;else{g=ZP(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Se(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Vn(_)}t._authCredentials=new $5(new j2(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kl(this.firestore,e,this._query)}}class Yn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yn(this.firestore,e,this._key)}}class ma extends Kl{constructor(e,n,r){super(e,n,kv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new Me(e))}withConverter(e){return new ma(this.firestore,e,this._path)}}function Ur(t,e,...n){if(t=rn(t),JA("collection","path",e),t instanceof cm){const r=Nt.fromString(e,...n);return fb(r),new ma(t,null,r)}{if(!(t instanceof Yn||t instanceof ma))throw new Se(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Nt.fromString(e,...n));return fb(r),new ma(t.firestore,null,r)}}function tn(t,e,...n){if(t=rn(t),arguments.length===1&&(e=B2.newId()),JA("doc","path",e),t instanceof cm){const r=Nt.fromString(e,...n);return hb(r),new Yn(t,null,new Me(r))}{if(!(t instanceof Yn||t instanceof ma))throw new Se(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Nt.fromString(e,...n));return hb(r),new Yn(t.firestore,t instanceof ma?t.converter:null,new Me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="AsyncQueue";class gb{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new DA(this,"async_queue_retry"),this.rc=()=>{const r=Lg();r&&be(pb,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Lg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Lg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new hs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Gl(e))throw e;be(pb,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,ps("INTERNAL UNHANDLED ERROR: ",yb(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const a=Wv.createAndSchedule(this,e,n,r,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&ze(47125,{cc:yb(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function yb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Yl extends cm{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new gb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gb(e),this._firestoreClient=void 0,await e}}}function UL(t,e){const n=typeof t=="object"?t:$S(),r=typeof t=="string"?t:Ed,a=wv(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=QP("firestore");l&&jL(a,...l)}return a}function n0(t){if(t._terminated)throw new Se(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||BL(t),t._firestoreClient}function BL(t){var e,n,r;const a=t._freezeSettings(),l=function(h,f,p,g){return new cO(h,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,ZA(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new NL(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kl(In.fromBase64String(e))}catch(n){throw new Se(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kl(In.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=/^__.*__$/;class FL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ra(e,this.data,this.fieldMask,n,this.fieldTransforms):new ih(e,this.data,n,this.fieldTransforms)}}class tR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ra(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function nR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{Ic:t})}}class a0{constructor(e,n,r,a,l,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new a0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.dc({path:r,Rc:!1});return a.Vc(e),a}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.dc({path:r,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Nd(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(nR(this.Ic)&&zL.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class HL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||am(e)}bc(e,n,r,a=!1){return new a0({Ic:e,methodName:n,wc:r,path:Cn.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function o0(t){const e=t._freezeSettings(),n=am(t._databaseId);return new HL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qL(t,e,n,r,a,l={}){const u=t.bc(l.merge||l.mergeFields?2:0,e,n,a);l0("Data must be an object, but it was:",u,r);const h=rR(r,u);let f,p;if(l.merge)f=new pr(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const g=[];for(const v of l.mergeFields){const _=jy(e,v,n);if(!u.contains(_))throw new Se(me.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);sR(g,_)||g.push(_)}f=new pr(g),p=u.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,p=u.fieldTransforms;return new FL(new er(h),f,p)}class fm extends r0{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fm}}function GL(t,e,n,r){const a=t.bc(1,e,n);l0("Data must be an object, but it was:",a,r);const l=[],u=er.empty();Aa(r,(f,p)=>{const g=u0(e,f,n);p=rn(p);const v=a.mc(g);if(p instanceof fm)l.push(g);else{const _=lh(p,v);_!=null&&(l.push(g),u.set(g,_))}});const h=new pr(l);return new tR(u,h,a.fieldTransforms)}function $L(t,e,n,r,a,l){const u=t.bc(1,e,n),h=[jy(e,r,n)],f=[a];if(l.length%2!=0)throw new Se(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)h.push(jy(e,l[_])),f.push(l[_+1]);const p=[],g=er.empty();for(let _=h.length-1;_>=0;--_)if(!sR(p,h[_])){const x=h[_];let R=f[_];R=rn(R);const L=u.mc(x);if(R instanceof fm)p.push(x);else{const D=lh(R,L);D!=null&&(p.push(x),g.set(x,D))}}const v=new pr(p);return new tR(g,v,u.fieldTransforms)}function KL(t,e,n,r=!1){return lh(n,t.bc(r?4:3,e))}function lh(t,e){if(iR(t=rn(t)))return l0("Unsupported field value:",e,t),rR(t,e);if(t instanceof r0)return function(r,a){if(!nR(a.Ic))throw a.gc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,a){const l=[];let u=0;for(const h of r){let f=lh(h,a.fc(u));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),u++}return{arrayValue:{values:l}}}(t,e)}return function(r,a){if((r=rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MO(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=cn.fromDate(r);return{timestampValue:Cd(a.serializer,l)}}if(r instanceof cn){const l=new cn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cd(a.serializer,l)}}if(r instanceof i0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kl)return{bytesValue:_A(a.serializer,r._byteString)};if(r instanceof Yn){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Fv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof s0)return function(u,h){return{mapValue:{fields:{[Y2]:{stringValue:X2},[bd]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.gc("VectorValues must only contain numeric values.");return jv(h.serializer,p)})}}}}}}(r,a);throw a.gc(`Unsupported field value: ${um(r)}`)}(t,e)}function rR(t,e){const n={};return F2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(t,(r,a)=>{const l=lh(a,e.Ac(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function iR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof cn||t instanceof i0||t instanceof kl||t instanceof Yn||t instanceof r0||t instanceof s0)}function l0(t,e,n){if(!iR(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=um(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function jy(t,e,n){if((e=rn(e))instanceof hm)return e._internalPath;if(typeof e=="string")return u0(t,e);throw Nd("Field path arguments must be of type string or ",t,!1,void 0,n)}const YL=new RegExp("[~\\*/\\[\\]]");function u0(t,e,n){if(e.search(YL)>=0)throw Nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hm(...e.split("."))._internalPath}catch{throw Nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nd(t,e,n,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||u)&&(f+=" (found",l&&(f+=` in field ${r}`),u&&(f+=` in document ${a}`),f+=")"),new Se(me.INVALID_ARGUMENT,h+t+f)}function sR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(c0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XL extends aR{data(){return super.data()}}function c0(t,e){return typeof e=="string"?u0(t,e):e instanceof hm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class h0{}class WL extends h0{}function ZL(t,e,...n){let r=[];e instanceof h0&&r.push(e),r=r.concat(n),function(l){const u=l.filter(f=>f instanceof f0).length,h=l.filter(f=>f instanceof dm).length;if(u>1||u>0&&h>0)throw new Se(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class dm extends WL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new dm(e,n,r)}_apply(e){const n=this._parse(e);return oR(e._query,n),new Kl(e.firestore,e.converter,Ry(e._query,n))}_parse(e){const n=o0(e.firestore);return function(l,u,h,f,p,g,v){let _;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Se(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){_b(v,g);const R=[];for(const L of v)R.push(vb(f,l,L));_={arrayValue:{values:R}}}else _=vb(f,l,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||_b(v,g),_=KL(h,u,v,g==="in"||g==="not-in");return nn.create(p,g,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function JL(t,e,n){const r=e,a=c0("where",t);return dm._create(a,r,n)}class f0 extends h0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new f0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ei.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let u=a;const h=l.getFlattenedFilters();for(const f of h)oR(u,f),u=Ry(u,f)}(e._query,n),new Kl(e.firestore,e.converter,Ry(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function vb(t,e,n){if(typeof(n=rn(n))=="string"){if(n==="")throw new Se(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rA(e)&&n.indexOf("/")!==-1)throw new Se(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Nt.fromString(n));if(!Me.isDocumentKey(r))throw new Se(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ME(t,new Me(r))}if(n instanceof Yn)return ME(t,n._key);throw new Se(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${um(n)}.`)}function _b(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oR(t,e){const n=function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class e9{convertValue(e,n="none"){switch(_a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Aa(e,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertVectorValue(e){var n,r,a;const l=(a=(r=(n=e.fields)===null||n===void 0?void 0:n[bd].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>$t(u.doubleValue));return new s0(l)}convertGeoPoint(e){return new i0($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=em(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mc(e));default:return null}}convertTimestamp(e){const n=ya(e);return new cn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Nt.fromString(e);_t(SA(r),9688,{name:e});const a=new Oc(r.get(1),r.get(3)),l=new Me(r.popFirst(5));return a.isEqual(n)||ps(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lR extends aR{constructor(e,n,r,a,l,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ed(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(c0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ed extends lR{data(e={}){return super.data(e)}}class n9{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new dc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ed(this._firestore,this._userDataWriter,r.key,r,new dc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(h=>{const f=new ed(a._firestore,a._userDataWriter,h.doc.key,h.doc,new dc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const f=new ed(a._firestore,a._userDataWriter,h.doc.key,h.doc,new dc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,g=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:r9(h.type),doc:f,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function r9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t){t=Oi(t,Yn);const e=Oi(t.firestore,Yl);return VL(n0(e),t._key).then(n=>s9(e,t,n))}class uR extends e9{constructor(e){super(),this.firestore=e}convertBytes(e){return new kl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,n)}}function Br(t){t=Oi(t,Kl);const e=Oi(t.firestore,Yl),n=n0(e),r=new uR(e);return QL(t._query),LL(n,t._query).then(a=>new n9(e,r,t,a))}function td(t,e,n){t=Oi(t,Yn);const r=Oi(t.firestore,Yl),a=t9(t.converter,e,n);return d0(r,[qL(o0(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Zr.none())])}function i9(t,e,n,...r){t=Oi(t,Yn);const a=Oi(t.firestore,Yl),l=o0(a);let u;return u=typeof(e=rn(e))=="string"||e instanceof hm?$L(l,"updateDoc",t._key,e,n,r):GL(l,"updateDoc",t._key,e),d0(a,[u.toMutation(t._key,Zr.exists(!0))])}function Uy(t){return d0(Oi(t.firestore,Yl),[new Uv(t._key,Zr.none())])}function d0(t,e){return function(r,a){const l=new hs;return r.asyncQueue.enqueueAndForget(async()=>bL(await OL(r),a,l)),l.promise}(n0(t),e)}function s9(t,e,n){const r=n.docs.get(e._key),a=new uR(t);return new lR(t,a,e._key,r,new dc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Hl=a})(zl),Dl(new vo("firestore",(r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),h=new Yl(new K5(r.getProvider("auth-internal")),new Q5(u,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Se(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oc(p.options.projectId,g)}(u,a),u);return l=Object.assign({useFetchStreams:n},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),fa(wE,EE,e),fa(wE,EE,"esm2017")})();const a9={apiKey:"AIzaSyCECwFEMSAVII9RlvjUjY8AkEK5DN86blQ",authDomain:"revio-899ad.firebaseapp.com",projectId:"revio-899ad",storageBucket:"revio-899ad.firebasestorage.app",messagingSenderId:"1012006786653",appId:"1:1012006786653:web:b485d0dbbf5ed6e0e25fb4"},o9=GS(a9),fn=H5(),Kt=UL(o9),cR=()=>{const t=Kc();return Array.isArray(t)?w.jsxs("div",{children:[w.jsxs("div",{className:"flex flex-col gap-7 p-10",children:[w.jsx("h1",{className:"text-white text-xl font-bold md:text-4xl lg:text-5xl font-poppinsbold",children:"LIBRARY"}),w.jsx("hr",{className:"text-white"})]}),w.jsx("div",{className:"px-6 sm:px-10 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-8 text-start",children:t.map(e=>{const r=e.title.length>25?"text-xs sm:text-sm md:text-base":"text-sm sm:text-base md:text-lg";return w.jsxs(kr,{to:e.id,className:"flex justify-start items-center gap-4 bg-[#20202C] p-4 sm:p-5 rounded-2xl duration-150 ease-in hover:scale-105",children:[w.jsx("div",{className:"flex-shrink-0",children:w.jsx(VP,{color:"white",size:80})}),w.jsx("h4",{className:`text-white font-medium leading-snug break-words line-clamp-2 ${r}`,title:e.title,children:e.title})]},e.id)})})]}):null},l9=async()=>{const t=()=>new Promise((e,n)=>{const r=ni(fn,a=>{r(),a&&a.emailVerified?e(a):n("Unauthorized")})});try{const n=(await t()).uid,r=Ur(Kt,"users",n,"folders");return(await Br(r)).docs.map(u=>{const h=u.data();return{id:u.id,title:h.title||u.id}})}catch(e){throw console.error("Error loading folders:",e),new Response("Unauthorized",{status:401})}},hR=N.createContext(),fR=({children:t})=>{const e=N.useRef(null),[n,r]=N.useState(null),[a,l]=N.useState(!1),[u,h]=N.useState([]),[f,p]=N.useState(0),[g,v]=N.useState(1),_=()=>{e.current&&(e.current.play(),l(!0))},x=()=>{e.current&&(e.current.pause(),l(!1))},R=()=>{e.current&&(a?x():_())},L=()=>{f<u.length-1?p(f+1):f===u.length-1&&p(0)},D=()=>{f>0&&p(f-1)};return N.useEffect(()=>{e.current&&n&&(e.current.load(),a&&e.current.play().then(()=>l(!0)).catch(()=>l(!1)))},[n,f]),N.useEffect(()=>{u.length>0&&r(u[f])},[f,u]),N.useEffect(()=>{const I=e.current;if(!I)return;const M=()=>l(!0),O=()=>l(!1),z=()=>l(!1);return I.addEventListener("play",M),I.addEventListener("pause",O),I.addEventListener("ended",z),()=>{I.removeEventListener("play",M),I.removeEventListener("pause",O),I.removeEventListener("ended",z)}},[]),w.jsxs(hR.Provider,{value:{audioRef:e,currentTrack:n,setCurrentTrack:r,isPlaying:a,play:_,pause:x,togglePlay:R,nextTrack:L,prevTrack:D,setTrackList:h,setCurrentIndex:p,setVolume:v,volume:g},children:[w.jsxs("audio",{ref:e,className:"hidden",controls:!1,children:[(n==null?void 0:n.audio)&&w.jsx("source",{src:n.audio,type:"audio/mpeg"}),"Your browser does not support audio."]}),t]})},dR=()=>N.useContext(hR),nc="/ParaKayJM/assets/focusimage-zIitFYfn.jpg",u9="/ParaKayJM/assets/_1__FOCUS-CoM-HGzB.mp3",c9="/ParaKayJM/assets/_2__FOCUS2-CcVh1U8J.mp3",h9="/ParaKayJM/assets/_3__FOCUS-CONCENTRATION-rmHVxHDC.mp3",f9="/ParaKayJM/assets/_4__DEEP_CONCENTRATION-CGYoGZdY.mp3",d9="/ParaKayJM/assets/_5__CALM_FOCUS-DOkHhpUj.mp3",Tb=[{id:1,title:"Focus Music",image:nc,artist:"GPT 5.0",audio:u9},{id:2,title:"Intense Focus",image:nc,artist:"GPT 5.0",audio:c9},{id:3,title:"Focus Concentration",image:nc,artist:"GPT 5.0",audio:h9},{id:4,title:"Deep Concentration",image:nc,artist:"GPT 5.0",audio:f9},{id:5,title:"Calm Focus",image:nc,artist:"GPT 5.0",audio:d9}],m9=()=>{const{setCurrentTrack:t,audioRef:e,setTrackList:n,setCurrentIndex:r}=dR();return N.useEffect(()=>{n(Tb),r(0)},[]),w.jsxs("div",{className:"flex flex-col gap-7 p-5 md:p-10",children:[w.jsx("h1",{className:"text-white text-2xl md:text-4xl lg:text-5xl font-bold font-poppinsbold",children:"FOCUS"}),w.jsx("hr",{className:"border-[#797777]"}),w.jsx("ol",{className:"list-decimal",children:Tb.map(a=>w.jsxs("li",{onClick:()=>{t(a),setTimeout(()=>{e.current.load(),e.current.play().catch(l=>console.warn("Autoplay failed:",l))},0)},className:"flex items-center gap-3 border-y border-[#797777] p-3 text-white active:scale-95 cursor-pointer md:gap-4 md:p-4",children:[w.jsx("img",{src:a.image,alt:a.title,className:"w-14 h-14 md:w-20 md:h-20 object-cover rounded-xl"}),w.jsx("h3",{className:"text-sm md:text-lg font-semibold",children:a.title})]},a.id))})]})},mR=N.createContext(),p9=({children:t})=>{const[e,n]=N.useState(!1),[r,a]=N.useState(null),[l,u]=N.useState(!0);return N.useEffect(()=>{const h=ni(fn,async f=>{f&&f.emailVerified?(n(!0),a(f)):(n(!1),a(null)),u(!1)});return()=>h()},[]),w.jsx(mR.Provider,{value:{isLoggedIn:e,setIsLoggedIn:n,currentUser:r},children:!l&&t})},mm=()=>N.useContext(mR),g9="/ParaKayJM/assets/avatar1-JT60DtFJ.png",y9="/ParaKayJM/assets/avatar2-CCtnW9mT.png",v9="/ParaKayJM/assets/avatar3-DGcsGmuK.png",_9="/ParaKayJM/assets/avatar4-DlKHCDPN.png",T9="/ParaKayJM/assets/avatar5-BNoyK_LE.png",w9="/ParaKayJM/assets/avatar6-CHA0YeTH.png",E9="/ParaKayJM/assets/avatar7-BpvouBNR.png",b9="/ParaKayJM/assets/avatar8-BLrJADlT.png",wb=[{id:"avatar1",name:"Muslim",file:g9},{id:"avatar2",name:"Glasses Boy",file:y9},{id:"avatar3",name:"Girl",file:v9},{id:"avatar4",name:"Boy Shades",file:_9},{id:"avatar5",name:"Girl Earphones",file:T9},{id:"avatar6",name:"Nurse",file:w9},{id:"avatar7",name:"Skaterboarder",file:E9},{id:"avatar8",name:"Catterpilar",file:b9}],x9=()=>{const{setIsLoggedIn:t,isLoggedIn:e}=mm(),[n,r]=N.useState(null),[a,l]=N.useState(""),[u,h]=N.useState(""),[f,p]=N.useState(""),[g,v]=N.useState(""),_=_s();N.useEffect(()=>{const D=fn.onAuthStateChanged(async I=>{if(I){r(I);const M=tn(Kt,"users",I.uid),O=await Vi(M);if(O.exists()){const z=O.data();l(z.username),h(z.avatarId),p(z.avatarId)}}else r(null)});return()=>D()},[]);const x=async()=>{if(!window.confirm("Are you sure you want to permanently delete your account?"))return;const I=fn.currentUser;if(I)try{await Uy(tn(Kt,"users",I.uid)),await N6(I),alert("Your account has been permanently deleted."),_("/login")}catch(M){console.error("Delete Account Error:",M),M.code==="auth/requires-recent-login"?(alert("Please log in again to delete your account."),_("/login")):alert("Could not delete account.")}};N.useEffect(()=>{if(!u)return;const D=wb.find(I=>I.id===u);v(D?D.file:null)},[u]);const R=async()=>{if(!(!n||!f))try{const D=tn(Kt,"users",n.uid);await i9(D,{avatarId:f}),h(f),Ke.success("Profile picture updated!")}catch(D){console.error(D),Ke.error("Failed to update profile picture.")}},L=async()=>{e&&(await P6(fn),localStorage.removeItem("isLoggedInWeb"),t(!1),Ke.success("User Logged Out Successfully, see you soon!"),_("/"))};return n?w.jsxs("div",{className:"flex flex-col gap-8 p-6 sm:p-10 md:p-16 lg:p-20",children:[w.jsx("h1",{className:"text-white text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold font-poppinsbold",children:"SETTINGS"}),w.jsxs("div",{className:"border border-[#565656] rounded-lg p-6 sm:p-10 flex flex-col lg:flex-row gap-10 bg-[#1E1E2E]",children:[w.jsxs("div",{className:"w-full lg:w-[40%] flex flex-col gap-4",children:[w.jsx("label",{className:"text-white font-poppins text-sm sm:text-base",children:"Username:"}),w.jsx("input",{value:a,readOnly:!0,className:"bg-[#252533] text-white p-2 rounded-md"}),w.jsx("label",{className:"text-white font-poppins text-sm sm:text-base",children:"Email:"}),w.jsx("input",{value:n.email,readOnly:!0,className:"bg-[#252533] text-white p-2 rounded-md"}),w.jsx("label",{className:"text-white font-poppins text-sm sm:text-base",children:"Password:"}),w.jsx("input",{type:"password",value:"********",readOnly:!0,className:"bg-[#252533] text-white p-2 rounded-md"}),w.jsx("button",{className:"bg-[#B5B5FF] text-[#200448] font-poppins rounded-md py-2 mt-4 hover:opacity-90 transition",children:"Change Password"})]}),w.jsxs("div",{className:"w-full lg:w-[60%] flex flex-col gap-6 items-center",children:[w.jsx("div",{className:"w-[6rem] h-[6rem] sm:w-[7rem] sm:h-[7rem] rounded-full overflow-hidden bg-white shadow-md",children:g&&w.jsx("img",{src:g,alt:"Profile",className:"w-full h-full object-cover"})}),w.jsx("p",{className:"text-white font-poppins text-center text-sm sm:text-base",children:"Select a new profile picture:"}),w.jsx("ul",{className:"flex flex-wrap gap-4 justify-center",children:wb.map(D=>w.jsx("li",{onClick:()=>p(D.id),className:`cursor-pointer w-[4rem] h-[4rem] sm:w-[5rem] sm:h-[5rem] rounded-full overflow-hidden border-4 ${f===D.id?"border-[#B5B5FF]":"border-transparent"} transition-all duration-200 hover:scale-105`,children:w.jsx("img",{src:D.file,alt:D.name,className:"w-full h-full object-cover"})},D.id))}),w.jsx("button",{onClick:R,className:"bg-[#B5B5FF] text-[#200448] font-poppins rounded-md py-2 px-4 mt-2 disabled:opacity-50 hover:opacity-90 transition",disabled:f===u,children:"Confirm Change"})]})]}),w.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 mt-6",children:[w.jsx("button",{onClick:L,className:"bg-[#B5B5FF] text-[#200448] font-poppins font-semibold py-2 px-6 rounded-md active:scale-95 hover:text-[#B5B5FF] hover:bg-[#200448] transition",children:"Logout"}),w.jsx("button",{onClick:x,className:"bg-[#CD3232] text-[#FFFFFF] font-poppins font-semibold py-2 px-6 rounded-md active:scale-95 hover:bg-[#8B1E1E] transition",children:"Delete Account"})]})]}):w.jsx("p",{className:"text-white text-center py-20",children:"Loading user data..."})};function S9(t){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 399.26C48 335.19 62.44 284 90.91 247c34.38-44.67 88.68-68.77 161.56-71.75V72L464 252 252.47 432V329.35c-44.25 1.19-77.66 7.58-104.27 19.84-28.75 13.25-49.6 33.05-72.08 58.7L48 440z"},child:[]}]})(t)}function A9(t){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 440a16 16 0 0 1-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 0 1-27 11.57l-176-168a16 16 0 0 1 0-23.14l176-168A16 16 0 0 1 256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 0 1-16 16z"},child:[]}]})(t)}function R9(t){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(t)}function pR(t){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"256",r:"64"},child:[]},{tag:"path",attr:{d:"M394.82 141.18C351.1 111.2 304.31 96 255.76 96c-43.69 0-86.28 13-126.59 38.48C88.52 160.23 48.67 207 16 256c26.42 44 62.56 89.24 100.2 115.18C159.38 400.92 206.33 416 255.76 416c49 0 95.85-15.07 139.3-44.79C433.31 345 469.71 299.82 496 256c-26.38-43.43-62.9-88.56-101.18-114.82zM256 352a96 96 0 1 1 96-96 96.11 96.11 0 0 1-96 96z"},child:[]}]})(t)}function C9(t){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M408 96H252.11a23.89 23.89 0 0 1-13.31-4L211 73.41A55.77 55.77 0 0 0 179.89 64H104a56.06 56.06 0 0 0-56 56v24h416c0-30.88-25.12-48-56-48zm15.75 352H88.25a56 56 0 0 1-55.93-55.15L16.18 228.11v-.28A48 48 0 0 1 64 176h384.1a48 48 0 0 1 47.8 51.83v.28l-16.22 164.74A56 56 0 0 1 423.75 448zm56.15-221.45z"},child:[]}]})(t)}function I9(t){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M483.13 245.38C461.92 149.49 430 98.31 382.65 84.33A107.13 107.13 0 0 0 352 80c-13.71 0-25.65 3.34-38.28 6.88C298.5 91.15 281.21 96 256 96s-42.51-4.84-57.76-9.11C185.6 83.34 173.67 80 160 80a115.74 115.74 0 0 0-31.73 4.32c-47.1 13.92-79 65.08-100.52 161C4.61 348.54 16 413.71 59.69 428.83a56.62 56.62 0 0 0 18.64 3.22c29.93 0 53.93-24.93 70.33-45.34 18.53-23.1 40.22-34.82 107.34-34.82 59.95 0 84.76 8.13 106.19 34.82 13.47 16.78 26.2 28.52 38.9 35.91 16.89 9.82 33.77 12 50.16 6.37 25.82-8.81 40.62-32.1 44-69.24 2.57-28.48-1.39-65.89-12.12-114.37zM208 240h-32v32a16 16 0 0 1-32 0v-32h-32a16 16 0 0 1 0-32h32v-32a16 16 0 0 1 32 0v32h32a16 16 0 0 1 0 32zm84 4a20 20 0 1 1 20-20 20 20 0 0 1-20 20zm44 44a20 20 0 1 1 20-19.95A20 20 0 0 1 336 288zm0-88a20 20 0 1 1 20-20 20 20 0 0 1-20 20zm44 44a20 20 0 1 1 20-20 20 20 0 0 1-20 20z"},child:[]}]})(t)}function D9(t){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"},child:[]}]})(t)}function gR(t){return ht({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"},child:[]}]})(t)}function P9(t){return ht({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M234.7 42.7L197 56.8c-3 1.1-5 4-5 7.2s2 6.1 5 7.2l37.7 14.1L248.8 123c1.1 3 4 5 7.2 5s6.1-2 7.2-5l14.1-37.7L315 71.2c3-1.1 5-4 5-7.2s-2-6.1-5-7.2L277.3 42.7 263.2 5c-1.1-3-4-5-7.2-5s-6.1 2-7.2 5L234.7 42.7zM46.1 395.4c-18.7 18.7-18.7 49.1 0 67.9l34.6 34.6c18.7 18.7 49.1 18.7 67.9 0L529.9 116.5c18.7-18.7 18.7-49.1 0-67.9L495.3 14.1c-18.7-18.7-49.1-18.7-67.9 0L46.1 395.4zM484.6 82.6l-105 105-23.3-23.3 105-105 23.3 23.3zM7.5 117.2C3 118.9 0 123.2 0 128s3 9.1 7.5 10.8L64 160l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L128 160l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L128 96 106.8 39.5C105.1 35 100.8 32 96 32s-9.1 3-10.8 7.5L64 96 7.5 117.2zm352 256c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L416 416l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L480 416l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L480 352l-21.2-56.5c-1.7-4.5-6-7.5-10.8-7.5s-9.1 3-10.8 7.5L416 352l-56.5 21.2z"},child:[]}]})(t)}function N9(t){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M413.967 276.8c1.06-6.235 1.06-13.518 1.06-20.8s-1.06-13.518-1.06-20.8l44.667-34.318c4.26-3.118 5.319-8.317 2.13-13.518L418.215 115.6c-2.129-4.164-8.507-6.235-12.767-4.164l-53.186 20.801c-10.638-8.318-23.394-15.601-36.16-20.801l-7.448-55.117c-1.06-4.154-5.319-8.318-10.638-8.318h-85.098c-5.318 0-9.577 4.164-10.637 8.318l-8.508 55.117c-12.767 5.2-24.464 12.482-36.171 20.801l-53.186-20.801c-5.319-2.071-10.638 0-12.767 4.164L49.1 187.365c-2.119 4.153-1.061 10.399 2.129 13.518L96.97 235.2c0 7.282-1.06 13.518-1.06 20.8s1.06 13.518 1.06 20.8l-44.668 34.318c-4.26 3.118-5.318 8.317-2.13 13.518L92.721 396.4c2.13 4.164 8.508 6.235 12.767 4.164l53.187-20.801c10.637 8.318 23.394 15.601 36.16 20.801l8.508 55.117c1.069 5.2 5.318 8.318 10.637 8.318h85.098c5.319 0 9.578-4.164 10.638-8.318l8.518-55.117c12.757-5.2 24.464-12.482 36.16-20.801l53.187 20.801c5.318 2.071 10.637 0 12.767-4.164l42.549-71.765c2.129-4.153 1.06-10.399-2.13-13.518l-46.8-34.317zm-158.499 52c-41.489 0-74.46-32.235-74.46-72.8s32.971-72.8 74.46-72.8 74.461 32.235 74.461 72.8-32.972 72.8-74.461 72.8z"},child:[]}]})(t)}const m0="/ParaKayJM/assets/logo-B1UKd7aW.png",M9=()=>w.jsxs("div",{className:`\r
        fixed bottom-0 left-0 w-full h-[10%] bg-[#0B0B0F]\r
        flex justify-center items-center z-50\r
        md:static md:flex-col md:w-[6rem] md:h-screen md:justify-start md:py-10\r
      `,children:[w.jsx("img",{src:m0,alt:"Logo",className:"hidden md:block size-20 mb-10"}),w.jsxs("ul",{className:"flex flex-row gap-4 px-4 p-5 sm:gap-5 items-center md:flex-col md:gap-10",children:[w.jsx(dl,{to:"/Main/Library",children:w.jsx("li",{className:"p-3 duration-300 ease-in-out hover:bg-gradient-to-r from-[#B5B5FF] to-[#6F56AA] rounded-2xl hover:scale-105",children:w.jsx(C9,{color:"white",size:30})})}),w.jsx(dl,{to:"/Main/Focus",children:w.jsx("li",{className:"p-3 duration-300 ease-in-out hover:bg-gradient-to-r from-[#B5B5FF] to-[#6F56AA] rounded-2xl hover:scale-110",children:w.jsx(NS,{color:"white",size:30})})}),w.jsx(dl,{to:"/Main/Create",children:w.jsx("li",{className:"p-3 duration-300 ease-in-out hover:bg-gradient-to-r from-[#B5B5FF] to-[#6F56AA] rounded-2xl hover:scale-110",children:w.jsx(D9,{color:"white",size:50,className:"md:size-9"})})}),w.jsx(dl,{to:"/Main/Settings",children:w.jsx("li",{className:"p-3 duration-300 ease-in-out hover:bg-gradient-to-r from-[#B5B5FF] to-[#6F56AA] rounded-2xl hover:scale-110",children:w.jsx(N9,{color:"white",size:30})})}),w.jsx(dl,{to:"/Main/Download",children:w.jsx("li",{className:"p-3 duration-300 ease-in-out hover:bg-gradient-to-r from-[#B5B5FF] to-[#6F56AA] rounded-2xl hover:scale-110 md:hidden",children:w.jsx(kP,{color:"white",size:30})})})]})]});var rc={exports:{}},jg={},Ug={exports:{}},Bg,Eb;function O9(){if(Eb)return Bg;Eb=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Bg=t,Bg}var zg,bb;function V9(){if(bb)return zg;bb=1;var t=O9();function e(){}function n(){}return n.resetWarningCache=e,zg=function(){function r(u,h,f,p,g,v){if(v!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function a(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},zg}var xb;function yR(){return xb||(xb=1,Ug.exports=V9()()),Ug.exports}function vR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=vR(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Sb(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=vR(t))&&(r&&(r+=" "),r+=e);return r}const L9=Object.freeze(Object.defineProperty({__proto__:null,clsx:Sb,default:Sb},Symbol.toStringTag,{value:"Module"})),k9=SI(L9);var qt={},ea={},Ab;function pm(){if(Ab)return ea;Ab=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.dontSetMe=a,ea.findInArray=t,ea.int=r,ea.isFunction=e,ea.isNum=n;function t(l,u){for(let h=0,f=l.length;h<f;h++)if(u.apply(u,[l[h],h,l]))return l[h]}function e(l){return typeof l=="function"||Object.prototype.toString.call(l)==="[object Function]"}function n(l){return typeof l=="number"&&!isNaN(l)}function r(l){return parseInt(l,10)}function a(l,u,h){if(l[u])return new Error("Invalid prop ".concat(u," passed to ").concat(h," - do not set this, set it on the child."))}return ea}var ta={},Rb;function j9(){if(Rb)return ta;Rb=1,Object.defineProperty(ta,"__esModule",{value:!0}),ta.browserPrefixToKey=n,ta.browserPrefixToStyle=r,ta.default=void 0,ta.getPrefix=e;const t=["Moz","Webkit","O","ms"];function e(){var l;let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const h=(l=window.document)===null||l===void 0||(l=l.documentElement)===null||l===void 0?void 0:l.style;if(!h||u in h)return"";for(let f=0;f<t.length;f++)if(n(u,t[f])in h)return t[f];return""}function n(l,u){return u?"".concat(u).concat(a(l)):l}function r(l,u){return u?"-".concat(u.toLowerCase(),"-").concat(l):l}function a(l){let u="",h=!0;for(let f=0;f<l.length;f++)h?(u+=l[f].toUpperCase(),h=!1):l[f]==="-"?h=!0:u+=l[f];return u}return ta.default=e(),ta}var Cb;function p0(){if(Cb)return qt;Cb=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.addClassName=F,qt.addEvent=h,qt.addUserSelectStyles=O,qt.createCSSTransform=R,qt.createSVGTransform=L,qt.getTouch=I,qt.getTouchIdentifier=M,qt.getTranslation=D,qt.innerHeight=v,qt.innerWidth=_,qt.matchesSelector=l,qt.matchesSelectorAndParentsTo=u,qt.offsetXYFromParent=x,qt.outerHeight=p,qt.outerWidth=g,qt.removeClassName=j,qt.removeEvent=f,qt.removeUserSelectStyles=z;var t=pm(),e=r(j9());function n(A){if(typeof WeakMap!="function")return null;var b=new WeakMap,C=new WeakMap;return(n=function(U){return U?C:b})(A)}function r(A,b){if(A&&A.__esModule)return A;if(A===null||typeof A!="object"&&typeof A!="function")return{default:A};var C=n(b);if(C&&C.has(A))return C.get(A);var U={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var G in A)if(G!=="default"&&Object.prototype.hasOwnProperty.call(A,G)){var V=B?Object.getOwnPropertyDescriptor(A,G):null;V&&(V.get||V.set)?Object.defineProperty(U,G,V):U[G]=A[G]}return U.default=A,C&&C.set(A,U),U}let a="";function l(A,b){return a||(a=(0,t.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(C){return(0,t.isFunction)(A[C])})),(0,t.isFunction)(A[a])?A[a](b):!1}function u(A,b,C){let U=A;do{if(l(U,b))return!0;if(U===C)return!1;U=U.parentNode}while(U);return!1}function h(A,b,C,U){if(!A)return;const B={capture:!0,...U};A.addEventListener?A.addEventListener(b,C,B):A.attachEvent?A.attachEvent("on"+b,C):A["on"+b]=C}function f(A,b,C,U){if(!A)return;const B={capture:!0,...U};A.removeEventListener?A.removeEventListener(b,C,B):A.detachEvent?A.detachEvent("on"+b,C):A["on"+b]=null}function p(A){let b=A.clientHeight;const C=A.ownerDocument.defaultView.getComputedStyle(A);return b+=(0,t.int)(C.borderTopWidth),b+=(0,t.int)(C.borderBottomWidth),b}function g(A){let b=A.clientWidth;const C=A.ownerDocument.defaultView.getComputedStyle(A);return b+=(0,t.int)(C.borderLeftWidth),b+=(0,t.int)(C.borderRightWidth),b}function v(A){let b=A.clientHeight;const C=A.ownerDocument.defaultView.getComputedStyle(A);return b-=(0,t.int)(C.paddingTop),b-=(0,t.int)(C.paddingBottom),b}function _(A){let b=A.clientWidth;const C=A.ownerDocument.defaultView.getComputedStyle(A);return b-=(0,t.int)(C.paddingLeft),b-=(0,t.int)(C.paddingRight),b}function x(A,b,C){const B=b===b.ownerDocument.body?{left:0,top:0}:b.getBoundingClientRect(),G=(A.clientX+b.scrollLeft-B.left)/C,V=(A.clientY+b.scrollTop-B.top)/C;return{x:G,y:V}}function R(A,b){const C=D(A,b,"px");return{[(0,e.browserPrefixToKey)("transform",e.default)]:C}}function L(A,b){return D(A,b,"")}function D(A,b,C){let{x:U,y:B}=A,G="translate(".concat(U).concat(C,",").concat(B).concat(C,")");if(b){const V="".concat(typeof b.x=="string"?b.x:b.x+C),ae="".concat(typeof b.y=="string"?b.y:b.y+C);G="translate(".concat(V,", ").concat(ae,")")+G}return G}function I(A,b){return A.targetTouches&&(0,t.findInArray)(A.targetTouches,C=>b===C.identifier)||A.changedTouches&&(0,t.findInArray)(A.changedTouches,C=>b===C.identifier)}function M(A){if(A.targetTouches&&A.targetTouches[0])return A.targetTouches[0].identifier;if(A.changedTouches&&A.changedTouches[0])return A.changedTouches[0].identifier}function O(A){if(!A)return;let b=A.getElementById("react-draggable-style-el");b||(b=A.createElement("style"),b.type="text/css",b.id="react-draggable-style-el",b.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,b.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,A.getElementsByTagName("head")[0].appendChild(b)),A.body&&F(A.body,"react-draggable-transparent-selection")}function z(A){if(A)try{if(A.body&&j(A.body,"react-draggable-transparent-selection"),A.selection)A.selection.empty();else{const b=(A.defaultView||window).getSelection();b&&b.type!=="Caret"&&b.removeAllRanges()}}catch{}}function F(A,b){A.classList?A.classList.add(b):A.className.match(new RegExp("(?:^|\\s)".concat(b,"(?!\\S)")))||(A.className+=" ".concat(b))}function j(A,b){A.classList?A.classList.remove(b):A.className=A.className.replace(new RegExp("(?:^|\\s)".concat(b,"(?!\\S)"),"g"),"")}return qt}var bi={},Ib;function _R(){if(Ib)return bi;Ib=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.canDragX=a,bi.canDragY=l,bi.createCoreData=h,bi.createDraggableData=f,bi.getBoundPosition=n,bi.getControlPosition=u,bi.snapToGrid=r;var t=pm(),e=p0();function n(v,_,x){if(!v.props.bounds)return[_,x];let{bounds:R}=v.props;R=typeof R=="string"?R:p(R);const L=g(v);if(typeof R=="string"){const{ownerDocument:D}=L,I=D.defaultView;let M;if(R==="parent"?M=L.parentNode:M=D.querySelector(R),!(M instanceof I.HTMLElement))throw new Error('Bounds selector "'+R+'" could not find an element.');const O=M,z=I.getComputedStyle(L),F=I.getComputedStyle(O);R={left:-L.offsetLeft+(0,t.int)(F.paddingLeft)+(0,t.int)(z.marginLeft),top:-L.offsetTop+(0,t.int)(F.paddingTop)+(0,t.int)(z.marginTop),right:(0,e.innerWidth)(O)-(0,e.outerWidth)(L)-L.offsetLeft+(0,t.int)(F.paddingRight)-(0,t.int)(z.marginRight),bottom:(0,e.innerHeight)(O)-(0,e.outerHeight)(L)-L.offsetTop+(0,t.int)(F.paddingBottom)-(0,t.int)(z.marginBottom)}}return(0,t.isNum)(R.right)&&(_=Math.min(_,R.right)),(0,t.isNum)(R.bottom)&&(x=Math.min(x,R.bottom)),(0,t.isNum)(R.left)&&(_=Math.max(_,R.left)),(0,t.isNum)(R.top)&&(x=Math.max(x,R.top)),[_,x]}function r(v,_,x){const R=Math.round(_/v[0])*v[0],L=Math.round(x/v[1])*v[1];return[R,L]}function a(v){return v.props.axis==="both"||v.props.axis==="x"}function l(v){return v.props.axis==="both"||v.props.axis==="y"}function u(v,_,x){const R=typeof _=="number"?(0,e.getTouch)(v,_):null;if(typeof _=="number"&&!R)return null;const L=g(x),D=x.props.offsetParent||L.offsetParent||L.ownerDocument.body;return(0,e.offsetXYFromParent)(R||v,D,x.props.scale)}function h(v,_,x){const R=!(0,t.isNum)(v.lastX),L=g(v);return R?{node:L,deltaX:0,deltaY:0,lastX:_,lastY:x,x:_,y:x}:{node:L,deltaX:_-v.lastX,deltaY:x-v.lastY,lastX:v.lastX,lastY:v.lastY,x:_,y:x}}function f(v,_){const x=v.props.scale;return{node:_.node,x:v.state.x+_.deltaX/x,y:v.state.y+_.deltaY/x,deltaX:_.deltaX/x,deltaY:_.deltaY/x,lastX:v.state.x,lastY:v.state.y}}function p(v){return{left:v.left,top:v.top,right:v.right,bottom:v.bottom}}function g(v){const _=v.findDOMNode();if(!_)throw new Error("<DraggableCore>: Unmounted during event!");return _}return bi}var ic={},kf={},Db;function TR(){if(Db)return kf;Db=1,Object.defineProperty(kf,"__esModule",{value:!0}),kf.default=t;function t(){}return kf}var Pb;function U9(){if(Pb)return ic;Pb=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.default=void 0;var t=p(qc()),e=h(yR()),n=h(jd()),r=p0(),a=_R(),l=pm(),u=h(TR());function h(D){return D&&D.__esModule?D:{default:D}}function f(D){if(typeof WeakMap!="function")return null;var I=new WeakMap,M=new WeakMap;return(f=function(O){return O?M:I})(D)}function p(D,I){if(D&&D.__esModule)return D;if(D===null||typeof D!="object"&&typeof D!="function")return{default:D};var M=f(I);if(M&&M.has(D))return M.get(D);var O={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in D)if(F!=="default"&&Object.prototype.hasOwnProperty.call(D,F)){var j=z?Object.getOwnPropertyDescriptor(D,F):null;j&&(j.get||j.set)?Object.defineProperty(O,F,j):O[F]=D[F]}return O.default=D,M&&M.set(D,O),O}function g(D,I,M){return I=v(I),I in D?Object.defineProperty(D,I,{value:M,enumerable:!0,configurable:!0,writable:!0}):D[I]=M,D}function v(D){var I=_(D,"string");return typeof I=="symbol"?I:String(I)}function _(D,I){if(typeof D!="object"||D===null)return D;var M=D[Symbol.toPrimitive];if(M!==void 0){var O=M.call(D,I);if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(D)}const x={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let R=x.mouse,L=class extends t.Component{constructor(){super(...arguments),g(this,"dragging",!1),g(this,"lastX",NaN),g(this,"lastY",NaN),g(this,"touchIdentifier",null),g(this,"mounted",!1),g(this,"handleDragStart",I=>{if(this.props.onMouseDown(I),!this.props.allowAnyClick&&typeof I.button=="number"&&I.button!==0)return!1;const M=this.findDOMNode();if(!M||!M.ownerDocument||!M.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:O}=M;if(this.props.disabled||!(I.target instanceof O.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(I.target,this.props.handle,M)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(I.target,this.props.cancel,M))return;I.type==="touchstart"&&I.preventDefault();const z=(0,r.getTouchIdentifier)(I);this.touchIdentifier=z;const F=(0,a.getControlPosition)(I,z,this);if(F==null)return;const{x:j,y:A}=F,b=(0,a.createCoreData)(this,j,A);(0,u.default)("DraggableCore: handleDragStart: %j",b),(0,u.default)("calling",this.props.onStart),!(this.props.onStart(I,b)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(O),this.dragging=!0,this.lastX=j,this.lastY=A,(0,r.addEvent)(O,R.move,this.handleDrag),(0,r.addEvent)(O,R.stop,this.handleDragStop))}),g(this,"handleDrag",I=>{const M=(0,a.getControlPosition)(I,this.touchIdentifier,this);if(M==null)return;let{x:O,y:z}=M;if(Array.isArray(this.props.grid)){let A=O-this.lastX,b=z-this.lastY;if([A,b]=(0,a.snapToGrid)(this.props.grid,A,b),!A&&!b)return;O=this.lastX+A,z=this.lastY+b}const F=(0,a.createCoreData)(this,O,z);if((0,u.default)("DraggableCore: handleDrag: %j",F),this.props.onDrag(I,F)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const b=document.createEvent("MouseEvents");b.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(b)}return}this.lastX=O,this.lastY=z}),g(this,"handleDragStop",I=>{if(!this.dragging)return;const M=(0,a.getControlPosition)(I,this.touchIdentifier,this);if(M==null)return;let{x:O,y:z}=M;if(Array.isArray(this.props.grid)){let b=O-this.lastX||0,C=z-this.lastY||0;[b,C]=(0,a.snapToGrid)(this.props.grid,b,C),O=this.lastX+b,z=this.lastY+C}const F=(0,a.createCoreData)(this,O,z);if(this.props.onStop(I,F)===!1||this.mounted===!1)return!1;const A=this.findDOMNode();A&&this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(A.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",F),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,A&&((0,u.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(A.ownerDocument,R.move,this.handleDrag),(0,r.removeEvent)(A.ownerDocument,R.stop,this.handleDragStop))}),g(this,"onMouseDown",I=>(R=x.mouse,this.handleDragStart(I))),g(this,"onMouseUp",I=>(R=x.mouse,this.handleDragStop(I))),g(this,"onTouchStart",I=>(R=x.touch,this.handleDragStart(I))),g(this,"onTouchEnd",I=>(R=x.touch,this.handleDragStop(I)))}componentDidMount(){this.mounted=!0;const I=this.findDOMNode();I&&(0,r.addEvent)(I,x.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const I=this.findDOMNode();if(I){const{ownerDocument:M}=I;(0,r.removeEvent)(M,x.mouse.move,this.handleDrag),(0,r.removeEvent)(M,x.touch.move,this.handleDrag),(0,r.removeEvent)(M,x.mouse.stop,this.handleDragStop),(0,r.removeEvent)(M,x.touch.stop,this.handleDragStop),(0,r.removeEvent)(I,x.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(M)}}findDOMNode(){var I,M;return(I=this.props)!==null&&I!==void 0&&I.nodeRef?(M=this.props)===null||M===void 0||(M=M.nodeRef)===null||M===void 0?void 0:M.current:n.default.findDOMNode(this)}render(){return t.cloneElement(t.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return ic.default=L,g(L,"displayName","DraggableCore"),g(L,"propTypes",{allowAnyClick:e.default.bool,children:e.default.node.isRequired,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:function(D,I){if(D[I]&&D[I].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:e.default.arrayOf(e.default.number),handle:e.default.string,cancel:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),g(L,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),ic}var Nb;function B9(){return Nb||(Nb=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),t.default=void 0;var e=_(qc()),n=g(yR()),r=g(jd()),a=g(k9),l=p0(),u=_R(),h=pm(),f=g(U9()),p=g(TR());function g(M){return M&&M.__esModule?M:{default:M}}function v(M){if(typeof WeakMap!="function")return null;var O=new WeakMap,z=new WeakMap;return(v=function(F){return F?z:O})(M)}function _(M,O){if(M&&M.__esModule)return M;if(M===null||typeof M!="object"&&typeof M!="function")return{default:M};var z=v(O);if(z&&z.has(M))return z.get(M);var F={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in M)if(A!=="default"&&Object.prototype.hasOwnProperty.call(M,A)){var b=j?Object.getOwnPropertyDescriptor(M,A):null;b&&(b.get||b.set)?Object.defineProperty(F,A,b):F[A]=M[A]}return F.default=M,z&&z.set(M,F),F}function x(){return x=Object.assign?Object.assign.bind():function(M){for(var O=1;O<arguments.length;O++){var z=arguments[O];for(var F in z)Object.prototype.hasOwnProperty.call(z,F)&&(M[F]=z[F])}return M},x.apply(this,arguments)}function R(M,O,z){return O=L(O),O in M?Object.defineProperty(M,O,{value:z,enumerable:!0,configurable:!0,writable:!0}):M[O]=z,M}function L(M){var O=D(M,"string");return typeof O=="symbol"?O:String(O)}function D(M,O){if(typeof M!="object"||M===null)return M;var z=M[Symbol.toPrimitive];if(z!==void 0){var F=z.call(M,O);if(typeof F!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(M)}class I extends e.Component{static getDerivedStateFromProps(O,z){let{position:F}=O,{prevPropsPosition:j}=z;return F&&(!j||F.x!==j.x||F.y!==j.y)?((0,p.default)("Draggable: getDerivedStateFromProps %j",{position:F,prevPropsPosition:j}),{x:F.x,y:F.y,prevPropsPosition:{...F}}):null}constructor(O){super(O),R(this,"onDragStart",(z,F)=>{if((0,p.default)("Draggable: onDragStart: %j",F),this.props.onStart(z,(0,u.createDraggableData)(this,F))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),R(this,"onDrag",(z,F)=>{if(!this.state.dragging)return!1;(0,p.default)("Draggable: onDrag: %j",F);const j=(0,u.createDraggableData)(this,F),A={x:j.x,y:j.y,slackX:0,slackY:0};if(this.props.bounds){const{x:C,y:U}=A;A.x+=this.state.slackX,A.y+=this.state.slackY;const[B,G]=(0,u.getBoundPosition)(this,A.x,A.y);A.x=B,A.y=G,A.slackX=this.state.slackX+(C-A.x),A.slackY=this.state.slackY+(U-A.y),j.x=A.x,j.y=A.y,j.deltaX=A.x-this.state.x,j.deltaY=A.y-this.state.y}if(this.props.onDrag(z,j)===!1)return!1;this.setState(A)}),R(this,"onDragStop",(z,F)=>{if(!this.state.dragging||this.props.onStop(z,(0,u.createDraggableData)(this,F))===!1)return!1;(0,p.default)("Draggable: onDragStop: %j",F);const A={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:C,y:U}=this.props.position;A.x=C,A.y=U}this.setState(A)}),this.state={dragging:!1,dragged:!1,x:O.position?O.position.x:O.defaultPosition.x,y:O.position?O.position.y:O.defaultPosition.y,prevPropsPosition:{...O.position},slackX:0,slackY:0,isElementSVG:!1},O.position&&!(O.onDrag||O.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var O,z;return(O=(z=this.props)===null||z===void 0||(z=z.nodeRef)===null||z===void 0?void 0:z.current)!==null&&O!==void 0?O:r.default.findDOMNode(this)}render(){const{axis:O,bounds:z,children:F,defaultPosition:j,defaultClassName:A,defaultClassNameDragging:b,defaultClassNameDragged:C,position:U,positionOffset:B,scale:G,...V}=this.props;let ae={},oe=null;const te=!!!U||this.state.dragging,pe=U||j,we={x:(0,u.canDragX)(this)&&te?this.state.x:pe.x,y:(0,u.canDragY)(this)&&te?this.state.y:pe.y};this.state.isElementSVG?oe=(0,l.createSVGTransform)(we,B):ae=(0,l.createCSSTransform)(we,B);const H=(0,a.default)(F.props.className||"",A,{[b]:this.state.dragging,[C]:this.state.dragged});return e.createElement(f.default,x({},V,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(F),{className:H,style:{...F.props.style,...ae},transform:oe}))}}t.default=I,R(I,"displayName","Draggable"),R(I,"propTypes",{...f.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:h.dontSetMe,style:h.dontSetMe,transform:h.dontSetMe}),R(I,"defaultProps",{...f.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(jg)),jg}var Mb;function z9(){if(Mb)return rc.exports;Mb=1;const{default:t,DraggableCore:e}=B9();return rc.exports=t,rc.exports.default=t,rc.exports.DraggableCore=e,rc.exports}var F9=z9();const H9=Wx(F9),q9=()=>{const[t,e]=N.useState(!1),n=N.useRef(0),r=N.useRef(null),a=N.useRef(null),{currentTrack:l,isPlaying:u,togglePlay:h,nextTrack:f,prevTrack:p,setVolume:g,volume:v,audioRef:_}=dR(),x=D=>{const I=parseFloat(D.target.value);g(I),_!=null&&_.current&&(_.current.volume=I)};N.useEffect(()=>{_!=null&&_.current&&(_.current.loop=!0)},[_]),N.useEffect(()=>{const D=I=>{t&&a.current&&!a.current.contains(I.target)&&e(!1)};return document.addEventListener("mousedown",D),document.addEventListener("touchstart",D),()=>{document.removeEventListener("mousedown",D),document.removeEventListener("touchstart",D)}},[t]);const R=D=>{if(Date.now()-n.current<500){D.stopPropagation();return}D.stopPropagation(),e(I=>!I)},L=D=>{var I;n.current=Date.now(),D.stopPropagation(),(I=D.preventDefault)==null||I.call(D),e(M=>!M)};return w.jsx(H9,{nodeRef:r,bounds:"body",cancel:".no-drag",enableUserSelectHack:!1,children:w.jsxs("div",{ref:r,className:"fixed z-[9999] right-4 bottom-[5.5rem] md:right-6 md:bottom-6 w-max cursor-move pointer-events-auto",children:[w.jsx("button",{className:"no-drag bg-purple-700 text-white p-3 rounded-full shadow-lg hover:bg-purple-800 transition-all active:scale-95 focus:outline-none",onClick:R,onTouchEnd:L,children:w.jsx(NS,{})}),t&&w.jsxs("div",{ref:a,className:"no-drag mt-2 bg-gray-900 text-white p-4 rounded-lg shadow-lg w-60 flex flex-col gap-3 animate-[fadeIn_0.15s_ease-in-out]",children:[w.jsx("p",{className:"text-sm text-center font-semibold truncate",children:(l==null?void 0:l.title)||"No track selected"}),w.jsxs("div",{className:"flex justify-between items-center text-xl",children:[w.jsx("button",{className:"no-drag hover:text-purple-400",onClick:p,children:w.jsx(BP,{})}),w.jsx("button",{className:"no-drag hover:text-purple-400",onClick:h,children:u?w.jsx(MS,{}):w.jsx(OS,{})}),w.jsx("button",{className:"no-drag hover:text-purple-400",onClick:f,children:w.jsx(zP,{})})]}),w.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:v,onChange:x,className:"no-drag w-full h-2 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #8b5cf6 ${v*100}%, #3f3f46 ${v*100}%)`}})]})]})})},G9=()=>{const{isLoggedIn:t}=mm();return t?w.jsx(fR,{children:w.jsxs("div",{className:"relative flex flex-col md:flex-row h-screen bg-[#12121A] overflow-x-hidden",children:[w.jsx(M9,{}),w.jsx("div",{className:"flex-1 overflow-y-auto pb-[10%] md:pb-0 md:ml-[6rem] relative z-0",children:w.jsx(Hd,{})}),w.jsx("div",{className:"fixed inset-0 pointer-events-none z-[9999]",children:w.jsx("div",{className:"pointer-events-auto",children:w.jsx(q9,{})})})]})}):w.jsx(s3,{to:"/"})},$9=()=>w.jsxs("div",{children:[w.jsx(cR,{}),w.jsx(Hd,{})]});function Ob(t){return ht({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.348 3.169l-7.15 3.113a2 2 0 0 0 -1.03 2.608l4.92 11.895a1.96 1.96 0 0 0 2.59 1.063l7.142 -3.11a2.002 2.002 0 0 0 1.036 -2.611l-4.92 -11.894a1.96 1.96 0 0 0 -2.588 -1.064z"},child:[]},{tag:"path",attr:{d:"M16 3a2 2 0 0 1 1.995 1.85l.005 .15v3.5a1 1 0 0 1 -1.993 .117l-.007 -.117v-3.5h-1a1 1 0 0 1 -.117 -1.993l.117 -.007h1z"},child:[]},{tag:"path",attr:{d:"M19.08 5.61a1 1 0 0 1 1.31 -.53c.257 .108 .505 .21 .769 .314a2 2 0 0 1 1.114 2.479l-.056 .146l-2.298 5.374a1 1 0 0 1 -1.878 -.676l.04 -.11l2.296 -5.371l-.366 -.148l-.402 -.167a1 1 0 0 1 -.53 -1.312z"},child:[]}]})(t)}function K9(t){return ht({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 2a3 3 0 0 1 3 3v14a3 3 0 0 1 -3 3h-10a3 3 0 0 1 -3 -3v-14a3 3 0 0 1 3 -3zm.01 16h-.01a1 1 0 0 0 -.117 1.993l.127 .007a1 1 0 0 0 0 -2m-5.01 -10a3 3 0 0 0 -3 3v4a1 1 0 0 0 2 0v-1h2v1a1 1 0 0 0 .883 .993l.117 .007a1 1 0 0 0 1 -1v-4a3 3 0 0 0 -3 -3m0 2a1 1 0 0 1 1 1v1h-2v-1a1 1 0 0 1 .883 -.993zm-4.99 -6h-.01a1 1 0 0 0 -.117 1.993l.127 .007a1 1 0 1 0 0 -2"},child:[]}]})(t)}function Y9(t){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 6h9"},child:[]},{tag:"path",attr:{d:"M11 12h9"},child:[]},{tag:"path",attr:{d:"M11 18h9"},child:[]},{tag:"path",attr:{d:"M4 10v-4.5a1.5 1.5 0 0 1 3 0v4.5"},child:[]},{tag:"path",attr:{d:"M4 8h3"},child:[]},{tag:"path",attr:{d:"M4 20h1.5a1.5 1.5 0 0 0 0 -3h-1.5h1.5a1.5 1.5 0 0 0 0 -3h-1.5v6z"},child:[]}]})(t)}function X9(t){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M9 7l6 0"},child:[]},{tag:"path",attr:{d:"M9 11l6 0"},child:[]},{tag:"path",attr:{d:"M9 15l4 0"},child:[]}]})(t)}function g0(t){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m12 19-7-7 7-7"},child:[]},{tag:"path",attr:{d:"M19 12H5"},child:[]}]})(t)}function Q9(t){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"},child:[]},{tag:"path",attr:{d:"m15 5 4 4"},child:[]}]})(t)}function W9(t){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"M12 5v14"},child:[]}]})(t)}function Z9(t){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z"},child:[]},{tag:"path",attr:{d:"M15 3v4a2 2 0 0 0 2 2h4"},child:[]}]})(t)}function Fg(t){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 6h18"},child:[]},{tag:"path",attr:{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"},child:[]},{tag:"path",attr:{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"},child:[]}]})(t)}const J9=()=>{const t=Kc(),e=t.reviewers,n=_s();let r="REVIEWERS",a=w.jsx(Ob,{color:"white",size:80});return t.id==="TermsAndCondition"?(r="TERMS AND CONDITION",a=w.jsx(Ob,{color:"white",size:80})):t.id==="SummarizedReviewers"?(r="SUMMARIZED REVIEWERS",a=w.jsx(Z9,{color:"white",size:80})):t.id==="AcronymMnemonics"?(r="ACRONYM MNEMONICS",a=w.jsx(K9,{size:90,color:"white"})):t.id==="SummarizedWithAI"&&(r="SUMMARIZED WITH AI REVIEWERS",a=w.jsx(P9,{size:90,color:"white"})),w.jsxs("div",{children:[w.jsxs("div",{className:"flex flex-col gap-7 p-5",children:[w.jsx("h1",{className:"text-white text-xl font-bold md:text-4xl lg:text-5xl font-poppinsbold",children:r}),w.jsx("hr",{className:"text-white"}),w.jsx("div",{className:"w-full p-10 flex justify-between items-center relative",children:w.jsxs("button",{onClick:()=>n(-1),className:"absolute left-5 flex items-center gap-2 text-white bg-[#3F3F54] hover:bg-[#51516B] p-3 rounded-xl",children:[w.jsx(g0,{size:20}),"Back"]})})]}),w.jsx("div",{className:"px-4 sm:px-6 md:px-10 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-5",children:e.map(l=>{const h=l.title.length>30?"text-xs sm:text-sm md:text-base":"text-sm sm:text-base md:text-lg";return w.jsxs(kr,{to:l.id.toString(),className:"w-full flex justify-start items-center gap-4 bg-[#20202C] p-4 sm:p-5 rounded-2xl duration-150 ease-in hover:scale-105",children:[w.jsx("div",{className:"flex-shrink-0",children:a}),w.jsx("h4",{className:`text-white font-medium leading-snug break-words line-clamp-2 ${h}`,title:l.title,children:l.title})]},l.id)})})]})},ek=async({params:t})=>{const e=()=>new Promise((n,r)=>{const a=ni(fn,l=>{a(),l&&l.emailVerified?n(l):r("Unauthorized")})});try{const r=(await e()).uid,a=t.id,l=tn(Kt,"users",r,"folders",a),u=await Vi(l);if(!u.exists())throw new Error("Folder not found.");const h=u.data(),f=Ur(l,"reviewers"),g=(await Br(f)).docs.map(v=>{const _=v.data(),x=_.reviewers&&_.reviewers[0]||{},R=_.title||x.title||"Untitled Reviewer";return{id:v.id,title:R,..._}});return{id:a,...h,reviewers:g}}catch(n){throw console.error("Reviewers loader error:",n),new Response("Unauthorized",{status:401})}},xi=()=>{var A,b;const t=Kc(),e=t.questions?[...t.questions].sort((C,U)=>{const B=parseInt(C.id.replace(/\D/g,""),10),G=parseInt(U.id.replace(/\D/g,""),10);return B-G}):[],n=t.content?[...t.content]:[],[r,a]=N.useState(0),[l,u]=N.useState(0),[h,f]=N.useState(!1),[p,g]=N.useState(""),v=t.id.startsWith("td")||t.id.startsWith("ac"),_=t.id.startsWith("ac"),{id:x,reviewerId:R}=zD(),L=_s(),D=()=>f(!h),I=()=>{f(!1),_?r<n.length-1?a(r+1):g("You've reached the last card"):l<e.length-1?u(l+1):g("You've reached the last card")},M=()=>{f(!1),_?r>0?a(r-1):g("This is the first card"):l>0?u(l-1):g("This is the first card")};N.useEffect(()=>{if(p){const C=setTimeout(()=>g(""),2e3);return()=>clearTimeout(C)}},[p]);const O=_?n==null?void 0:n[r]:e==null?void 0:e[l],z=!_&&((A=O==null?void 0:O.definition)==null?void 0:A.find(C=>C.type==="correct")),F=_?O:null,j=_?F==null?void 0:F.title:t.title;return w.jsxs("div",{className:"flex flex-col items-center justify-start min-h-screen bg-[#121212] pt-6 px-4 md:px-10",children:[w.jsx("div",{className:"w-full flex justify-between items-center relative mb-6",children:w.jsxs("button",{onClick:()=>L(-1),className:"absolute left-2 md:left-5 flex items-center gap-2 text-white bg-[#3F3F54] hover:bg-[#51516B] p-2 md:p-3 rounded-xl text-sm md:text-base",children:[w.jsx(g0,{size:18,className:"md:size-5"}),"Back"]})}),!_&&w.jsx("h1",{className:"text-white text-2xl md:text-3xl font-bold mt-6 mb-6 text-center",children:j}),v&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"relative w-[90vw] sm:w-[35rem] md:w-[38rem] lg:w-[50rem] xl:w-[35rem] h-[18rem] sm:h-[35rem] md:h-[25rem] lg:h-[28rem] xl:h-[30rem] perspective transition-all duration-500",children:w.jsxs("div",{className:`transition-transform duration-500 [transform-style:preserve-3d] w-full h-full ${h?"rotate-y-180":""}`,onClick:D,children:[w.jsxs("div",{className:`absolute w-full h-full [backface-visibility:hidden] rounded-2xl shadow-lg flex flex-col items-center justify-center p-10 md:p-4 text-center cursor-pointer ${_?"bg-[#2E2E40]":"bg-[#8267B1]"}`,children:[_?w.jsxs("h1",{className:"text-white text-2xl md:text-3xl font-bold mt-6 mb-6 text-center",children:[" ",j]}):"",_?w.jsx("div",{className:"scroll-container bg-[#5C5C76] p-2 md:px-6 rounded-lg shadow-inner w-full h-full overflow-y-auto",children:w.jsx("div",{className:"text-start text-lg md:text-lg font-extrabold tracking-widest leading-loose place-self-center",children:(b=F==null?void 0:F.contents)==null?void 0:b.map((C,U)=>w.jsx("p",{className:"first-letter:text-[#E4FF35] text-white font-poppinsbold",children:(C==null?void 0:C.word)??""},U))})}):w.jsx("p",{className:"text-3xl md:text-4xl lg:text-5xl font-semibold text-white place-self-center",children:(O==null?void 0:O.term)??"No term available"})]}),w.jsx("div",{className:`absolute w-full h-full [backface-visibility:hidden] rotate-y-180 rounded-2xl shadow-lg flex flex-col items-center justify-center p-10 md:p-4 text-center cursor-pointer ${_?"bg-[#5C5C76]":"bg-[#FFF8AA]"}`,children:w.jsxs("div",{className:"scroll-container text-white w-full h-full overflow-y-auto flex flex-col items-center justify-center text-center",children:[_?w.jsx("h1",{className:"text-white text-2xl md:text-3xl font-bold mt-6 mb-6 text-center",children:" Key Phrases"}):"",_?w.jsx("div",{className:"bg-[#2E2E40] h-[80%] min-w-[100%] rounded-2xl text-lg md:text-2xl font-semibold flex items-center justify-center text-center",children:w.jsx("p",{className:"text-white",children:w.jsx("b",{children:(F==null?void 0:F.keyPhrase)??""})})}):w.jsx("p",{className:"text-2xl md:text-3xl lg:text-4xl font-semibold text-[#6A558D] text-center",children:(z==null?void 0:z.text)??"No definition available"})]})})]})}),w.jsxs("div",{className:"mt-6 flex gap-4",children:[w.jsx("button",{onClick:M,className:"flex px-4 py-2 bg-[#B5B5FF] text-white transition w-28 md:w-40 rounded-2xl justify-center items-center active:scale-90",children:w.jsx(A9,{color:"black",size:25})}),w.jsx("button",{onClick:I,className:"flex px-4 py-2 bg-[#B5B5FF] text-white transition w-28 md:w-40 rounded-2xl justify-center items-center active:scale-90",children:w.jsx(S9,{color:"black",size:25})})]}),p&&w.jsx("p",{className:"mt-4 text-yellow-300 font-semibold text-sm md:text-base",children:p}),w.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mt-8 w-full md:w-auto",children:[w.jsxs("button",{onClick:()=>L(`/Main/Library/${x}/${R}/edit`),className:"flex gap-2 items-center justify-center w-full md:w-48 lg:w-56 px-6 py-3 border border-white text-[#B5B5FF] rounded-xl font-semibold text-sm md:text-base active:scale-95",children:[w.jsx(OP,{color:"#B5B5FF",size:18})," Edit"]}),w.jsxs("button",{onClick:()=>L(`/Main/Library/${x}/${R}/gamified`),className:"flex gap-2 items-center justify-center w-full md:w-48 lg:w-56 px-6 py-3 border border-[#E93209] text-[#B5B5FF] rounded-xl font-semibold text-sm md:text-base active:scale-95",children:[w.jsx(I9,{color:"white",size:18}),w.jsx("span",{className:"font-bold bg-gradient-to-r from-[#F0EDB6] to-[#E93209] bg-clip-text text-transparent",children:"Game Mode"})]})]})]}),!v&&t.sections&&w.jsx("div",{className:"text-white w-full max-w-3xl mt-10",children:t.sections.map((C,U)=>{var B,G,V,ae,oe;return w.jsxs("div",{className:"mb-6",children:[w.jsxs("h2",{className:"text-xl font-semibold text-[#5EEAD4] mb-2",children:["📘 ",C.title]}),w.jsx("ul",{className:"list-disc list-inside space-y-1 text-[#E2E8F0]",children:C.analogy?w.jsxs(w.Fragment,{children:[w.jsx("b",{children:"Explanation:"}),w.jsx("br",{}),w.jsx("p",{children:C.explanation??""}),w.jsx("b",{children:"Analogy: "}),w.jsx("br",{}),w.jsx("p",{className:"ml-2.5",children:C.analogy??""}),((B=C.steps)==null?void 0:B.length)>0&&w.jsxs(w.Fragment,{children:[w.jsx("b",{children:"Steps:"}),w.jsx("br",{}),w.jsx("ol",{className:"list-decimal list-inside space-y-1",children:C.steps.map((K,te)=>w.jsx("li",{children:K},te))})]}),((G=C.keyPoints)==null?void 0:G.length)>0&&w.jsxs(w.Fragment,{children:[w.jsx("b",{children:"Key Points:"}),w.jsx("br",{}),w.jsx("ul",{className:"list-disc list-inside space-y-1",children:C.keyPoints.map((K,te)=>w.jsx("li",{children:K},te))})]})]}):w.jsxs(w.Fragment,{children:[w.jsx("p",{children:w.jsx("b",{children:"Summary:"})}),w.jsx("h3",{children:C.summary}),C.concept&&w.jsxs(w.Fragment,{children:[w.jsx("b",{children:"Concepts:"}),w.jsx("br",{}),w.jsx("p",{children:w.jsx("b",{children:((V=C.concept)==null?void 0:V.term)??""})}),w.jsx("p",{children:((ae=C.concept)==null?void 0:ae.explanation)??""}),w.jsx("b",{children:"Examples:"}),w.jsx("br",{}),w.jsx("p",{children:((oe=C.concept)==null?void 0:oe.example)??""})]}),w.jsxs("p",{children:[w.jsx("b",{children:"Key Takeaways:"})," ",C.keyTakeaways??""]})]})})]},U)})})]})},wR="/ParaKayJM/assets/creationLoadingScreen-BkE2WEPp.png",y0=({isDone:t})=>{const[e,n]=N.useState(0);return N.useEffect(()=>{let r;return t?n(100):r=setInterval(()=>{n(a=>a<90?a+5:a)},200),()=>clearInterval(r)},[t]),w.jsx("div",{className:"w-80 bg-gray-300 h-4 rounded-lg overflow-hidden mt-4",children:w.jsx("div",{className:"h-4 bg-[#9898D9] transition-all duration-500",style:{width:`${e}%`}})})},tk=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[a,l]=N.useState(null),[u,h]=N.useState(0),[f,p]=N.useState(!1),[g,v]=N.useState(!1),{setIsLoggedIn:_}=mm(),x=_s(),[R,L]=N.useState(!0),[D,I]=N.useState(!1);N.useEffect(()=>{const z=ni(fn,F=>{F&&F.emailVerified?(_(!0),I(!0),localStorage.setItem("isLoggedInWeb",!0),x("/Main/Library")):L(!1)});return()=>z()},[x,_]),N.useEffect(()=>{let z;return u>0?z=setInterval(()=>{h(F=>F-1)},1e3):(p(!1),clearInterval(z)),()=>clearInterval(z)},[u]);const M=async z=>{z.preventDefault();try{(await C6(fn,t,n)).user.emailVerified?(L(!0),_(!0),I(!0),Ke.success("User logged in successfully"),localStorage.setItem("isLoggedInWeb",!0),x("/Main/Library")):(l(!1),Ke.warning("Email not verified. Please check your inbox."),L(!1))}catch{Ke.error("Login failed. Check credentials.",{position:"bottom-center"}),L(!1)}},O=async()=>{try{const z=fn.currentUser;z&&!z.emailVerified&&(await T2(z),Ke.success("Verification email resent",{position:"top-center"}),p(!0),h(120))}catch{Ke.error("Failed to resend email",{position:"top-center"})}};return R?w.jsxs("div",{className:"min-h-screen flex justify-center items-center flex-col bg-[#12121A] p-4",children:[w.jsx("img",{src:wR,alt:"creationLoadingScreen",className:"w-48 sm:w-60 md:w-80"}),w.jsx("p",{className:"text-[#9898D9] font-poppinsbold text-center text-sm sm:text-base mt-4",children:D?"Logging In...":"Checking Your Credentials"}),w.jsx(y0,{isDone:D})]}):w.jsx("div",{className:"overflow-y-hidden flex justify-center items-center min-h-screen bg-[#12121A] p-4 sm:p-6 md:p-10",children:w.jsxs("div",{className:"bg-[#1C1C26] border border-[#5C5B5B] rounded-2xl w-full max-w-[500px] p-6 sm:p-8 md:p-10",children:[w.jsxs("form",{onSubmit:M,className:"flex flex-col items-center gap-4",children:[w.jsx("img",{src:m0,alt:"App Logo",className:"w-20 sm:w-28 md:w-40 mb-2"}),w.jsx("h1",{className:"text-white text-center font-bold font-poppins text-lg sm:text-xl md:text-2xl mb-3",children:"Revio"}),w.jsxs("div",{className:"w-full flex flex-col gap-4",children:[w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsx("label",{htmlFor:"email",className:"text-white text-sm sm:text-base",children:"Enter your Email:"}),w.jsx("input",{type:"email",id:"email",name:"email",placeholder:"Email",value:t,onChange:z=>e(z.target.value),className:"rounded-lg border border-[#9E9E9E] p-2 text-white placeholder:text-[#9E9E9E] bg-transparent w-full"})]}),w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsx("label",{htmlFor:"password",className:"text-white text-sm sm:text-base",children:"Enter your Password:"}),w.jsxs("div",{className:"relative w-full",children:[w.jsx("input",{type:g?"text":"password",id:"password",name:"password",placeholder:"Password",value:n,onChange:z=>r(z.target.value),className:"w-full rounded-lg border border-[#9E9E9E] p-2 pr-10 text-white placeholder:text-[#9E9E9E] bg-transparent"}),w.jsx("div",{className:"absolute inset-y-0 right-2 flex items-center",children:g?w.jsx(pR,{color:"white",size:20,className:"cursor-pointer",onClick:()=>v(!1)}):w.jsx(gR,{color:"white",size:20,className:"cursor-pointer",onClick:()=>v(!0)})})]})]}),w.jsx("button",{className:"bg-[#B5B5FF] text-[#200448] font-poppins font-semibold p-2 rounded-full active:scale-95 hover:text-[#B5B5FF] hover:bg-[#200448] transition-all w-full self-center",children:"Login"})]})]}),w.jsx("div",{className:"mt-4 text-center",children:w.jsx(kr,{to:"/ResetPassword",children:w.jsxs("p",{className:"text-[#FEFEFF] text-sm sm:text-base",children:["Forgot Password? ",w.jsx("span",{className:"text-blue-600 underline cursor-pointer",children:"Click here"})]})})}),w.jsx("hr",{className:"border-[#BFBDC6] my-4"}),w.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a===!1&&w.jsx("button",{onClick:O,disabled:f,className:`text-[#200448] text-sm sm:text-base font-poppins font-semibold p-2 rounded-full transition-all duration-200 w-full ${f?"bg-[#8888cc] cursor-not-allowed":"bg-[#B5B5FF] hover:bg-[#a0a0f0]"}`,children:f?`Wait ${Math.floor(u/60).toString().padStart(2,"0")}:${(u%60).toString().padStart(2,"0")}`:"Re-Send Email Verification"}),w.jsx("p",{className:"text-[#FEFEFF] text-sm sm:text-base",children:"Do you have an account?"}),w.jsx(kr,{to:"/Register",className:"w-full",children:w.jsx("button",{className:"border border-[#B1B1B1] text-[#B5B5FF] p-2 w-full rounded-full font-poppins text-sm sm:text-base font-semibold active:scale-95",children:"Sign Up"})})]})]})})},nk=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[a,l]=N.useState(""),[u,h]=N.useState(""),[f,p]=N.useState(!1),[g,v]=N.useState(!1),[_,x]=N.useState(!1),[R,L]=N.useState(!1),[D,I]=N.useState(!0),[M,O]=N.useState(!0),z=j=>j===j.toUpperCase()&&j!==j.toLowerCase();N.useEffect(()=>{const j=a.length>=8;let A=!1,b=!1;for(let B=0;B<a.length;B++){const G=a[B];z(G)&&(A=!0),isNaN(G)||(b=!0)}L(j),v(A),x(b);const C=A&&b&&j;I(!C);const U=t.trim()!==""&&n.trim()!==""&&C&&u.trim()!==""&&a===u;O(!U)},[a,t,n,u]);const F=async j=>{if(j.preventDefault(),a!==u){Ke.error("Passwords don't match");return}try{const b=(await R6(fn,n.toLowerCase(),a)).user;await T2(b);const C=ZL(Ur(Kt,"users"),JL("username","==",t.toLowerCase()));if(!(await Br(C)).empty){Ke.error("Username Taken, Please choose another one"),await b.delete();return}await td(tn(Kt,"users",b.uid),{email:b.email,username:t.toLowerCase()}),Ke.success("Account created! Verification email sent.")}catch(A){console.error(A),Ke.error(A.message||"Something went wrong during registration.")}};return w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"flex justify-center items-center h-screen w-screen bg-[#12121A] p-4 sm:p-6 md:p-10",children:w.jsxs("div",{className:"bg-[#1C1C26] w-full max-w-md sm:max-w-lg lg:max-w-xl p-6 sm:p-8 md:p-10 border border-[#5C5B5B] rounded-2xl shadow-lg",children:[w.jsx("h1",{className:"text-[#FFFBEF] text-2xl sm:text-3xl md:text-4xl font-poppins font-semibold mb-6 text-center md:text-left",children:"Create Account"}),w.jsxs("form",{className:"flex flex-col text-[#FFFBEF] gap-3 sm:gap-4",onSubmit:F,children:[w.jsxs("div",{className:"flex flex-col",children:[w.jsx("label",{htmlFor:"username",children:"Username"}),w.jsx("input",{type:"text",name:"username",id:"username",placeholder:"Enter your Username",className:"border border-[#5C5B5B] rounded-lg p-2 bg-[#21212C] text-sm sm:text-base",value:t,onChange:j=>e(j.target.value)})]}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("label",{htmlFor:"email",children:"Email"}),w.jsx("input",{type:"email",name:"email",id:"email",placeholder:"Enter your Email",className:"border border-[#5C5B5B] rounded-lg p-2 bg-[#21212C] text-sm sm:text-base",value:n,onChange:j=>r(j.target.value)})]}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("label",{htmlFor:"password",children:"Password"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:f?"text":"password",id:"password",name:"password",placeholder:"Password",value:a,onChange:j=>l(j.target.value),className:"w-full rounded-lg border border-[#9E9E9E] p-2 pr-10 text-white placeholder:text-[#9E9E9E] bg-transparent text-sm sm:text-base"}),w.jsx("div",{className:"absolute inset-y-0 right-2 flex items-center",children:f?w.jsx(pR,{color:"white",size:20,className:"cursor-pointer",onClick:()=>p(!1)}):w.jsx(gR,{color:"white",size:20,className:"cursor-pointer",onClick:()=>p(!0)})})]}),w.jsxs("ul",{className:"text-[10px] sm:text-xs font-light font-poppins list-disc pl-5 mt-1",children:[w.jsx("li",{className:g?"text-white":"text-[#7E7C7C]",children:"At least 1 uppercase"}),w.jsx("li",{className:_?"text-white":"text-[#7E7C7C]",children:"At least 1 number"}),w.jsx("li",{className:R?"text-white":"text-[#7E7C7C]",children:"At least 8 characters"})]})]}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("label",{htmlFor:"reEnterPassword",children:"Re-enter password"}),w.jsx("input",{disabled:D,type:f?"text":"password",name:"reEnterPassword",id:"reEnterPassword",placeholder:"Re-enter your Password",className:"border border-[#5C5B5B] rounded-lg p-2 bg-[#21212C] disabled:cursor-not-allowed text-sm sm:text-base",value:u,onChange:j=>h(j.target.value)})]}),w.jsx("button",{disabled:M,className:`\r
                bg-[#B5B5FF] text-[#200448] font-poppinsbold p-2 rounded-2xl border border-[#200448]\r
                w-[70%] sm:w-[60%] self-center mt-4\r
                active:scale-95 hover:text-[#B5B5FF] hover:bg-[#200448]\r
                disabled:bg-gray-400 disabled:cursor-not-allowed disabled:active:scale-100\r
              `,type:"submit",children:"Sign in"})]}),w.jsxs("h4",{className:"text-[#7E7C7C] text-center mt-4 text-sm sm:text-base",children:["Already have an account?"," ",w.jsx(kr,{to:"/",children:w.jsx("span",{className:"text-blue-600 underline cursor-pointer",children:"Login"})})]})]})}),w.jsx(vv,{position:"bottom-center"})]})},ER=N.createContext(),rk=({children:t})=>{const[a,l]=N.useState(!1),[u,h]=N.useState(1500),[f,p]=N.useState("focus"),[g,v]=N.useState(1500),[_,x]=N.useState(0),R=N.useRef(null),L=()=>{R.current||(l(!0),R.current=setInterval(()=>{h(b=>b<=1?(clearInterval(R.current),R.current=null,l(!1),z(),0):b-1)},1e3))},D=()=>{l(!1),clearInterval(R.current),R.current=null},I=()=>{D(),h(g)},M=b=>{D(),v(b*60),h(b*60)},O=()=>{D(),z()},z=()=>{if(f==="focus"){const b=_+1;x(b),b===4?(p("longBreak"),v(900),h(900)):(p("break"),v(300),h(300))}else p("focus"),v(1500),h(1500)};N.useEffect(()=>()=>clearInterval(R.current),[]);const F=Math.floor(u/60),j=u%60,A=`${F.toString().padStart(2,"0")}:${j.toString().padStart(2,"0")}`;return w.jsx(ER.Provider,{value:{isRunning:a,startTimer:L,pauseTimer:D,resetTimer:I,skipPhase:O,setCustomTime:M,timeLeft:u,formattedTime:A,mode:f,cycleCount:_},children:t})},ik=()=>N.useContext(ER),v0=N.createContext({});function _0(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const T0=typeof window<"u",bR=T0?N.useLayoutEffect:N.useEffect,gm=N.createContext(null);function w0(t,e){t.indexOf(e)===-1&&t.push(e)}function E0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ys=(t,e,n)=>n>e?e:n<t?t:n;let b0=()=>{};const vs={},xR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function SR(t){return typeof t=="object"&&t!==null}const AR=t=>/^0[^.\s]+$/u.test(t);function x0(t){let e;return()=>(e===void 0&&(e=t()),e)}const zr=t=>t,sk=(t,e)=>n=>e(t(n)),uh=(...t)=>t.reduce(sk),jc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class S0{constructor(){this.subscriptions=[]}add(e){return w0(this.subscriptions,e),()=>E0(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Pi=t=>t*1e3,jr=t=>t/1e3;function RR(t,e){return e?t*(1e3/e):0}const CR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ak=1e-7,ok=12;function lk(t,e,n,r,a){let l,u,h=0;do u=e+(n-e)/2,l=CR(u,r,a)-t,l>0?n=u:e=u;while(Math.abs(l)>ak&&++h<ok);return u}function ch(t,e,n,r){if(t===e&&n===r)return zr;const a=l=>lk(l,0,1,t,n);return l=>l===0||l===1?l:CR(a(l),e,r)}const IR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,DR=t=>e=>1-t(1-e),PR=ch(.33,1.53,.69,.99),A0=DR(PR),NR=IR(A0),MR=t=>(t*=2)<1?.5*A0(t):.5*(2-Math.pow(2,-10*(t-1))),R0=t=>1-Math.sin(Math.acos(t)),OR=DR(R0),VR=IR(R0),uk=ch(.42,0,1,1),ck=ch(0,0,.58,1),LR=ch(.42,0,.58,1),hk=t=>Array.isArray(t)&&typeof t[0]!="number",kR=t=>Array.isArray(t)&&typeof t[0]=="number",fk={linear:zr,easeIn:uk,easeInOut:LR,easeOut:ck,circIn:R0,circInOut:VR,circOut:OR,backIn:A0,backInOut:NR,backOut:PR,anticipate:MR},dk=t=>typeof t=="string",Vb=t=>{if(kR(t)){b0(t.length===4);const[e,n,r,a]=t;return ch(e,n,r,a)}else if(dk(t))return fk[t];return t},jf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function mk(t,e){let n=new Set,r=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(p.schedule(g),t()),g(h)}const p={schedule:(g,v=!1,_=!1)=>{const R=_&&a?n:r;return v&&u.add(g),R.has(g)||R.add(g),g},cancel:g=>{r.delete(g),u.delete(g)},process:g=>{if(h=g,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(f),n.clear(),a=!1,l&&(l=!1,p.process(g))}};return p}const pk=40;function jR(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=jf.reduce((O,z)=>(O[z]=mk(l),O),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:g,update:v,preRender:_,render:x,postRender:R}=u,L=()=>{const O=vs.useManualTiming?a.timestamp:performance.now();n=!1,vs.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(O-a.timestamp,pk),1)),a.timestamp=O,a.isProcessing=!0,h.process(a),f.process(a),p.process(a),g.process(a),v.process(a),_.process(a),x.process(a),R.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(L))},D=()=>{n=!0,r=!0,a.isProcessing||t(L)};return{schedule:jf.reduce((O,z)=>{const F=u[z];return O[z]=(j,A=!1,b=!1)=>(n||D(),F.schedule(j,A,b)),O},{}),cancel:O=>{for(let z=0;z<jf.length;z++)u[jf[z]].cancel(O)},state:a,steps:u}}const{schedule:Ot,cancel:Ea,state:An,steps:Hg}=jR(typeof requestAnimationFrame<"u"?requestAnimationFrame:zr,!0);let nd;function gk(){nd=void 0}const tr={now:()=>(nd===void 0&&tr.set(An.isProcessing||vs.useManualTiming?An.timestamp:performance.now()),nd),set:t=>{nd=t,queueMicrotask(gk)}},UR=t=>e=>typeof e=="string"&&e.startsWith(t),C0=UR("--"),yk=UR("var(--"),I0=t=>yk(t)?vk.test(t.split("/*")[0].trim()):!1,vk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Uc={...Xl,transform:t=>ys(0,1,t)},Uf={...Xl,default:1},wc=t=>Math.round(t*1e5)/1e5,D0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _k(t){return t==null}const Tk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,P0=(t,e)=>n=>!!(typeof n=="string"&&Tk.test(n)&&n.startsWith(t)||e&&!_k(n)&&Object.prototype.hasOwnProperty.call(n,e)),BR=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,l,u,h]=r.match(D0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},wk=t=>ys(0,255,t),qg={...Xl,transform:t=>Math.round(wk(t))},co={test:P0("rgb","red"),parse:BR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+qg.transform(t)+", "+qg.transform(e)+", "+qg.transform(n)+", "+wc(Uc.transform(r))+")"};function Ek(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const By={test:P0("#"),parse:Ek,transform:co.transform},hh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ra=hh("deg"),Ni=hh("%"),He=hh("px"),bk=hh("vh"),xk=hh("vw"),Lb={...Ni,parse:t=>Ni.parse(t)/100,transform:t=>Ni.transform(t*100)},_l={test:P0("hsl","hue"),parse:BR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ni.transform(wc(e))+", "+Ni.transform(wc(n))+", "+wc(Uc.transform(r))+")"},en={test:t=>co.test(t)||By.test(t)||_l.test(t),parse:t=>co.test(t)?co.parse(t):_l.test(t)?_l.parse(t):By.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?co.transform(t):_l.transform(t),getAnimatableNone:t=>{const e=en.parse(t);return e.alpha=0,en.transform(e)}},Sk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Ak(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(D0))==null?void 0:e.length)||0)+(((n=t.match(Sk))==null?void 0:n.length)||0)>0}const zR="number",FR="color",Rk="var",Ck="var(",kb="${}",Ik=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(Ik,f=>(en.test(f)?(r.color.push(l),a.push(FR),n.push(en.parse(f))):f.startsWith(Ck)?(r.var.push(l),a.push(Rk),n.push(f)):(r.number.push(l),a.push(zR),n.push(parseFloat(f))),++l,kb)).split(kb);return{values:n,split:h,indexes:r,types:a}}function HR(t){return Bc(t).values}function qR(t){const{split:e,types:n}=Bc(t),r=e.length;return a=>{let l="";for(let u=0;u<r;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===zR?l+=wc(a[u]):h===FR?l+=en.transform(a[u]):l+=a[u]}return l}}const Dk=t=>typeof t=="number"?0:en.test(t)?en.getAnimatableNone(t):t;function Pk(t){const e=HR(t);return qR(t)(e.map(Dk))}const ba={test:Ak,parse:HR,createTransformer:qR,getAnimatableNone:Pk};function Gg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Nk({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;a=Gg(f,h,t+1/3),l=Gg(f,h,t),u=Gg(f,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:r}}function Md(t,e){return n=>n>0?e:t}const Lt=(t,e,n)=>t+(e-t)*n,$g=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},Mk=[By,co,_l],Ok=t=>Mk.find(e=>e.test(t));function jb(t){const e=Ok(t);if(!e)return!1;let n=e.parse(t);return e===_l&&(n=Nk(n)),n}const Ub=(t,e)=>{const n=jb(t),r=jb(e);if(!n||!r)return Md(t,e);const a={...n};return l=>(a.red=$g(n.red,r.red,l),a.green=$g(n.green,r.green,l),a.blue=$g(n.blue,r.blue,l),a.alpha=Lt(n.alpha,r.alpha,l),co.transform(a))},zy=new Set(["none","hidden"]);function Vk(t,e){return zy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Lk(t,e){return n=>Lt(t,e,n)}function N0(t){return typeof t=="number"?Lk:typeof t=="string"?I0(t)?Md:en.test(t)?Ub:Uk:Array.isArray(t)?GR:typeof t=="object"?en.test(t)?Ub:kk:Md}function GR(t,e){const n=[...t],r=n.length,a=t.map((l,u)=>N0(l)(l,e[u]));return l=>{for(let u=0;u<r;u++)n[u]=a[u](l);return n}}function kk(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=N0(t[a])(t[a],e[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function jk(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][r[l]],h=t.values[u]??0;n[a]=h,r[l]++}return n}const Uk=(t,e)=>{const n=ba.createTransformer(e),r=Bc(t),a=Bc(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?zy.has(t)&&!a.values.length||zy.has(e)&&!r.values.length?Vk(t,e):uh(GR(jk(r,a),a.values),n):Md(t,e)};function $R(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Lt(t,e,n):N0(t)(t,e)}const Bk=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ot.update(e,n),stop:()=>Ea(e),now:()=>An.isProcessing?An.timestamp:tr.now()}},KR=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)r+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Od=2e4;function M0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Od;)e+=n,r=t.next(e);return e>=Od?1/0:e}function zk(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(M0(r),Od);return{type:"keyframes",ease:l=>r.next(a*l).value/e,duration:jr(a)}}const Fk=5;function YR(t,e,n){const r=Math.max(e-Fk,0);return RR(n-t(r),e-r)}const Bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bb=.001;function Hk({duration:t=Bt.duration,bounce:e=Bt.bounce,velocity:n=Bt.velocity,mass:r=Bt.mass}){let a,l,u=1-e;u=ys(Bt.minDamping,Bt.maxDamping,u),t=ys(Bt.minDuration,Bt.maxDuration,jr(t)),u<1?(a=p=>{const g=p*u,v=g*t,_=g-n,x=Fy(p,u),R=Math.exp(-v);return Bb-_/x*R},l=p=>{const v=p*u*t,_=v*n+n,x=Math.pow(u,2)*Math.pow(p,2)*t,R=Math.exp(-v),L=Fy(Math.pow(p,2),u);return(-a(p)+Bb>0?-1:1)*((_-x)*R)/L}):(a=p=>{const g=Math.exp(-p*t),v=(p-n)*t+1;return-.001+g*v},l=p=>{const g=Math.exp(-p*t),v=(n-p)*(t*t);return g*v});const h=5/t,f=Gk(a,l,h);if(t=Pi(t),isNaN(f))return{stiffness:Bt.stiffness,damping:Bt.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:t}}}const qk=12;function Gk(t,e,n){let r=n;for(let a=1;a<qk;a++)r=r-t(r)/e(r);return r}function Fy(t,e){return t*Math.sqrt(1-e*e)}const $k=["duration","bounce"],Kk=["stiffness","damping","mass"];function zb(t,e){return e.some(n=>t[n]!==void 0)}function Yk(t){let e={velocity:Bt.velocity,stiffness:Bt.stiffness,damping:Bt.damping,mass:Bt.mass,isResolvedFromDuration:!1,...t};if(!zb(t,Kk)&&zb(t,$k))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*ys(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Bt.mass,stiffness:a,damping:l}}else{const n=Hk(t);e={...e,...n,mass:Bt.mass},e.isResolvedFromDuration=!0}return e}function Vd(t=Bt.visualDuration,e=Bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:f,damping:p,mass:g,duration:v,velocity:_,isResolvedFromDuration:x}=Yk({...n,velocity:-jr(n.velocity||0)}),R=_||0,L=p/(2*Math.sqrt(f*g)),D=u-l,I=jr(Math.sqrt(f/g)),M=Math.abs(D)<5;r||(r=M?Bt.restSpeed.granular:Bt.restSpeed.default),a||(a=M?Bt.restDelta.granular:Bt.restDelta.default);let O;if(L<1){const F=Fy(I,L);O=j=>{const A=Math.exp(-L*I*j);return u-A*((R+L*I*D)/F*Math.sin(F*j)+D*Math.cos(F*j))}}else if(L===1)O=F=>u-Math.exp(-I*F)*(D+(R+I*D)*F);else{const F=I*Math.sqrt(L*L-1);O=j=>{const A=Math.exp(-L*I*j),b=Math.min(F*j,300);return u-A*((R+L*I*D)*Math.sinh(b)+F*D*Math.cosh(b))/F}}const z={calculatedDuration:x&&v||null,next:F=>{const j=O(F);if(x)h.done=F>=v;else{let A=F===0?R:0;L<1&&(A=F===0?Pi(R):YR(O,F,j));const b=Math.abs(A)<=r,C=Math.abs(u-j)<=a;h.done=b&&C}return h.value=h.done?u:j,h},toString:()=>{const F=Math.min(M0(z),Od),j=KR(A=>z.next(F*A).value,F,30);return F+"ms "+j},toTransition:()=>{}};return z}Vd.applyToOptions=t=>{const e=zk(t,100,Vd);return t.ease=e.ease,t.duration=Pi(e.duration),t.type="keyframes",t};function Hy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:f,restDelta:p=.5,restSpeed:g}){const v=t[0],_={done:!1,value:v},x=b=>h!==void 0&&b<h||f!==void 0&&b>f,R=b=>h===void 0?f:f===void 0||Math.abs(h-b)<Math.abs(f-b)?h:f;let L=n*e;const D=v+L,I=u===void 0?D:u(D);I!==D&&(L=I-v);const M=b=>-L*Math.exp(-b/r),O=b=>I+M(b),z=b=>{const C=M(b),U=O(b);_.done=Math.abs(C)<=p,_.value=_.done?I:U};let F,j;const A=b=>{x(_.value)&&(F=b,j=Vd({keyframes:[_.value,R(_.value)],velocity:YR(O,b,_.value),damping:a,stiffness:l,restDelta:p,restSpeed:g}))};return A(0),{calculatedDuration:null,next:b=>{let C=!1;return!j&&F===void 0&&(C=!0,z(b),A(b)),F!==void 0&&b>=F?j.next(b-F):(!C&&z(b),_)}}}function Xk(t,e,n){const r=[],a=n||vs.mix||$R,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||zr:e;h=uh(f,h)}r.push(h)}return r}function Qk(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const l=t.length;if(b0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=Xk(e,r,a),f=h.length,p=g=>{if(u&&g<t[0])return e[0];let v=0;if(f>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const _=jc(t[v],t[v+1],g);return h[v](_)};return n?g=>p(ys(t[0],t[l-1],g)):p}function Wk(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=jc(0,e,r);t.push(Lt(n,1,a))}}function Zk(t){const e=[0];return Wk(e,t.length-1),e}function Jk(t,e){return t.map(n=>n*e)}function e8(t,e){return t.map(()=>e||LR).splice(0,t.length-1)}function Ec({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=hk(r)?r.map(Vb):Vb(r),l={done:!1,value:e[0]},u=Jk(n&&n.length===e.length?n:Zk(e),t),h=Qk(u,e,{ease:Array.isArray(a)?a:e8(e,a)});return{calculatedDuration:t,next:f=>(l.value=h(f),l.done=f>=t,l)}}const t8=t=>t!==null;function O0(t,{repeat:e,repeatType:n="loop"},r,a=1){const l=t.filter(t8),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||r===void 0?l[h]:r}const n8={decay:Hy,inertia:Hy,tween:Ec,keyframes:Ec,spring:Vd};function XR(t){typeof t.type=="string"&&(t.type=n8[t.type])}class V0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const r8=t=>t/100;class L0 extends V0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==tr.now()&&this.tick(tr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;XR(e);const{type:n=Ec,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const f=n||Ec;f!==Ec&&typeof h[0]!="number"&&(this.mixKeyframes=uh(r8,$R(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=M0(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:v,repeatType:_,repeatDelay:x,type:R,onUpdate:L,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const I=this.currentTime-p*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?I<0:I>a;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let O=this.currentTime,z=r;if(v){const b=Math.min(this.currentTime,a)/h;let C=Math.floor(b),U=b%1;!U&&b>=1&&(U=1),U===1&&C--,C=Math.min(C,v+1),!!(C%2)&&(_==="reverse"?(U=1-U,x&&(U-=x/h)):_==="mirror"&&(z=u)),O=ys(0,1,U)*h}const F=M?{done:!1,value:g[0]}:z.next(O);l&&(F.value=l(F.value));let{done:j}=F;!M&&f!==null&&(j=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return A&&R!==Hy&&(F.value=O0(g,this.options,D,this.speed)),L&&L(F.value),A&&this.finish(),F}then(e,n){return this.finished.then(e,n)}get duration(){return jr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+jr(e)}get time(){return jr(this.currentTime)}set time(e){var n;e=Pi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(tr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=jr(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=Bk,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(l=(a=this.options).onPlay)==null||l.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(tr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function i8(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ho=t=>t*180/Math.PI,qy=t=>{const e=ho(Math.atan2(t[1],t[0]));return Gy(e)},s8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:qy,rotateZ:qy,skewX:t=>ho(Math.atan(t[1])),skewY:t=>ho(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Gy=t=>(t=t%360,t<0&&(t+=360),t),Fb=qy,Hb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),qb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),a8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Hb,scaleY:qb,scale:t=>(Hb(t)+qb(t))/2,rotateX:t=>Gy(ho(Math.atan2(t[6],t[5]))),rotateY:t=>Gy(ho(Math.atan2(-t[2],t[0]))),rotateZ:Fb,rotate:Fb,skewX:t=>ho(Math.atan(t[4])),skewY:t=>ho(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function $y(t){return t.includes("scale")?1:0}function Ky(t,e){if(!t||t==="none")return $y(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=a8,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=s8,a=h}if(!a)return $y(e);const l=r[e],u=a[1].split(",").map(l8);return typeof l=="function"?l(u):u[l]}const o8=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ky(n,e)};function l8(t){return parseFloat(t.trim())}const Ql=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wl=new Set(Ql),Gb=t=>t===Xl||t===He,u8=new Set(["x","y","z"]),c8=Ql.filter(t=>!u8.has(t));function h8(t){const e=[];return c8.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const mo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ky(e,"x"),y:(t,{transform:e})=>Ky(e,"y")};mo.translateX=mo.x;mo.translateY=mo.y;const po=new Set;let Yy=!1,Xy=!1,Qy=!1;function QR(){if(Xy){const t=Array.from(po).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=h8(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,u])=>{var h;(h=r.getValue(l))==null||h.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Xy=!1,Yy=!1,po.forEach(t=>t.complete(Qy)),po.clear()}function WR(){po.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Xy=!0)})}function f8(){Qy=!0,WR(),QR(),Qy=!1}class k0{constructor(e,n,r,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(po.add(this),Yy||(Yy=!0,Ot.read(WR),Ot.resolveKeyframes(QR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}i8(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),po.delete(this)}cancel(){this.state==="scheduled"&&(po.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const d8=t=>t.startsWith("--");function m8(t,e,n){d8(e)?t.style.setProperty(e,n):t.style[e]=n}const p8=x0(()=>window.ScrollTimeline!==void 0),g8={};function y8(t,e){const n=x0(t);return()=>g8[e]??n()}const ZR=y8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),mc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,$b={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mc([0,.65,.55,1]),circOut:mc([.55,0,1,.45]),backIn:mc([.31,.01,.66,-.59]),backOut:mc([.33,1.53,.69,.99])};function JR(t,e){if(t)return typeof t=="function"?ZR()?KR(t,e):"ease-out":kR(t)?mc(t):Array.isArray(t)?t.map(n=>JR(n,e)||$b.easeOut):$b[t]}function v8(t,e,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:f}={},p=void 0){const g={[e]:n};f&&(g.offset=f);const v=JR(h,a);Array.isArray(v)&&(g.easing=v);const _={delay:r,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(g,_)}function eC(t){return typeof t=="function"&&"applyToOptions"in t}function _8({type:t,...e}){return eC(t)&&ZR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class T8 extends V0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,b0(typeof e.type!="string");const p=_8(e);this.animation=v8(n,r,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=O0(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):m8(n,r,g),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return jr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+jr(e)}get time(){return jr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Pi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&p8()?(this.animation.timeline=e,zr):n(this)}}const tC={anticipate:MR,backInOut:NR,circInOut:VR};function w8(t){return t in tC}function E8(t){typeof t.ease=="string"&&w8(t.ease)&&(t.ease=tC[t.ease])}const Kb=10;class b8 extends T8{constructor(e){E8(e),XR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new L0({...u,autoplay:!1}),f=Pi(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-Kb).value,h.sample(f).value,Kb),h.stop()}}const Yb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ba.test(t)||t==="0")&&!t.startsWith("url("));function x8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function S8(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Yb(a,e),h=Yb(l,e);return!u||!h?!1:x8(t)||(n==="spring"||eC(n))&&r}function Wy(t){t.duration=0,t.type="keyframes"}const A8=new Set(["opacity","clipPath","filter","transform"]),R8=x0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function C8(t){var g;const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:l,type:u}=t;if(!(((g=e==null?void 0:e.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return R8()&&n&&A8.has(n)&&(n!=="transform"||!p)&&!f&&!r&&a!=="mirror"&&l!==0&&u!=="inertia"}const I8=40;class D8 extends V0{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:f,motionValue:p,element:g,...v}){var R;super(),this.stop=()=>{var L,D;this._animation&&(this._animation.stop(),(L=this.stopTimeline)==null||L.call(this)),(D=this.keyframeResolver)==null||D.cancel()},this.createdAt=tr.now();const _={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:u,name:f,motionValue:p,element:g,...v},x=(g==null?void 0:g.KeyframeResolver)||k0;this.keyframeResolver=new x(h,(L,D,I)=>this.onKeyframesResolved(L,D,_,!I),f,p,g),(R=this.keyframeResolver)==null||R.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:f,isHandoff:p,onUpdate:g}=r;this.resolvedAt=tr.now(),S8(e,l,u,h)||((vs.instantAnimations||!f)&&(g==null||g(O0(e,r,n))),e[0]=e[e.length-1],Wy(r),r.repeat=0);const _={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>I8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!p&&C8(_)?new b8({..._,element:_.motionValue.owner.current}):new L0(_);x.finished.then(()=>this.notifyFinished()).catch(zr),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),f8()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const P8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function N8(t){const e=P8.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function nC(t,e,n=1){const[r,a]=N8(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const u=l.trim();return xR(u)?parseFloat(u):u}return I0(a)?nC(a,e,n+1):a}function j0(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const rC=new Set(["width","height","top","left","right","bottom",...Ql]),M8={test:t=>t==="auto",parse:t=>t},iC=t=>e=>e.test(t),sC=[Xl,He,Ni,ra,xk,bk,M8],Xb=t=>sC.find(iC(t));function O8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||AR(t):!0}const V8=new Set(["brightness","contrast","saturate","opacity"]);function L8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(D0)||[];if(!r)return t;const a=n.replace(r,"");let l=V8.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+a+")"}const k8=/\b([a-z-]*)\(.*?\)/gu,Zy={...ba,getAnimatableNone:t=>{const e=t.match(k8);return e?e.map(L8).join(" "):t}},Qb={...Xl,transform:Math.round},j8={rotate:ra,rotateX:ra,rotateY:ra,rotateZ:ra,scale:Uf,scaleX:Uf,scaleY:Uf,scaleZ:Uf,skew:ra,skewX:ra,skewY:ra,distance:He,translateX:He,translateY:He,translateZ:He,x:He,y:He,z:He,perspective:He,transformPerspective:He,opacity:Uc,originX:Lb,originY:Lb,originZ:He},U0={borderWidth:He,borderTopWidth:He,borderRightWidth:He,borderBottomWidth:He,borderLeftWidth:He,borderRadius:He,radius:He,borderTopLeftRadius:He,borderTopRightRadius:He,borderBottomRightRadius:He,borderBottomLeftRadius:He,width:He,maxWidth:He,height:He,maxHeight:He,top:He,right:He,bottom:He,left:He,padding:He,paddingTop:He,paddingRight:He,paddingBottom:He,paddingLeft:He,margin:He,marginTop:He,marginRight:He,marginBottom:He,marginLeft:He,backgroundPositionX:He,backgroundPositionY:He,...j8,zIndex:Qb,fillOpacity:Uc,strokeOpacity:Uc,numOctaves:Qb},U8={...U0,color:en,backgroundColor:en,outlineColor:en,fill:en,stroke:en,borderColor:en,borderTopColor:en,borderRightColor:en,borderBottomColor:en,borderLeftColor:en,filter:Zy,WebkitFilter:Zy},aC=t=>U8[t];function oC(t,e){let n=aC(t);return n!==Zy&&(n=ba),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const B8=new Set(["auto","none","0"]);function z8(t,e,n){let r=0,a;for(;r<t.length&&!a;){const l=t[r];typeof l=="string"&&!B8.has(l)&&Bc(l).values.length&&(a=t[r]),r++}if(a&&n)for(const l of e)t[l]=oC(n,a)}class F8 extends k0{constructor(e,n,r,a,l){super(e,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),I0(p))){const g=nC(p,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!rC.has(r)||e.length!==2)return;const[a,l]=e,u=Xb(a),h=Xb(l);if(u!==h)if(Gb(u)&&Gb(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else mo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||O8(e[a]))&&r.push(a);r.length&&z8(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=mo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,u=r[l];r[l]=mo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function H8(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=(n==null?void 0:n[t])??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const lC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function uC(t){return SR(t)&&"offsetHeight"in t}const Wb=30,q8=t=>!isNaN(parseFloat(t));class G8{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var l;const a=tr.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=tr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=q8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new S0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=tr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Wb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Wb);return RR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jl(t,e){return new G8(t,e)}const{schedule:B0}=jR(queueMicrotask,!1),Qr={x:!1,y:!1};function cC(){return Qr.x||Qr.y}function $8(t){return t==="x"||t==="y"?Qr[t]?null:(Qr[t]=!0,()=>{Qr[t]=!1}):Qr.x||Qr.y?null:(Qr.x=Qr.y=!0,()=>{Qr.x=Qr.y=!1})}function hC(t,e){const n=H8(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function Zb(t){return!(t.pointerType==="touch"||cC())}function K8(t,e,n={}){const[r,a,l]=hC(t,n),u=h=>{if(!Zb(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const g=v=>{Zb(v)&&(p(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,a)};return r.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const fC=(t,e)=>e?t===e?!0:fC(t,e.parentElement):!1,z0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Y8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function X8(t){return Y8.has(t.tagName)||t.tabIndex!==-1}const rd=new WeakSet;function Jb(t){return e=>{e.key==="Enter"&&t(e)}}function Kg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Q8=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Jb(()=>{if(rd.has(n))return;Kg(n,"down");const a=Jb(()=>{Kg(n,"up")}),l=()=>Kg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function ex(t){return z0(t)&&!cC()}function W8(t,e,n={}){const[r,a,l]=hC(t,n),u=h=>{const f=h.currentTarget;if(!ex(h))return;rd.add(f);const p=e(f,h),g=(x,R)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),rd.has(f)&&rd.delete(f),ex(x)&&typeof p=="function"&&p(x,{success:R})},v=x=>{g(x,f===window||f===document||n.useGlobalTarget||fC(f,x.target))},_=x=>{g(x,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",_,a)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),uC(h)&&(h.addEventListener("focus",p=>Q8(p,a)),!X8(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function dC(t){return SR(t)&&"ownerSVGElement"in t}function Z8(t){return dC(t)&&t.tagName==="svg"}const kn=t=>!!(t&&t.getVelocity),J8=[...sC,en,ba],ej=t=>J8.find(iC(t)),F0=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function tx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function tj(...t){return e=>{let n=!1;const r=t.map(a=>{const l=tx(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<r.length;a++){const l=r[a];typeof l=="function"?l():tx(t[a],null)}}}}function nj(...t){return N.useCallback(tj(...t),t)}class rj extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=uC(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ij({children:t,isPresent:e,anchorX:n,root:r}){const a=N.useId(),l=N.useRef(null),u=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=N.useContext(F0),f=nj(l,t==null?void 0:t.ref);return N.useInsertionEffect(()=>{const{width:p,height:g,top:v,left:_,right:x}=u.current;if(e||!l.current||!p||!g)return;const R=n==="left"?`left: ${_}`:`right: ${x}`;l.current.dataset.motionPopId=a;const L=document.createElement("style");h&&(L.nonce=h);const D=r??document.head;return D.appendChild(L),L.sheet&&L.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${R}px !important;
            top: ${v}px !important;
          }
        `),()=>{D.contains(L)&&D.removeChild(L)}},[e]),w.jsx(rj,{isPresent:e,childRef:l,sizeRef:u,children:N.cloneElement(t,{ref:f})})}const sj=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,root:f})=>{const p=_0(aj),g=N.useId();let v=!0,_=N.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:a,onExitComplete:x=>{p.set(x,!0);for(const R of p.values())if(!R)return;r&&r()},register:x=>(p.set(x,!1),()=>p.delete(x))}),[n,p,r]);return l&&v&&(_={..._}),N.useMemo(()=>{p.forEach((x,R)=>p.set(R,!1))},[n]),N.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),u==="popLayout"&&(t=w.jsx(ij,{isPresent:n,anchorX:h,root:f,children:t})),w.jsx(gm.Provider,{value:_,children:t})};function aj(){return new Map}function mC(t=!0){const e=N.useContext(gm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,l=N.useId();N.useEffect(()=>{if(t)return a(l)},[t]);const u=N.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,u]:[!0]}const Bf=t=>t.key||"";function nx(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const oj=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",root:f})=>{const[p,g]=mC(u),v=N.useMemo(()=>nx(t),[t]),_=u&&!p?[]:v.map(Bf),x=N.useRef(!0),R=N.useRef(v),L=_0(()=>new Map),[D,I]=N.useState(v),[M,O]=N.useState(v);bR(()=>{x.current=!1,R.current=v;for(let j=0;j<M.length;j++){const A=Bf(M[j]);_.includes(A)?L.delete(A):L.get(A)!==!0&&L.set(A,!1)}},[M,_.length,_.join("-")]);const z=[];if(v!==D){let j=[...v];for(let A=0;A<M.length;A++){const b=M[A],C=Bf(b);_.includes(C)||(j.splice(A,0,b),z.push(b))}return l==="wait"&&z.length&&(j=z),O(nx(j)),I(v),null}const{forceRender:F}=N.useContext(v0);return w.jsx(w.Fragment,{children:M.map(j=>{const A=Bf(j),b=u&&!p?!1:v===M||_.includes(A),C=()=>{if(L.has(A))L.set(A,!0);else return;let U=!0;L.forEach(B=>{B||(U=!1)}),U&&(F==null||F(),O(R.current),u&&(g==null||g()),r&&r())};return w.jsx(sj,{isPresent:b,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:f,onExitComplete:b?void 0:C,anchorX:h,children:j},A)})})},pC=N.createContext({strict:!1}),rx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ul={};for(const t in rx)Ul[t]={isEnabled:e=>rx[t].some(n=>!!e[n])};function lj(t){for(const e in t)Ul[e]={...Ul[e],...t[e]}}const uj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ld(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||uj.has(t)}let gC=t=>!Ld(t);function cj(t){typeof t=="function"&&(gC=e=>e.startsWith("on")?!Ld(e):t(e))}try{cj(require("@emotion/is-prop-valid").default)}catch{}function hj(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(gC(a)||n===!0&&Ld(a)||!e&&!Ld(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const ym=N.createContext({});function vm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function zc(t){return typeof t=="string"||Array.isArray(t)}const H0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],q0=["initial",...H0];function _m(t){return vm(t.animate)||q0.some(e=>zc(t[e]))}function yC(t){return!!(_m(t)||t.variants)}function fj(t,e){if(_m(t)){const{initial:n,animate:r}=t;return{initial:n===!1||zc(n)?n:void 0,animate:zc(r)?r:void 0}}return t.inherit!==!1?e:{}}function dj(t){const{initial:e,animate:n}=fj(t,N.useContext(ym));return N.useMemo(()=>({initial:e,animate:n}),[ix(e),ix(n)])}function ix(t){return Array.isArray(t)?t.join(" "):t}const Fc={};function mj(t){for(const e in t)Fc[e]=t[e],C0(e)&&(Fc[e].isCSSVariable=!0)}function vC(t,{layout:e,layoutId:n}){return Wl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Fc[t]||t==="opacity")}const pj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gj=Ql.length;function yj(t,e,n){let r="",a=!0;for(let l=0;l<gj;l++){const u=Ql[l],h=t[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const p=lC(h,U0[u]);if(!f){a=!1;const g=pj[u]||u;r+=`${g}(${p}) `}n&&(e[u]=p)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function G0(t,e,n){const{style:r,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const f in e){const p=e[f];if(Wl.has(f)){u=!0;continue}else if(C0(f)){a[f]=p;continue}else{const g=lC(p,U0[f]);f.startsWith("origin")?(h=!0,l[f]=g):r[f]=g}}if(e.transform||(u||n?r.transform=yj(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:g=0}=l;r.transformOrigin=`${f} ${p} ${g}`}}const $0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _C(t,e,n){for(const r in e)!kn(e[r])&&!vC(r,n)&&(t[r]=e[r])}function vj({transformTemplate:t},e){return N.useMemo(()=>{const n=$0();return G0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function _j(t,e){const n=t.style||{},r={};return _C(r,n,t),Object.assign(r,vj(t,e)),r}function Tj(t,e){const n={},r=_j(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const wj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ej={offset:"strokeDashoffset",array:"strokeDasharray"};function bj(t,e,n=1,r=0,a=!0){t.pathLength=1;const l=a?wj:Ej;t[l.offset]=He.transform(-r);const u=He.transform(e),h=He.transform(n);t[l.array]=`${u} ${h}`}function TC(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},f,p,g){if(G0(t,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:_}=t;v.transform&&(_.transform=v.transform,delete v.transform),(_.transform||v.transformOrigin)&&(_.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),_.transform&&(_.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),a!==void 0&&bj(v,a,l,u,!1)}const wC=()=>({...$0(),attrs:{}}),EC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function xj(t,e,n,r){const a=N.useMemo(()=>{const l=wC();return TC(l,e,EC(r),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};_C(l,t.style,t),a.style={...l,...a.style}}return a}const Sj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function K0(t){return typeof t!="string"||t.includes("-")?!1:!!(Sj.indexOf(t)>-1||/[A-Z]/u.test(t))}function Aj(t,e,n,{latestValues:r},a,l=!1){const h=(K0(t)?xj:Tj)(e,r,a,t),f=hj(e,typeof t=="string",l),p=t!==N.Fragment?{...f,...h,ref:n}:{},{children:g}=e,v=N.useMemo(()=>kn(g)?g.get():g,[g]);return N.createElement(t,{...p,children:v})}function sx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Y0(t,e,n,r){if(typeof e=="function"){const[a,l]=sx(r);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=sx(r);e=e(n!==void 0?n:t.custom,a,l)}return e}function id(t){return kn(t)?t.get():t}function Rj({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:Cj(n,r,a,t),renderState:e()}}function Cj(t,e,n,r){const a={},l=r(t,{});for(const _ in l)a[_]=id(l[_]);let{initial:u,animate:h}=t;const f=_m(t),p=yC(t);e&&p&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const v=g?h:u;if(v&&typeof v!="boolean"&&!vm(v)){const _=Array.isArray(v)?v:[v];for(let x=0;x<_.length;x++){const R=Y0(t,_[x]);if(R){const{transitionEnd:L,transition:D,...I}=R;for(const M in I){let O=I[M];if(Array.isArray(O)){const z=g?O.length-1:0;O=O[z]}O!==null&&(a[M]=O)}for(const M in L)a[M]=L[M]}}}return a}const bC=t=>(e,n)=>{const r=N.useContext(ym),a=N.useContext(gm),l=()=>Rj(t,e,r,a);return n?l():_0(l)};function X0(t,e,n){var l;const{style:r}=t,a={};for(const u in r)(kn(r[u])||e.style&&kn(e.style[u])||vC(u,t)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(a[u]=r[u]);return a}const Ij=bC({scrapeMotionValuesFromProps:X0,createRenderState:$0});function xC(t,e,n){const r=X0(t,e,n);for(const a in t)if(kn(t[a])||kn(e[a])){const l=Ql.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=t[a]}return r}const Dj=bC({scrapeMotionValuesFromProps:xC,createRenderState:wC}),Pj=Symbol.for("motionComponentSymbol");function Tl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Nj(t,e,n){return N.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Tl(n)&&(n.current=r))},[e])}const Q0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Mj="framerAppearId",SC="data-"+Q0(Mj),AC=N.createContext({});function Oj(t,e,n,r,a){var L,D;const{visualElement:l}=N.useContext(ym),u=N.useContext(pC),h=N.useContext(gm),f=N.useContext(F0).reducedMotion,p=N.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,v=N.useContext(AC);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&Vj(p.current,n,a,v);const _=N.useRef(!1);N.useInsertionEffect(()=>{g&&_.current&&g.update(n,h)});const x=n[SC],R=N.useRef(!!x&&!((L=window.MotionHandoffIsComplete)!=null&&L.call(window,x))&&((D=window.MotionHasOptimisedAnimation)==null?void 0:D.call(window,x)));return bR(()=>{g&&(_.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),R.current&&g.animationState&&g.animationState.animateChanges())}),N.useEffect(()=>{g&&(!R.current&&g.animationState&&g.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var I;(I=window.MotionHandoffMarkAsComplete)==null||I.call(window,x)}),R.current=!1),g.enteringChildren=void 0)}),g}function Vj(t,e,n,r){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:RC(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&Tl(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:f,layoutRoot:p})}function RC(t){if(t)return t.options.allowProjection!==!1?t.projection:RC(t.parent)}function Yg(t,{forwardMotionProps:e=!1}={},n,r){n&&lj(n);const a=K0(t)?Dj:Ij;function l(h,f){let p;const g={...N.useContext(F0),...h,layoutId:Lj(h)},{isStatic:v}=g,_=dj(h),x=a(h,v);if(!v&&T0){kj();const R=jj(g);p=R.MeasureLayout,_.visualElement=Oj(t,x,g,r,R.ProjectionNode)}return w.jsxs(ym.Provider,{value:_,children:[p&&_.visualElement?w.jsx(p,{visualElement:_.visualElement,...g}):null,Aj(t,h,Nj(x,_.visualElement,f),x,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=N.forwardRef(l);return u[Pj]=t,u}function Lj({layoutId:t}){const e=N.useContext(v0).id;return e&&t!==void 0?e+"-"+t:t}function kj(t,e){N.useContext(pC).strict}function jj(t){const{drag:e,layout:n}=Ul;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Uj(t,e){if(typeof Proxy>"u")return Yg;const n=new Map,r=(l,u)=>Yg(l,u,t,e),a=(l,u)=>r(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?r:(n.has(u)||n.set(u,Yg(u,void 0,t,e)),n.get(u))})}function CC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Bj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function zj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Xg(t){return t===void 0||t===1}function Jy({scale:t,scaleX:e,scaleY:n}){return!Xg(t)||!Xg(e)||!Xg(n)}function ao(t){return Jy(t)||IC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function IC(t){return ax(t.x)||ax(t.y)}function ax(t){return t&&t!=="0%"}function kd(t,e,n){const r=t-n,a=e*r;return n+a}function ox(t,e,n,r,a){return a!==void 0&&(t=kd(t,a,r)),kd(t,n,r)+e}function ev(t,e=0,n=1,r,a){t.min=ox(t.min,e,n,r,a),t.max=ox(t.max,e,n,r,a)}function DC(t,{x:e,y:n}){ev(t.x,e.translate,e.scale,e.originPoint),ev(t.y,n.translate,n.scale,n.originPoint)}const lx=.999999999999,ux=1.0000000000001;function Fj(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&El(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,DC(t,u)),r&&ao(l.latestValues)&&El(t,l.latestValues))}e.x<ux&&e.x>lx&&(e.x=1),e.y<ux&&e.y>lx&&(e.y=1)}function wl(t,e){t.min=t.min+e,t.max=t.max+e}function cx(t,e,n,r,a=.5){const l=Lt(t.min,t.max,a);ev(t,e,n,l,r)}function El(t,e){cx(t.x,e.x,e.scaleX,e.scale,e.originX),cx(t.y,e.y,e.scaleY,e.scale,e.originY)}function PC(t,e){return CC(zj(t.getBoundingClientRect(),e))}function Hj(t,e,n){const r=PC(t,n),{scroll:a}=e;return a&&(wl(r.x,a.offset.x),wl(r.y,a.offset.y)),r}const hx=()=>({translate:0,scale:1,origin:0,originPoint:0}),bl=()=>({x:hx(),y:hx()}),fx=()=>({min:0,max:0}),Gt=()=>({x:fx(),y:fx()}),tv={current:null},NC={current:!1};function qj(){if(NC.current=!0,!!T0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>tv.current=t.matches;t.addEventListener("change",e),e()}else tv.current=!1}const Gj=new WeakMap;function $j(t,e,n){for(const r in e){const a=e[r],l=n[r];if(kn(a))t.addValue(r,a);else if(kn(l))t.addValue(r,jl(a,{owner:t}));else if(l!==a)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(r);t.addValue(r,jl(u!==void 0?u:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const dx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Kj{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=k0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=tr.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Ot.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=_m(n),this.isVariantNode=yC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in v){const x=v[_];f[_]!==void 0&&kn(x)&&x.set(f[_])}}mount(e){var n;this.current=e,Gj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),NC.current||qj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:tv.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ea(this.notifyUpdate),Ea(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Wl.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ot.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ul){const n=Ul[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<dx.length;r++){const a=dx[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=$j(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=jl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(xR(r)||AR(r))?r=parseFloat(r):!ej(r)&&ba.test(n)&&(r=oC(e,n)),this.setBaseTarget(e,kn(r)?r.get():r)),kn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const u=Y0(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(r=u[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!kn(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new S0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){B0.render(this.render)}}class MC extends Kj{constructor(){super(...arguments),this.KeyframeResolver=F8}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;kn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function OC(t,{style:e,vars:n},r,a){const l=t.style;let u;for(u in e)l[u]=e[u];a==null||a.applyProjectionStyles(l,r);for(u in n)l.setProperty(u,n[u])}function Yj(t){return window.getComputedStyle(t)}class Xj extends MC{constructor(){super(...arguments),this.type="html",this.renderInstance=OC}readValueFromInstance(e,n){var r;if(Wl.has(n))return(r=this.projection)!=null&&r.isProjecting?$y(n):o8(e,n);{const a=Yj(e),l=(C0(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return PC(e,n)}build(e,n,r){G0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return X0(e,n,r)}}const VC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Qj(t,e,n,r){OC(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(VC.has(a)?a:Q0(a),e.attrs[a])}class Wj extends MC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Wl.has(n)){const r=aC(n);return r&&r.default||0}return n=VC.has(n)?n:Q0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return xC(e,n,r)}build(e,n,r){TC(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){Qj(e,n,r,a)}mount(e){this.isSVGTag=EC(e.tagName),super.mount(e)}}const Zj=(t,e)=>K0(t)?new Wj(e):new Xj(e,{allowProjection:t!==N.Fragment});function Il(t,e,n){const r=t.getProps();return Y0(r,e,n!==void 0?n:r.custom,t)}const nv=t=>Array.isArray(t);function Jj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,jl(n))}function eU(t){return nv(t)?t[t.length-1]||0:t}function tU(t,e){const n=Il(t,e);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const u in l){const h=eU(l[u]);Jj(t,u,h)}}function nU(t){return!!(kn(t)&&t.add)}function rv(t,e){const n=t.getValue("willChange");if(nU(n))return n.add(e);if(!n&&vs.WillChange){const r=new vs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function LC(t){return t.props[SC]}const rU=t=>t!==null;function iU(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(rU),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const sU={type:"spring",stiffness:500,damping:25,restSpeed:10},aU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),oU={type:"keyframes",duration:.8},lU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uU=(t,{keyframes:e})=>e.length>2?oU:Wl.has(t)?t.startsWith("scale")?aU(e[1]):sU:lU;function cU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const W0=(t,e,n,r={},a,l)=>u=>{const h=j0(r,t)||{},f=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Pi(f);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};cU(h)||Object.assign(g,uU(t,g)),g.duration&&(g.duration=Pi(g.duration)),g.repeatDelay&&(g.repeatDelay=Pi(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Wy(g),g.delay===0&&(v=!0)),(vs.instantAnimations||vs.skipAnimations)&&(v=!0,Wy(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const _=iU(g.keyframes,h);if(_!==void 0){Ot.update(()=>{g.onUpdate(_),g.onComplete()});return}}return h.isSync?new L0(g):new D8(g)};function hU({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function kC(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(l=r);const f=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const g in h){const v=t.getValue(g,t.latestValues[g]??null),_=h[g];if(_===void 0||p&&hU(p,g))continue;const x={delay:n,...j0(l||{},g)},R=v.get();if(R!==void 0&&!v.isAnimating&&!Array.isArray(_)&&_===R&&!x.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const I=LC(t);if(I){const M=window.MotionHandoffAnimation(I,g,Ot);M!==null&&(x.startTime=M,L=!0)}}rv(t,g),v.start(W0(g,v,_,t.shouldReduceMotion&&rC.has(g)?{type:!1}:x,t,L));const D=v.animation;D&&f.push(D)}return u&&Promise.all(f).then(()=>{Ot.update(()=>{u&&tU(t,u)})}),f}function jC(t,e,n,r=0,a=1){const l=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),u=t.size,h=(u-1)*r;return typeof n=="function"?n(l,u):a===1?l*r:h-l*r}function iv(t,e,n={}){var f;const r=Il(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(kC(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:_}=a;return fU(t,e,p,g,v,_,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[p,g]=h==="beforeChildren"?[l,u]:[u,l];return p().then(()=>g())}else return Promise.all([l(),u(n.delay)])}function fU(t,e,n=0,r=0,a=0,l=1,u){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(iv(f,e,{...u,delay:n+(typeof r=="function"?0:r)+jC(t.variantChildren,f,r,a,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function dU(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>iv(t,l,n));r=Promise.all(a)}else if(typeof e=="string")r=iv(t,e,n);else{const a=typeof e=="function"?Il(t,e,n.custom):e;r=Promise.all(kC(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function UC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const mU=q0.length;function BC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?BC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<mU;n++){const r=q0[n],a=t.props[r];(zc(a)||a===!1)&&(e[r]=a)}return e}const pU=[...H0].reverse(),gU=H0.length;function yU(t){return e=>Promise.all(e.map(({animation:n,options:r})=>dU(t,n,r)))}function vU(t){let e=yU(t),n=mx(),r=!0;const a=f=>(p,g)=>{var _;const v=Il(t,g,f==="exit"?(_=t.presenceContext)==null?void 0:_.custom:void 0);if(v){const{transition:x,transitionEnd:R,...L}=v;p={...p,...L,...R}}return p};function l(f){e=f(t)}function u(f){const{props:p}=t,g=BC(t.parent)||{},v=[],_=new Set;let x={},R=1/0;for(let D=0;D<gU;D++){const I=pU[D],M=n[I],O=p[I]!==void 0?p[I]:g[I],z=zc(O),F=I===f?M.isActive:null;F===!1&&(R=D);let j=O===g[I]&&O!==p[I]&&z;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),M.protectedKeys={...x},!M.isActive&&F===null||!O&&!M.prevProp||vm(O)||typeof O=="boolean")continue;const A=_U(M.prevProp,O);let b=A||I===f&&M.isActive&&!j&&z||D>R&&z,C=!1;const U=Array.isArray(O)?O:[O];let B=U.reduce(a(I),{});F===!1&&(B={});const{prevResolvedValues:G={}}=M,V={...G,...B},ae=te=>{b=!0,_.has(te)&&(C=!0,_.delete(te)),M.needsAnimating[te]=!0;const pe=t.getValue(te);pe&&(pe.liveStyle=!1)};for(const te in V){const pe=B[te],we=G[te];if(x.hasOwnProperty(te))continue;let H=!1;nv(pe)&&nv(we)?H=!UC(pe,we):H=pe!==we,H?pe!=null?ae(te):_.add(te):pe!==void 0&&_.has(te)?ae(te):M.protectedKeys[te]=!0}M.prevProp=O,M.prevResolvedValues=B,M.isActive&&(x={...x,...B}),r&&t.blockInitialAnimation&&(b=!1);const oe=j&&A;b&&(!oe||C)&&v.push(...U.map(te=>{const pe={type:I};if(typeof te=="string"&&r&&!oe&&t.manuallyAnimateOnMount&&t.parent){const{parent:we}=t,H=Il(we,te);if(we.enteringChildren&&H){const{delayChildren:ie}=H.transition||{};pe.delay=jC(we.enteringChildren,t,ie)}}return{animation:te,options:pe}}))}if(_.size){const D={};if(typeof p.initial!="boolean"){const I=Il(t,Array.isArray(p.initial)?p.initial[0]:p.initial);I&&I.transition&&(D.transition=I.transition)}_.forEach(I=>{const M=t.getBaseTarget(I),O=t.getValue(I);O&&(O.liveStyle=!0),D[I]=M??null}),v.push({animation:D})}let L=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(L=!1),r=!1,L?e(v):Promise.resolve()}function h(f,p){var v;if(n[f].isActive===p)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(_=>{var x;return(x=_.animationState)==null?void 0:x.setActive(f,p)}),n[f].isActive=p;const g=u(f);for(const _ in n)n[_].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=mx(),r=!0}}}function _U(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!UC(e,t):!1}function io(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mx(){return{animate:io(!0),whileInView:io(),whileHover:io(),whileTap:io(),whileDrag:io(),whileFocus:io(),exit:io()}}class Ca{constructor(e){this.isMounted=!1,this.node=e}update(){}}class TU extends Ca{constructor(e){super(e),e.animationState||(e.animationState=vU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let wU=0;class EU extends Ca{constructor(){super(...arguments),this.id=wU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const bU={animation:{Feature:TU},exit:{Feature:EU}};function Hc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function fh(t){return{point:{x:t.pageX,y:t.pageY}}}const xU=t=>e=>z0(e)&&t(e,fh(e));function bc(t,e,n,r){return Hc(t,e,xU(n),r)}const zC=1e-4,SU=1-zC,AU=1+zC,FC=.01,RU=0-FC,CU=0+FC;function Kn(t){return t.max-t.min}function IU(t,e,n){return Math.abs(t-e)<=n}function px(t,e,n,r=.5){t.origin=r,t.originPoint=Lt(e.min,e.max,t.origin),t.scale=Kn(n)/Kn(e),t.translate=Lt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=SU&&t.scale<=AU||isNaN(t.scale))&&(t.scale=1),(t.translate>=RU&&t.translate<=CU||isNaN(t.translate))&&(t.translate=0)}function xc(t,e,n,r){px(t.x,e.x,n.x,r?r.originX:void 0),px(t.y,e.y,n.y,r?r.originY:void 0)}function gx(t,e,n){t.min=n.min+e.min,t.max=t.min+Kn(e)}function DU(t,e,n){gx(t.x,e.x,n.x),gx(t.y,e.y,n.y)}function yx(t,e,n){t.min=e.min-n.min,t.max=t.min+Kn(e)}function Sc(t,e,n){yx(t.x,e.x,n.x),yx(t.y,e.y,n.y)}function Or(t){return[t("x"),t("y")]}const HC=({current:t})=>t?t.ownerDocument.defaultView:null,vx=(t,e)=>Math.abs(t-e);function PU(t,e){const n=vx(t.x,e.x),r=vx(t.y,e.y);return Math.sqrt(n**2+r**2)}class qC{constructor(e,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Wg(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,R=PU(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!R)return;const{point:L}=_,{timestamp:D}=An;this.history.push({...L,timestamp:D});const{onStart:I,onMove:M}=this.handlers;x||(I&&I(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,_)},this.handlePointerMove=(_,x)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Qg(x,this.transformPagePoint),Ot.update(this.updatePoint,!0)},this.handlePointerUp=(_,x)=>{this.end();const{onEnd:R,onSessionEnd:L,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Wg(_.type==="pointercancel"?this.lastMoveEventInfo:Qg(x,this.transformPagePoint),this.history);this.startEvent&&R&&R(_,I),L&&L(_,I)},!z0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=a||window;const h=fh(e),f=Qg(h,this.transformPagePoint),{point:p}=f,{timestamp:g}=An;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,Wg(f,this.history)),this.removeListeners=uh(bc(this.contextWindow,"pointermove",this.handlePointerMove),bc(this.contextWindow,"pointerup",this.handlePointerUp),bc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ea(this.updatePoint)}}function Qg(t,e){return e?{point:e(t.point)}:t}function _x(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Wg({point:t},e){return{point:t,delta:_x(t,GC(e)),offset:_x(t,NU(e)),velocity:MU(e,.1)}}function NU(t){return t[0]}function GC(t){return t[t.length-1]}function MU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=GC(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>Pi(e)));)n--;if(!r)return{x:0,y:0};const l=jr(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function OU(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Lt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Lt(n,t,r.max):Math.min(t,n)),t}function Tx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function VU(t,{top:e,left:n,bottom:r,right:a}){return{x:Tx(t.x,n,a),y:Tx(t.y,e,r)}}function wx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function LU(t,e){return{x:wx(t.x,e.x),y:wx(t.y,e.y)}}function kU(t,e){let n=.5;const r=Kn(t),a=Kn(e);return a>r?n=jc(e.min,e.max-r,t.min):r>a&&(n=jc(t.min,t.max-a,e.min)),ys(0,1,n)}function jU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const sv=.35;function UU(t=sv){return t===!1?t=0:t===!0&&(t=sv),{x:Ex(t,"left","right"),y:Ex(t,"top","bottom")}}function Ex(t,e,n){return{min:bx(t,e),max:bx(t,n)}}function bx(t,e){return typeof t=="number"?t:t[e]||0}const BU=new WeakMap;class zU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(fh(v).point)},u=(v,_)=>{const{drag:x,dragPropagation:R,onDragStart:L}=this.getProps();if(x&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$8(x),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Or(I=>{let M=this.getAxisMotionValue(I).get()||0;if(Ni.test(M)){const{projection:O}=this.visualElement;if(O&&O.layout){const z=O.layout.layoutBox[I];z&&(M=Kn(z)*(parseFloat(M)/100))}}this.originPoint[I]=M}),L&&Ot.postRender(()=>L(v,_)),rv(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},h=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_;const{dragPropagation:x,dragDirectionLock:R,onDirectionLock:L,onDrag:D}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:I}=_;if(R&&this.currentDirection===null){this.currentDirection=FU(I),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",_.point,I),this.updateAxis("y",_.point,I),this.visualElement.render(),D&&D(v,_)},f=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_,this.stop(v,_),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Or(v=>{var _;return this.getAnimationState(v)==="paused"&&((_=this.getAxisMotionValue(v).animation)==null?void 0:_.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new qC(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:HC(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!r)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&Ot.postRender(()=>h(r,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!zf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=OU(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&Tl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=VU(r.layoutBox,e):this.constraints=!1,this.elastic=UU(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Or(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=jU(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Tl(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Hj(r,a.root,this.visualElement.getTransformPagePoint());let u=LU(a.layout.layoutBox,l);if(n){const h=n(Bj(u));this.hasMutatedConstraints=!!h,h&&(u=CC(h))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Or(g=>{if(!zf(g,n,this.currentDirection))return;let v=f&&f[g]||{};u&&(v={min:0,max:0});const _=a?200:1e6,x=a?40:1e7,R={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,R)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return rv(this.visualElement,e),r.start(W0(e,r,0,n,this.visualElement,!1))}stopAnimation(){Or(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Or(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Or(n=>{const{drag:r}=this.getProps();if(!zf(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-Lt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Tl(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Or(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();a[u]=kU({min:f,max:f},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Or(u=>{if(!zf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];h.set(Lt(f,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;BU.set(this.visualElement,this);const e=this.visualElement.current,n=bc(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Tl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ot.read(r);const u=Hc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Or(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=sv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function zf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function FU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class HU extends Ca{constructor(e){super(e),this.removeGroupControls=zr,this.removeListeners=zr,this.controls=new zU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zr}unmount(){this.removeGroupControls(),this.removeListeners()}}const xx=t=>(e,n)=>{t&&Ot.postRender(()=>t(e,n))};class qU extends Ca{constructor(){super(...arguments),this.removePointerDownListener=zr}onPointerDown(e){this.session=new qC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:HC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:xx(e),onStart:xx(n),onMove:r,onEnd:(l,u)=>{delete this.session,a&&Ot.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=bc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const sd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Sx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const sc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(He.test(t))t=parseFloat(t);else return t;const n=Sx(t,e.target.x),r=Sx(t,e.target.y);return`${n}% ${r}%`}},GU={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=ba.parse(t);if(a.length>5)return r;const l=ba.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=f;const p=Lt(h,f,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};let Zg=!1;class $U extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;mj(KU),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),Zg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),sd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:u}=r;return u&&(u.isPresent=l,Zg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Ot.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),B0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;Zg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $C(t){const[e,n]=mC(),r=N.useContext(v0);return w.jsx($U,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(AC),isPresent:e,safeToRemove:n})}const KU={borderRadius:{...sc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sc,borderTopRightRadius:sc,borderBottomLeftRadius:sc,borderBottomRightRadius:sc,boxShadow:GU};function YU(t,e,n){const r=kn(t)?t:jl(t);return r.start(W0("",r,e,n)),r.animation}const XU=(t,e)=>t.depth-e.depth;class QU{constructor(){this.children=[],this.isDirty=!1}add(e){w0(this.children,e),this.isDirty=!0}remove(e){E0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(XU),this.isDirty=!1,this.children.forEach(e)}}function WU(t,e){const n=tr.now(),r=({timestamp:a})=>{const l=a-n;l>=e&&(Ea(r),t(l-e))};return Ot.setup(r,!0),()=>Ea(r)}const KC=["TopLeft","TopRight","BottomLeft","BottomRight"],ZU=KC.length,Ax=t=>typeof t=="string"?parseFloat(t):t,Rx=t=>typeof t=="number"||He.test(t);function JU(t,e,n,r,a,l){a?(t.opacity=Lt(0,n.opacity??1,e7(r)),t.opacityExit=Lt(e.opacity??1,0,t7(r))):l&&(t.opacity=Lt(e.opacity??1,n.opacity??1,r));for(let u=0;u<ZU;u++){const h=`border${KC[u]}Radius`;let f=Cx(e,h),p=Cx(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Rx(f)===Rx(p)?(t[h]=Math.max(Lt(Ax(f),Ax(p),r),0),(Ni.test(p)||Ni.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=Lt(e.rotate||0,n.rotate||0,r))}function Cx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const e7=YC(0,.5,OR),t7=YC(.5,.95,zr);function YC(t,e,n){return r=>r<t?0:r>e?1:n(jc(t,e,r))}function Ix(t,e){t.min=e.min,t.max=e.max}function Mr(t,e){Ix(t.x,e.x),Ix(t.y,e.y)}function Dx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Px(t,e,n,r,a){return t-=e,t=kd(t,1/n,r),a!==void 0&&(t=kd(t,1/a,r)),t}function n7(t,e=0,n=1,r=.5,a,l=t,u=t){if(Ni.test(e)&&(e=parseFloat(e),e=Lt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Lt(l.min,l.max,r);t===l&&(h-=e),t.min=Px(t.min,e,n,h,a),t.max=Px(t.max,e,n,h,a)}function Nx(t,e,[n,r,a],l,u){n7(t,e[n],e[r],e[a],e.scale,l,u)}const r7=["x","scaleX","originX"],i7=["y","scaleY","originY"];function Mx(t,e,n,r){Nx(t.x,e,r7,n?n.x:void 0,r?r.x:void 0),Nx(t.y,e,i7,n?n.y:void 0,r?r.y:void 0)}function Ox(t){return t.translate===0&&t.scale===1}function XC(t){return Ox(t.x)&&Ox(t.y)}function Vx(t,e){return t.min===e.min&&t.max===e.max}function s7(t,e){return Vx(t.x,e.x)&&Vx(t.y,e.y)}function Lx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function QC(t,e){return Lx(t.x,e.x)&&Lx(t.y,e.y)}function kx(t){return Kn(t.x)/Kn(t.y)}function jx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class a7{constructor(){this.members=[]}add(e){w0(this.members,e),e.scheduleRender()}remove(e){if(E0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function o7(t,e,n){let r="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((a||l||u)&&(r=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:_,skewX:x,skewY:R}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),_&&(r+=`rotateY(${_}deg) `),x&&(r+=`skewX(${x}deg) `),R&&(r+=`skewY(${R}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(r+=`scale(${h}, ${f})`),r||"none"}const Jg=["","X","Y","Z"],l7=1e3;let u7=0;function ey(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function WC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=LC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ot,!(a||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&WC(r)}function ZC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(u={},h=e==null?void 0:e()){this.id=u7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(f7),this.nodes.forEach(g7),this.nodes.forEach(y7),this.nodes.forEach(d7)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new QU)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new S0),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=dC(u)&&!Z8(u),this.instance=u;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let g,v=0;const _=()=>this.root.updateBlockedByResize=!1;Ot.read(()=>{v=window.innerWidth}),t(u,()=>{const x=window.innerWidth;x!==v&&(v=x,this.root.updateBlockedByResize=!0,g&&g(),g=WU(_,250),sd.hasAnimatedSinceResize&&(sd.hasAnimatedSinceResize=!1,this.nodes.forEach(zx)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||p.getDefaultTransition()||E7,{onLayoutAnimationStart:L,onLayoutAnimationComplete:D}=p.getProps(),I=!this.targetLayout||!QC(this.targetLayout,x),M=!v&&_;if(this.options.layoutRoot||this.resumeFrom||M||v&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...j0(R,"layout"),onPlay:L,onComplete:D};(p.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(g,M)}else v||zx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ea(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(v7),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ux);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Bx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(p7),this.nodes.forEach(c7),this.nodes.forEach(h7)):this.nodes.forEach(Bx),this.clearAllSnapshots();const h=tr.now();An.delta=ys(0,1e3/60,h-An.timestamp),An.timestamp=h,An.isProcessing=!0,Hg.update.process(An),Hg.preRender.process(An),Hg.render.process(An),An.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,B0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(m7),this.sharedNodes.forEach(_7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Kn(this.snapshot.measuredBox.x)&&!Kn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!XC(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||ao(this.latestValues)||g)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),b7(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return Gt();const h=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(x7))){const{scroll:g}=this.root;g&&(wl(h.x,g.offset.x),wl(h.y,g.offset.y))}return h}removeElementScroll(u){var f;const h=Gt();if(Mr(h,u),(f=this.scroll)!=null&&f.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:_}=g;g!==this.root&&v&&_.layoutScroll&&(v.wasRoot&&Mr(h,u),wl(h.x,v.offset.x),wl(h.y,v.offset.y))}return h}applyTransform(u,h=!1){const f=Gt();Mr(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&El(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ao(g.latestValues)&&El(f,g.latestValues)}return ao(this.latestValues)&&El(f,this.latestValues),f}removeTransform(u){const h=Gt();Mr(h,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!ao(p.latestValues))continue;Jy(p.latestValues)&&p.updateSnapshot();const g=Gt(),v=p.measurePageBox();Mr(g,v),Mx(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return ao(this.latestValues)&&Mx(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==An.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var _;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=An.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),Sc(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Mr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Gt(),this.targetWithTransforms=Gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mr(this.target,this.layout.layoutBox),DC(this.target,this.targetDelta)):Mr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),Sc(this.relativeTargetOrigin,this.target,x.target),Mr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Jy(this.parent.latestValues)||IC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var R;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||(R=this.parent)!=null&&R.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===An.timestamp&&(f=!1),f)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Mr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;Fj(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Gt());const{target:x}=u;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Dx(this.prevProjectionDelta.x,this.projectionDelta.x),Dx(this.prevProjectionDelta.y,this.projectionDelta.y)),xc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!jx(this.projectionDelta.x,this.prevProjectionDelta.x)||!jx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bl(),this.projectionDelta=bl(),this.projectionDeltaWithTransform=bl()}setAnimationOrigin(u,h=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},v=bl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=Gt(),x=f?f.source:void 0,R=this.layout?this.layout.source:void 0,L=x!==R,D=this.getStack(),I=!D||D.members.length<=1,M=!!(L&&!I&&this.options.crossfade===!0&&!this.path.some(w7));this.animationProgress=0;let O;this.mixTargetDelta=z=>{const F=z/1e3;Fx(v.x,u.x,F),Fx(v.y,u.y,F),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sc(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),T7(this.relativeTarget,this.relativeTargetOrigin,_,F),O&&s7(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Gt()),Mr(O,this.relativeTarget)),L&&(this.animationValues=g,JU(g,p,this.latestValues,F,M,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var h,f,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Ea(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ot.update(()=>{sd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=jl(0)),this.currentAnimation=YU(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(l7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:g}=u;if(!(!h||!f||!p)){if(this!==u&&this.layout&&p&&JC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Gt();const v=Kn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const _=Kn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+_}Mr(h,f),El(h,g),xc(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new a7),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var h;const{layoutId:u}=this.options;return u?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:u}=this.options;return u?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&ey("z",u,p,this.animationValues);for(let g=0;g<Jg.length;g++)ey(`rotate${Jg[g]}`,u,p,this.animationValues),ey(`skew${Jg[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=id(h==null?void 0:h.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=id(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!ao(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=o7(this.projectionDeltaWithTransform,this.treeScale,g);f&&(v=f(g,v)),u.transform=v;const{x:_,y:x}=this.projectionDelta;u.transformOrigin=`${_.origin*100}% ${x.origin*100}% 0`,p.animationValues?u.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const R in Fc){if(g[R]===void 0)continue;const{correct:L,applyTo:D,isCSSVariable:I}=Fc[R],M=v==="none"?g[R]:L(g[R],p);if(D){const O=D.length;for(let z=0;z<O;z++)u[D[z]]=M}else I?this.options.visualElement.renderState.vars[R]=M:u[R]=M}this.options.layoutId&&(u.pointerEvents=p===this?id(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(Ux),this.root.sharedNodes.clear()}}}function c7(t){t.updateLayout()}function h7(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:l}=t.options,u=e.source!==t.layout.source;l==="size"?Or(v=>{const _=u?e.measuredBox[v]:e.layoutBox[v],x=Kn(_);_.min=r[v].min,_.max=_.min+x}):JC(l,e.layoutBox,r)&&Or(v=>{const _=u?e.measuredBox[v]:e.layoutBox[v],x=Kn(r[v]);_.max=_.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+x)});const h=bl();xc(h,r,e.layoutBox);const f=bl();u?xc(f,t.applyTransform(a,!0),e.measuredBox):xc(f,r,e.layoutBox);const p=!XC(h);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:x}=v;if(_&&x){const R=Gt();Sc(R,e.layoutBox,_.layoutBox);const L=Gt();Sc(L,r,x.layoutBox),QC(R,L)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=L,t.relativeTargetOrigin=R,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function f7(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function d7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function m7(t){t.clearSnapshot()}function Ux(t){t.clearMeasurements()}function Bx(t){t.isLayoutDirty=!1}function p7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function g7(t){t.resolveTargetDelta()}function y7(t){t.calcProjection()}function v7(t){t.resetSkewAndRotation()}function _7(t){t.removeLeadSnapshot()}function Fx(t,e,n){t.translate=Lt(e.translate,0,n),t.scale=Lt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Hx(t,e,n,r){t.min=Lt(e.min,n.min,r),t.max=Lt(e.max,n.max,r)}function T7(t,e,n,r){Hx(t.x,e.x,n.x,r),Hx(t.y,e.y,n.y,r)}function w7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const E7={duration:.45,ease:[.4,0,.1,1]},qx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Gx=qx("applewebkit/")&&!qx("chrome/")?Math.round:zr;function $x(t){t.min=Gx(t.min),t.max=Gx(t.max)}function b7(t){$x(t.x),$x(t.y)}function JC(t,e,n){return t==="position"||t==="preserve-aspect"&&!IU(kx(e),kx(n),.2)}function x7(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const S7=ZC({attachResizeListener:(t,e)=>Hc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ty={current:void 0},e4=ZC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ty.current){const t=new S7({});t.mount(window),t.setOptions({layoutScroll:!0}),ty.current=t}return ty.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),A7={pan:{Feature:qU},drag:{Feature:HU,ProjectionNode:e4,MeasureLayout:$C}};function Kx(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&Ot.postRender(()=>l(e,fh(e)))}class R7 extends Ca{mount(){const{current:e}=this.node;e&&(this.unmount=K8(e,(n,r)=>(Kx(this.node,r,"Start"),a=>Kx(this.node,a,"End"))))}unmount(){}}class C7 extends Ca{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=uh(Hc(this.node.current,"focus",()=>this.onFocus()),Hc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Yx(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&Ot.postRender(()=>l(e,fh(e)))}class I7 extends Ca{mount(){const{current:e}=this.node;e&&(this.unmount=W8(e,(n,r)=>(Yx(this.node,r,"Start"),(a,{success:l})=>Yx(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const av=new WeakMap,ny=new WeakMap,D7=t=>{const e=av.get(t.target);e&&e(t)},P7=t=>{t.forEach(D7)};function N7({root:t,...e}){const n=t||document;ny.has(n)||ny.set(n,{});const r=ny.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(P7,{root:t,...e})),r[a]}function M7(t,e,n){const r=N7(e);return av.set(t,n),r.observe(t),()=>{av.delete(t),r.unobserve(t)}}const O7={some:0,all:1};class V7 extends Ca{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:O7[a]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=p?g:v;_&&_(f)};return M7(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(L7(e,n))&&this.startObserver()}unmount(){}}function L7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const k7={inView:{Feature:V7},tap:{Feature:I7},focus:{Feature:C7},hover:{Feature:R7}},j7={layout:{ProjectionNode:e4,MeasureLayout:$C}},U7={...bU,...k7,...A7,...j7},Xx=Uj(U7,Zj),B7=()=>{const{isRunning:t,startTimer:e,pauseTimer:n,resetTimer:r,skipPhase:a,formattedTime:l,mode:u}=ik(),[h,f]=N.useState(!1),[p,g]=N.useState(!1),[v,_]=N.useState(u);N.useEffect(()=>{if(u!==v){g(!0),_(u);const D=setTimeout(()=>{g(!1)},5e3);return()=>clearTimeout(D)}},[u,v]);const x=()=>{r(),f(!1)},R=()=>{a(),f(!1)},L=()=>{p&&g(!1),f(!h)};return w.jsx("div",{className:"fixed bottom-40 right-4 md:bottom-20 md:right-6 z-50",children:w.jsxs("div",{className:"relative",children:[w.jsx(Xx.button,{onClick:L,animate:p?{scale:[1,1.2,.9,1.15,1],rotate:[0,-10,10,-10,0],transition:{duration:.5,repeat:1/0,ease:"easeInOut"}}:{scale:1,rotate:0,transition:{duration:.3}},className:"bg-red-500 hover:bg-red-600 text-white rounded-full p-3 shadow-lg flex items-center justify-center",children:w.jsx(MP,{className:"text-base"})}),w.jsx(oj,{children:h&&w.jsxs(Xx.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute bottom-14 right-0 bg-white dark:bg-gray-800 text-gray-900 dark:text-white rounded-2xl shadow-xl p-4 w-56 sm:w-60",children:[w.jsxs("div",{className:"text-center mb-3",children:[w.jsx("p",{className:"font-bold text-base sm:text-lg",children:u==="focus"?"Focus Time":u==="longBreak"?"Long Break":"Break Time"}),w.jsx("p",{className:"text-xl sm:text-2xl font-mono",children:l})]}),w.jsxs("div",{className:"flex flex-wrap justify-center gap-3 mt-2",children:[t?w.jsx("button",{onClick:n,className:"p-2 rounded-full bg-yellow-400 hover:bg-yellow-500 text-white w-10 h-10 flex items-center justify-center",children:w.jsx(MS,{className:"text-sm"})}):w.jsx("button",{onClick:e,className:"p-2 rounded-full bg-green-500 hover:bg-green-600 text-white w-10 h-10 flex items-center justify-center",children:w.jsx(OS,{className:"text-sm"})}),w.jsx("button",{onClick:x,className:"p-2 rounded-full bg-blue-500 hover:bg-blue-600 text-white w-10 h-10 flex items-center justify-center",children:w.jsx(jP,{className:"text-sm"})}),w.jsx("button",{onClick:R,className:"p-2 rounded-full bg-purple-500 hover:bg-purple-600 text-white w-10 h-10 flex items-center justify-center",children:w.jsx(LP,{className:"text-sm"})})]})]})})]})})};function z7(t){return ht({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Circle_Plus"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M15,12.5H12.5V15a.5.5,0,0,1-1,0V12.5H9a.5.5,0,0,1,0-1h2.5V9a.5.5,0,0,1,1,0v2.5H15A.5.5,0,0,1,15,12.5Z"},child:[]},{tag:"path",attr:{d:"M12,21.932A9.934,9.934,0,1,1,21.932,12,9.944,9.944,0,0,1,12,21.932ZM12,3.065A8.934,8.934,0,1,0,20.932,12,8.944,8.944,0,0,0,12,3.065Z"},child:[]}]}]}]})(t)}const F7="https://reviewer-backend-deploy.onrender.com",H7=()=>{const[t]=j3(),e=t.get("folder"),n=t.get("type"),[r,a]=N.useState(""),[l,u]=N.useState(""),[h,f]=N.useState(""),[p,g]=N.useState(null),[v,_]=N.useState(null),[x,R]=N.useState(!1),[L,D]=N.useState(!1),[I,M]=N.useState(!1),{currentUser:O}=mm(),z=_s(),F=async()=>{if(!p||!O){alert("An error occurred. There was a problem processing the file.");return}R(!0);try{const b=await O.getIdToken(),C=new FormData;C.append("file",p),C.append("uid",O.uid),C.append("folderId",e);const B={acronym:"acronyms",terms:"terms",summarization:"summarize",ai:"explain"}[n];if(!B){alert("Invalid reviewer type.");return}const G=await fetch(`${F7}/feature/${B}`,{method:"POST",headers:{Authorization:`Bearer ${b}`},body:C});if(!G.ok)throw new Error(await G.text());const V=await G.json();console.log("Reviewer created:",V),console.log("🔍 Debug — folderId:",e,"type:",n,"searchParams:",[...t.entries()]),D(!0),setTimeout(async()=>{var oe,K;const ae=(K=(oe=V==null?void 0:V.reviewers)==null?void 0:oe[0])==null?void 0:K.id;if(!ae){alert("Reviewer created, but no ID was returned."),R(!1);return}if(!e||e==="null"){alert("Folder ID is missing — cannot navigate to reviewer display."),R(!1);return}await new Promise(te=>setTimeout(te,1500)),n==="terms"?z(`/Main/review/terms/${e}/${ae}`):n==="acronym"?z(`/Main/review/acronym/${e}/${ae}`):n==="summarization"?z(`/Main/review/summarized/${e}/${ae}`):n==="ai"&&z(`/Main/review/ai/${e}/${ae}`),await new Promise(te=>setTimeout(te,7e3)),M(!0),await new Promise(te=>setTimeout(te,500)),R(!1),D(!1),M(!1)},1500)}catch(b){console.error("Error creating reviewer:",b),alert("Failed to create reviewer."),D(!0),setTimeout(()=>{R(!1),D(!1)},1500)}};N.useEffect(()=>{switch(n){case"acronym":a("Acronym Mnemonics"),f("Acronym mnemonics is a powerful tool that enhances memory and recall by associating information with memorable phrases or words.");break;case"terms":a("Terms and Definitions"),f("Revio will help you memorize terms and definitions using the Leitner spaced repetition technique.");break;case"summarization":a("Reviewer Generator"),u("Standard Summarization"),f("Revio will summarize your files for you and provide a Pomodoro timer.");break;case"ai":a("Reviewer Generator"),u("Summarization + AI Explanation"),f("Revio will summarize and explain content with AI for deeper understanding.");break;default:a(""),u(""),f("")}},[n]);const j=b=>{const C=b.target.files[0];C&&(g(C),_(URL.createObjectURL(C)))},A=()=>{g(null),_(null),document.getElementById("fileUpload").value=""};return x?w.jsxs("div",{className:`min-h-screen flex flex-col justify-center items-center text-center p-4 transition-opacity duration-700 ${I?"opacity-0":"opacity-100"}`,children:[w.jsx("img",{src:wR,alt:"creationLoadingScreen",className:"w-56 sm:w-72 md:w-80 mb-6"}),w.jsx("p",{className:"text-[#9898D9] font-poppinsbold text-sm sm:text-base md:text-lg mb-4",children:L?"Reviewer Created — Preparing Display...":"Revio is generating your reviewer, please wait..."}),w.jsx(y0,{isDone:L})]}):w.jsxs("div",{className:"flex flex-col text-white w-full items-center px-4 sm:px-8 md:px-[5%] py-10",children:[w.jsx("div",{className:"w-full sm:w-[90%] md:w-[80%] text-center md:text-left mb-10",children:r?w.jsxs(w.Fragment,{children:[w.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:r}),l&&w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-violet-300 mb-2",children:l}),w.jsx("p",{className:"text-sm sm:text-base text-gray-300 leading-relaxed",children:h})]}):w.jsx("p",{className:"text-red-500",children:"No reviewer type selected."})}),w.jsxs("div",{className:"bg-[#2E2E40] flex flex-col items-center text-center p-6 sm:p-10 rounded-xl gap-4 w-full sm:w-[80%] md:w-[60%]",children:[w.jsx("input",{id:"fileUpload",type:"file",className:"hidden",accept:".docx,.pdf,.ppt,.pptx",onChange:j}),w.jsxs("label",{htmlFor:"fileUpload",className:`inline-flex w-[12rem] sm:w-[14rem] md:w-[15rem] h-[4rem] sm:h-[5rem] items-center justify-center gap-2 px-6 py-3 ${p?"bg-gray-500 cursor-not-allowed opacity-60":"bg-[#B5B5FF] hover:bg-violet-700 cursor-pointer"} text-[#200448] rounded-xl font-poppinsbold shadow-md transition-all duration-200 active:scale-95`,children:[w.jsx(z7,{size:30,className:"sm:size-[35px]"}),w.jsx("span",{className:"text-sm sm:text-base",children:p?"File Uploaded":"Upload File"})]}),w.jsx("p",{className:"text-[#ffffff46] text-xs sm:text-sm text-center",children:"Please upload a file with .docx, .pdf, or .ppt"}),p&&w.jsxs("div",{className:"text-center mt-4 space-y-3 w-full",children:[w.jsx("p",{className:"text-white text-sm sm:text-base font-medium break-words",children:p.name}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[w.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 text-sm sm:text-base bg-violet-500 hover:bg-violet-600 rounded-md text-white font-semibold transition-all",children:"View File"}),w.jsxs("button",{onClick:A,className:"px-4 py-2 text-sm sm:text-base bg-red-500 hover:bg-red-600 rounded-md text-white font-semibold flex items-center gap-1 transition-all justify-center",children:[w.jsx(R9,{size:18})," Remove File"]})]}),w.jsx("button",{className:"mt-4 px-6 py-2 text-sm sm:text-base bg-green-500 hover:bg-green-600 text-white rounded-md font-semibold transition-all",onClick:F,children:"Create Reviewer"})]})]})]})},q7=()=>w.jsx("div",{children:w.jsx(Hd,{})});function G7(t){return ht({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M200,88V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V88A16,16,0,0,1,40,72H184A16,16,0,0,1,200,88Zm16-48H64a8,8,0,0,0,0,16H216V176a8,8,0,0,0,16,0V56A16,16,0,0,0,216,40Z"},child:[]}]})(t)}function $7(t){return ht({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 10a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM12 2a1 1 0 01.967.744L14.146 7.2 17.5 9.134a1 1 0 010 1.732l-3.354 1.935-1.18 4.455a1 1 0 01-1.933 0L9.854 12.8 6.5 10.866a1 1 0 010-1.732l3.354-1.935 1.18-4.455A1 1 0 0112 2z",clipRule:"evenodd"},child:[]}]})(t)}const K7=()=>w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex flex-col gap-5 p-6 sm:p-10 md:p-20 text-center",children:[w.jsx("h1",{className:"text-white text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-poppinsbold",children:"STUDY TOOLS"}),w.jsx("hr",{className:"border-gray-600 w-full md:w-3/4 mx-auto"})]}),w.jsxs("div",{className:"px-6 sm:px-10 md:px-20 grid grid-cols-1 sm:grid-cols-2 gap-10 pb-10",children:[w.jsx("div",{className:"sm:col-span-2 text-center",children:w.jsx("h2",{className:"text-white text-2xl sm:text-3xl font-poppinsbold",children:"Flashcards Maker"})}),w.jsx(kr,{to:"/Main/Create/Submit?type=acronym&folder=AcronymMnemonics",children:w.jsxs("div",{className:"p-8 sm:p-10 border border-[#565656] bg-[#2E2E40] text-white font-poppins rounded-xl text-center hover:border-[#B5B5FF] transition-all hover:scale-105",children:[w.jsx(Y9,{size:70,className:"mx-auto mb-4 text-white"}),w.jsx("h3",{className:"font-bold text-lg",children:"Acronym Mnemonics"}),w.jsx("p",{className:"text-sm text-gray-300",children:"Using mnemonics helps you memorize faster"})]})}),w.jsx(kr,{to:"/Main/Create/Submit?type=terms&folder=TermsAndCondition",children:w.jsxs("div",{className:"p-8 sm:p-10 border border-[#565656] bg-[#2E2E40] text-white font-poppins rounded-xl text-center hover:border-[#B5B5FF] transition-all hover:scale-105",children:[w.jsx(G7,{size:70,className:"mx-auto mb-4 text-white"}),w.jsx("h3",{className:"font-bold text-lg",children:"Terms and Definition"}),w.jsx("p",{className:"text-sm text-gray-300",children:"Utilize Leitner technique in studying"})]})}),w.jsx("div",{className:"sm:col-span-2 text-center",children:w.jsx("h2",{className:"text-white text-2xl sm:text-3xl font-poppinsbold",children:"Reviewer Generator"})}),w.jsx(kr,{to:"/Main/Create/Submit?type=summarization&folder=SummarizedReviewers",children:w.jsxs("div",{className:"p-8 sm:p-10 border border-[#565656] bg-[#2E2E40] text-white font-poppins rounded-xl text-center hover:border-[#B5B5FF] transition-all hover:scale-105",children:[w.jsx(X9,{size:70,className:"mx-auto mb-4 text-white"}),w.jsx("h3",{className:"font-bold text-lg",children:"Standard Summarization"}),w.jsx("p",{className:"text-sm text-gray-300",children:"Study using a Pomodoro timer"})]})}),w.jsx(kr,{to:"/Main/Create/Submit?type=ai&folder=SummarizedWithAI",children:w.jsxs("div",{className:"p-8 sm:p-10 border border-[#565656] bg-[#2E2E40] text-white font-poppins rounded-xl text-center hover:border-[#B5B5FF] transition-all hover:scale-105",children:[w.jsx($7,{size:70,className:"mx-auto mb-4 text-white"}),w.jsx("h3",{className:"font-bold text-lg",children:"Summarization + AI Explanation"}),w.jsx("p",{className:"text-sm text-gray-300",children:"Study using Pomodoro with AI"})]})})]})]}),Y7="/ParaKayJM/assets/gamifiedLogo-CgpqgX7O.png",X7=()=>{const t=Kc(),e=t.id.startsWith("ac"),n=e?t.content:t.questions,[r,a]=N.useState(0),[l,u]=N.useState(0),[h,f]=N.useState(n.length*5e7),[p,g]=N.useState([]),[v]=N.useState(Date.now()),[_,x]=N.useState(!1),[R,L]=N.useState(!1),[D,I]=N.useState(!0),[M,O]=N.useState(null),[z,F]=N.useState(!1),[j,A]=N.useState(),[b,C]=N.useState([]),[U,B]=N.useState([]),[G,V]=N.useState([]),ae=r<n.length?n[r]:null,oe=ve=>{let Ie=[...ve];for(let Ne=Ie.length-1;Ne>0;Ne--){const Et=Math.floor(Math.random()*(Ne+1));[Ie[Ne],Ie[Et]]=[Ie[Et],Ie[Ne]]}return Ie};N.useEffect(()=>{ae&&ae.definition&&C(oe(ae.definition)),L(!1)},[ae==null?void 0:ae.definition]);const K=ve=>{var Ie;return(Ie=ve.definition.find(Ne=>Ne.type==="correct"))==null?void 0:Ie.text},te=ve=>{ve==="correct"?ue():Te()};N.useEffect(()=>{ae!=null&&ae.content&&B(Array(ae.contents.length).fill("")),e&&V(ae.contents.map(ve=>ve.word))},[ae]);const pe=(ve,Ie)=>{const Ne=[...U];Ne[ve]=Ie,B(Ne)},we=(ve,Ie)=>{let Ne=!0;for(let Et=0;Et<Ie.length;Et++)if(ve[Et].toUpperCase()!==Ie[Et].toUpperCase()){Ne=!1;break}return B(Array(Ie.length).fill("")),Ne?"correct":""};N.useEffect(()=>{if(M===0)O(null);else if(M>0){const ve=setTimeout(()=>O(Ie=>Ie-1),1e3);return()=>clearTimeout(ve)}},[M]),N.useEffect(()=>{if(_||M!==null||D)return;const ve=setInterval(()=>{f(Ie=>Ie<=1?(ie(),0):Ie-1)},1e3);return()=>clearInterval(ve)},[r,_,M,D]);const H=()=>{I(!1),O(3)},ie=()=>{r>=n.length-1?x(!0):a(ve=>Math.min(ve+1,n.length-1))},ge=ve=>{z||_||(F(!0),setTimeout(()=>{F(!1),ve?u(Ie=>Ie+1):ae&&g(Ie=>[...Ie,ae]),ie()},500))},ue=()=>{z||_||!ae||(A(!0),ge(!0))},Te=()=>{z||_||!ae||(A(!1),ge(!1))},Ue=()=>{const ve=Math.ceil((Date.now()-v)/1e3);return w.jsxs("div",{className:"text-center text-white w-full max-w-2xl px-4",children:[w.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Results"}),w.jsxs("p",{className:"text-base sm:text-lg mb-2",children:["Score: ",l," / ",n.length]}),w.jsxs("p",{className:"text-base sm:text-lg mb-6",children:["Time spent: ",ve,"s"]}),p.length>0?w.jsxs("div",{className:"text-left bg-[#1f1f1f] p-4 rounded-lg space-y-3 overflow-y-auto max-h-[60vh]",children:[w.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"Wrong Answers:"}),p.map((Ie,Ne)=>w.jsx("div",{className:"p-3 border rounded-md text-sm sm:text-base",children:e?w.jsxs(w.Fragment,{children:[w.jsxs("p",{children:[w.jsx("b",{children:"Letters:"})," ",Ie.contents.map(Et=>Et.word.charAt(0)).join("")]}),w.jsxs("p",{children:[w.jsx("b",{children:"Words:"})," ",Ie.contents.map(Et=>Et.word).join(", ")]}),w.jsxs("p",{children:[w.jsx("b",{children:"Key Phrase:"})," ",Ie.keyPhrase]})]}):w.jsxs(w.Fragment,{children:[w.jsxs("p",{children:[w.jsx("b",{children:"Q:"})," ",Ie.term]}),w.jsxs("p",{children:[w.jsx("b",{children:"A:"})," ",K(Ie)]})]})},Ne))]}):w.jsx("p",{className:"text-lg",children:"No mistakes! 🎉"})]})};return D?w.jsxs("div",{className:"min-h-screen bg-[#121212] flex flex-col items-center justify-center text-white px-6 text-center",children:[w.jsx("img",{src:Y7,alt:"Logo",className:"w-65 sm:w-80 mb-6 animate-float-breathe"}),w.jsxs("p",{className:"max-w-md sm:max-w-lg text-[#9898D9] font-poppins text-sm sm:text-base mb-6",children:[w.jsx("b",{className:"font-poppinsbold",children:"Direction:"}),w.jsx("br",{}),e?"Fill in the blanks using the first letters shown. Type the complete word and press 'Submit'.":"Choose the correct definition!"]}),w.jsx("button",{onClick:H,className:"px-6 py-3 bg-[#6A558D] hover:bg-[#8267B1] text-white text-lg sm:text-xl rounded-full font-bold transition w-[80%] sm:w-auto",children:"Start Intense Mode"})]}):w.jsxs("div",{className:"min-h-screen bg-[#121212] text-white w-full p-4 sm:p-6 flex flex-col items-center relative overflow-x-hidden",children:[M!==null&&w.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center text-6xl sm:text-8xl font-bold text-white",children:M}),_?w.jsx("div",{className:"flex items-center justify-center w-full h-full",children:Ue()}):w.jsxs("div",{className:`w-full max-w-4xl transition-opacity ${M!==null?"opacity-30":"opacity-100"}`,children:[w.jsxs("div",{className:"flex justify-between items-center mb-4 text-sm sm:text-base",children:[w.jsx("h1",{className:"font-bold",children:"Gamified Mode"}),w.jsxs("span",{children:["Score: ",l]})]}),w.jsxs("div",{className:"mb-4 text-right text-xs sm:text-sm text-gray-300",children:["Time left: ",h,"s"]}),ae&&w.jsx("div",{className:`relative w-full mb-6 flex justify-center ${e?"h-[50vh] sm:h-[55vh] md:h-[60vh]":"h-64 sm:h-72"}`,children:w.jsx("div",{className:`transition-transform duration-500 w-full h-full flex justify-center items-center ${z?j?"pop-up":"shake":""}`,children:w.jsx("div",{className:`${e?"mnemonics":"flashcard-front"} w-[90%] sm:w-[80%] lg:w-[60%] p-4 sm:p-6 rounded-2xl bg-[#20202C] flex flex-col justify-center`,children:e?w.jsx("div",{className:"text-base sm:text-lg font-bold tracking-widest space-y-3 overflow-y-auto max-h-[45vh] sm:max-h-[50vh] w-full px-2",children:ae.contents.map((ve,Ie)=>w.jsxs("div",{className:"flex gap-4 items-center",children:[w.jsx("p",{className:"text-md sm:text-lg text-[#E4FF35]",children:ve.word.charAt(0)}),w.jsx("textarea",{className:"resize-none p-2 border-b-2 border-b-white bg-transparent text-white w-full focus:outline-none",placeholder:"answer here",value:U[Ie]||"",onChange:Ne=>pe(Ie,Ne.target.value),rows:1})]},Ie))}):w.jsx("p",{className:"text-2xl sm:text-3xl font-semibold text-center text-white",children:ae.term})})})}),e?w.jsxs(w.Fragment,{children:[w.jsxs("p",{className:"text-center text-sm sm:text-base mb-4",children:[w.jsx("b",{children:"Key Phrase:"})," ",ae.keyPhrase]}),w.jsx("div",{className:"flex justify-center",children:w.jsx("button",{onClick:()=>te(we(U,G)),className:"bg-[#9898D9] text-[#200448] px-6 py-3 rounded-3xl font-bold hover:text-[#9898D9] hover:bg-[#200448] active:scale-90 w-[80%] sm:w-auto",children:"Submit Answer"})})]}):w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full max-w-4xl mx-auto",children:b.map((ve,Ie)=>w.jsx("div",{className:`min-h-[5rem] sm:min-h-[7rem] border border-[#2e2e42] p-4 sm:p-5 bg-[#20202C] rounded-2xl flex items-center justify-center text-center cursor-pointer text-sm sm:text-base 
                    ${R?ve.type==="correct"?"choiceCorrect":"choiceWrong":""}`,onClick:()=>{te(ve.type),L(!0)},children:ve.text},Ie))})]})]})},Q7=async({params:t})=>{const{id:e,reviewerId:n}=t,r=()=>new Promise((a,l)=>{const u=ni(fn,h=>{u(),h&&h.emailVerified?a(h):l("Unauthorized")})});try{const a=await r();if(e==="TermsAndCondition"){const l=tn(Kt,"users",a.uid,"folders",e,"reviewers",n),u=await Vi(l);if(!u.exists())throw new Response("Reviewer not found",{status:404});const h=u.data(),f=Ur(Kt,"users",a.uid,"folders",e,"reviewers",n,"questions"),g=(await Br(f)).docs.map(v=>({id:v.id,...v.data()}));return{id:n,title:h.title,questions:g}}if(e==="AcronymMnemonics"){const l=tn(Kt,"users",a.uid,"folders",e,"reviewers",n),u=await Vi(l);if(!u.exists())throw new Response("Reviewer not found",{status:404});const h=u.data(),f=Ur(Kt,"users",a.uid,"folders",e,"reviewers",n,"content"),p=await Br(f),g=await Promise.all(p.docs.map(async v=>{const _=v.data(),x=Ur(Kt,"users",a.uid,"folders",e,"reviewers",n,"content",v.id,"contents"),L=(await Br(x)).docs.map(D=>D.data());return{id:v.id,title:_.title,keyPhrase:_.keyPhrase,contents:L}}));return{id:n,title:h.title,content:g}}throw new Response("Invalid folder",{status:400})}catch(a){throw console.error("Loader error:",a),new Response("Failed to load reviewer",{status:500})}},W7=()=>{const t=async e=>{e.preventDefault();const n=e.target.email.value;try{await A6(fn,n),Ke.success("If the email is registered, you'll receive a reset link.")}catch(r){console.error(r),r.code==="auth/user-not-found"?Ke.error("Unregistered email"):r.code?Ke.error(r.code):Ke.error("An error occurred")}};return w.jsxs("div",{className:"min-h-screen flex justify-center items-center bg-[#12121A] font-poppins p-6 sm:p-10",children:[w.jsxs("div",{className:"bg-[#1C1C26] w-full max-w-md sm:max-w-lg md:max-w-xl p-8 sm:p-10 border border-[#5C5B5B] rounded-2xl flex flex-col items-center text-center shadow-xl",children:[w.jsx("img",{src:m0,alt:"Revio Logo",className:"w-32 sm:w-44 md:w-56 mb-4"}),w.jsx("h1",{className:"text-white text-2xl sm:text-3xl font-poppinsbold mb-2",children:"Reset Password"}),w.jsx("p",{className:"text-[#ffffff80] text-xs sm:text-sm mb-8 max-w-sm leading-relaxed",children:"Note: Use the email you registered with. Revio will send a password reset link — check your inbox."}),w.jsxs("form",{className:"flex flex-col gap-6 w-full",onSubmit:t,children:[w.jsxs("div",{className:"flex flex-col gap-2 text-left",children:[w.jsx("label",{htmlFor:"email",className:"text-white text-sm sm:text-base font-medium",children:"Email"}),w.jsx("input",{type:"email",name:"email",id:"email",placeholder:"Enter your Email",className:"rounded-lg border border-[#9E9E9E] p-2 text-white placeholder:text-[#9E9E9E] bg-transparent w-full focus:outline-none focus:border-[#B5B5FF] transition",required:!0})]}),w.jsx("button",{type:"submit",className:"bg-[#B5B5FF] text-[#200448] font-poppins font-semibold py-2 rounded-full self-center w-full sm:w-3/4 active:scale-95 hover:text-[#B5B5FF] hover:bg-[#200448] transition-all",children:"Send Email"})]}),w.jsx(kr,{to:"/",className:"mt-6",children:w.jsx("p",{className:"text-[#B5B5FF] text-sm font-semibold hover:text-[#200448] transition",children:"Back to Login"})})]}),w.jsx(vv,{position:"bottom-center",autoClose:3e3,theme:"dark"})]})},Z7="/ParaKayJM/assets/editingLoadingScreen3-CmLRMGQy.png",J7="https://reviewer-backend-deploy.onrender.com",eB=()=>{const t=Kc(),e=_s(),[n,r]=N.useState(!1),[a,l]=N.useState(!1),[u,h]=N.useState(!1),[f,p]=N.useState(()=>(t==null?void 0:t.questions)||[]),[g,v]=N.useState(()=>(t==null?void 0:t.content)||[]),[_,x]=N.useState([]),[R,L]=N.useState([]);if(N.useEffect(()=>{if(t){if(t.questions&&Array.isArray(t.questions)){const V=[...t.questions].sort((ae,oe)=>{const K=M(ae.id),te=M(oe.id);return K-te});p(V)}else p(t.questions||[]);if(t.content&&Array.isArray(t.content)){const V=t.content.map(ae=>{if(Array.isArray(ae.contents)){const oe=[...ae.contents].sort((K,te)=>{const pe=Number(K.id)||0,we=Number(te.id)||0;return pe-we});return{...ae,contents:oe}}return ae});v(V)}else v(t.content||[])}},[t]),!t)return w.jsx("div",{className:"w-full h-screen flex items-center justify-center bg-[#2A2A3B] text-white",children:w.jsx("h1",{className:"text-2xl font-poppinsbold",children:"Reviewer not found"})});const D=t.type==="acronym",I=t.type==="terms",M=V=>{if(!V&&V!==0)return 0;const ae=String(V).match(/\d+/g);return ae&&Number(ae.join(""))||0},O=V=>!V||V.length===0?"q1":`q${Math.max(...V.map(oe=>M(oe.id)))+1}`,z=V=>{if(!V||V.length===0)return"1";const ae=Math.max(...V.map(oe=>Number(oe.id)||0));return String(ae+1)},F=(V,ae,oe)=>{p(K=>K.map(te=>te.id===V?{...te,[ae]:oe}:te))},j=(V,ae,oe,K)=>{v(te=>te.map(pe=>pe.id!==V?pe:ae===null?{...pe,[oe]:K}:{...pe,contents:pe.contents.map((we,H)=>H===ae?{...we,[oe]:K}:we)}))},A=V=>{v(ae=>ae.map(oe=>{if(oe.id!==V)return oe;const K=z(oe.contents);return{...oe,contents:[...oe.contents,{id:K,letter:"",word:""}]}}))},b=(V,ae)=>{x(oe=>[...oe,{contentId:V,letterId:ae}]),v(oe=>oe.map(K=>K.id===V?{...K,contents:K.contents.filter(te=>te.id!==ae)}:K))},C=(V,ae)=>{window.confirm(`Are you sure you want to delete this ${ae==="terms"?"term":"acronym"}?`)&&(L(oe=>[...oe,{id:V,type:ae}]),ae==="terms"?p(oe=>oe.filter(K=>K.id!==V)):v(oe=>oe.filter(K=>K.id!==V)))},U=async()=>{try{const V=fn.currentUser;if(!V){alert("Not logged in");return}if(D)for(const oe of g)for(const K of oe.contents){if(!oe.title||!oe.title.trim()){alert("Each acronym flashcard must have a TITLE before saving.");return}if(!K.letter.trim()||!K.word.trim()){alert("Each acronym entry must have both a LETTER and a WORD before saving.");return}}if(I){for(const oe of f)if(!oe.question.trim()||!oe.answer.trim()){alert("Each flashcard must have both a TERM and a DEFINITION before saving.");return}}r(!0);const ae=tn(Kt,"users",V.uid,"folders",t.folderId,"reviewers",t.id);for(const oe of R){const K=oe.type==="terms"?"questions":"content",te=tn(ae,K,oe.id);await Uy(te)}L([]);for(const oe of _){const K=tn(ae,"content",oe.contentId),te=tn(K,"contents",oe.letterId);await Uy(te)}if(x([]),I){const oe=await V.getIdToken(),K=f.map(ie=>tn(ae,"questions",ie.id)),te=await Promise.all(K.map(ie=>Vi(ie))),pe={},we=[];for(let ie=0;ie<f.length;ie++){const ge=f[ie],ue=te[ie],Te=ue.exists()?ue.data():null;pe[ge.id]=Te;const Ue=(Te==null?void 0:Te.definition)||[];Array.isArray(Ue)&&Ue.some(Ie=>Ie.type==="wrong")||we.push({id:ge.id,term:ge.question,correctDefinition:ge.answer})}let H={};if(we.length>0)try{const ie=await fetch(`${J7}/api/distractors`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${oe}`},body:JSON.stringify({items:we,count:3})});if(ie.ok){const ge=await ie.json();H=(ge==null?void 0:ge.distractors)||{}}else console.error("Distractor API error:",ie.status,await ie.text())}catch(ie){console.error("Failed to call distractor API:",ie)}for(const ie of f){const ge=pe[ie.id];let ue=Array.isArray(ge==null?void 0:ge.definition)?ge.definition.slice():[];const Te=ie.answer.trim();ue.some(Ne=>Ne.type==="correct")?ue=ue.map(Ne=>Ne.type==="correct"?{...Ne,text:Te}:Ne):ue.push({text:Te,type:"correct"});const ve=Array.isArray(H[ie.id])?H[ie.id]:[];for(const Ne of ve){if(!Ne||!Ne.trim())continue;const Et=Ne.trim();!ue.some(dn=>dn.text.trim()===Et)&&Et!==Te&&ue.push({text:Et,type:"wrong"})}const Ie=tn(ae,"questions",ie.id);await td(Ie,{term:ie.question,definition:ue},{merge:!0})}}if(D)for(const oe of g){const K=tn(ae,"content",oe.id);await td(K,{title:oe.title,keyPhrase:oe.keyPhrase},{merge:!0});for(const te of oe.contents){const pe=tn(K,"contents",String(te.id));await td(pe,{letter:te.letter,word:te.word},{merge:!0})}}l(!0),r(!1),alert("Changes saved successfully!")}catch(V){console.error("Error saving:",V),alert("Failed to save changes. Check console for details.")}},B=()=>{p(V=>{const ae=O(V);return[...V,{id:ae,question:"",answer:""}]})};if(n)return w.jsxs("div",{className:`min-h-screen flex flex-col justify-center items-center text-center p-4 transition-opacity duration-700 ${u?"opacity-0":"opacity-100"}`,children:[w.jsx("img",{src:Z7,alt:"creationLoadingScreen",className:"w-70 sm:w-72 md:w-110 mb-6"}),w.jsx("p",{className:"text-[#9898D9] font-poppinsbold text-sm sm:text-base md:text-lg mb-4",children:a?"Editing Complete!":"Revio is editing your reviewer, please wait..."}),w.jsx(y0,{isDone:a})]});const G=()=>{v(V=>{const ae=(()=>{if(!V||V.length===0)return"q1";const oe=Math.max(...V.map(te=>M(te.id)));return V.some(te=>/^q\d+$/i.test(String(te.id)))?`q${oe+1}`:String(oe+1)})();return[...V,{id:ae,title:"",keyPhrase:"",contents:[{id:"1",letter:"",word:""}]}]})};return w.jsxs("div",{children:[w.jsxs("div",{className:"w-full p-10 flex justify-between items-center relative",children:[w.jsxs("button",{onClick:()=>e(-1),className:"absolute left-5 flex items-center gap-2 text-white bg-[#3F3F54] hover:bg-[#51516B] p-3 rounded-xl",children:[w.jsx(g0,{size:20}),"Back"]}),w.jsxs("div",{className:"w-full flex gap-[1.5rem] justify-center",children:[w.jsx("h1",{className:"text-white font-poppinsbold text-3xl",children:t.title}),w.jsx(Q9,{color:"white",size:28})]}),w.jsxs("button",{onClick:U,className:"font-poppinsbold text-[#200448] bg-[#B5B5FF] text-lg flex gap-1 p-5 rounded-2xl place-self-end",children:[w.jsx(UP,{size:25}),"Save"]})]}),w.jsxs("div",{className:"flex flex-col gap-10 p-10 w-full place-items-center",children:[I&&w.jsxs(w.Fragment,{children:[f.length===0&&w.jsx("p",{className:"text-gray-400",children:"No questions yet."}),w.jsx("div",{className:"w-full max-w-4xl overflow-auto max-h-[60vh] space-y-6",children:f.map((V,ae)=>w.jsxs("div",{className:"flex items-stretch bg-[#3F3F54] w-full pl-10 pr-0 gap-10 text-white rounded-xl",children:[w.jsxs("div",{className:"flex flex-col w-full gap-10 my-10",children:[w.jsxs("section",{className:"w-full",children:[w.jsx("h4",{children:"Terms"}),w.jsx("textarea",{className:"bg-[#51516B] w-full resize-none p-2 rounded-md",value:V.question||"",onChange:oe=>F(V.id,"question",oe.target.value)})]}),w.jsxs("section",{className:"w-full",children:[w.jsx("h4",{children:"Definition"}),w.jsx("textarea",{className:"bg-[#51516B] w-full min-h-30 resize-none p-2 rounded-md",value:V.answer||"",onChange:oe=>F(V.id,"answer",oe.target.value)})]})]}),w.jsx("button",{className:"flex w-[50px] justify-center items-center bg-[#373749] hover:bg-red-500",onClick:()=>C(V.id,"terms"),children:w.jsx(Fg,{})})]},V.id||ae))}),w.jsx("button",{onClick:B,className:"w-full max-w-xl bg-green-600 hover:bg-green-700 text-white py-3 rounded-xl",children:"Add Flashcard"})]}),D&&w.jsxs(w.Fragment,{children:[g.length===0&&w.jsx("p",{className:"text-gray-400",children:"No acronym content yet."}),w.jsx("div",{className:"w-full max-w-4xl overflow-auto max-h-[70vh] space-y-6",children:g.map(V=>w.jsxs("div",{className:"flex flex-col bg-[#3F3F54] w-full p-10 text-white gap-6 rounded-xl",children:[w.jsx("input",{type:"text",placeholder:"Enter title",className:"bg-[#51516B] w-full p-3 rounded-lg text-white font-poppinsbold text-xl",value:V.title??"",onChange:ae=>j(V.id,null,"title",ae.target.value)}),w.jsx("div",{className:"flex flex-col gap-4",children:V.contents.map((ae,oe)=>w.jsxs("div",{className:"flex items-center gap-4 bg-[#51516B] p-3 rounded-lg",children:[w.jsx("input",{className:"w-12 h-12 text-xl font-bold text-center bg-[#373749] rounded-md",value:ae.letter,onChange:K=>j(V.id,oe,"letter",K.target.value)}),w.jsx("textarea",{className:"flex-1 bg-[#373749] p-2 rounded-md resize-none",value:ae.word,onChange:K=>j(V.id,oe,"word",K.target.value)}),w.jsx("button",{onClick:()=>b(V.id,ae.id),className:"flex w-[40px] h-[40px] justify-center items-center bg-[#373749] hover:bg-red-500 rounded-md",children:w.jsx(Fg,{})})]},ae.id||oe))}),w.jsx("div",{className:"flex justify-center",children:w.jsx("button",{onClick:()=>A(V.id),className:`w-[40px] h-[40px] flex justify-center items-center \r
                                bg-[#373749] hover:bg-green-500 \r
                                rounded-full shadow-md transition-colors`,children:w.jsx(W9,{size:24})})}),w.jsxs("section",{children:[w.jsx("h4",{className:"mb-2",children:"Key Phrase"}),w.jsx("textarea",{className:"bg-[#51516B] w-full p-3 rounded-lg min-h-20 resize-none text-white",value:V.keyPhrase??"",onChange:ae=>v(oe=>oe.map(K=>K.id===V.id?{...K,keyPhrase:ae.target.value}:K))})]}),w.jsx("button",{onClick:()=>C(V.id,"acronym"),className:"flex self-end w-[50px] justify-center items-center bg-red-500 hover:bg-red-700 p-3 rounded-full shadow-lg",children:w.jsx(Fg,{})})]},V.id))}),w.jsx("button",{onClick:G,className:"w-full max-w-xl bg-green-600 hover:bg-green-700 text-white py-3 rounded-xl",children:"Add Flashcard"})]})]})]})},tB=async({params:t})=>{const{id:e,reviewerId:n}=t,r=()=>new Promise((a,l)=>{const u=ni(fn,h=>{u(),h&&h.emailVerified?a(h):l("Unauthorized")})});try{const a=await r(),l=tn(Kt,"users",a.uid,"folders",e,"reviewers",n),u=await Vi(l);if(!u.exists())throw new Response("Reviewer not found",{status:404});const h=u.data();let f="flashcard";if(e==="AcronymMnemonics"?f="acronym":e==="TermsAndCondition"&&(f="terms"),f==="terms"){const p=Ur(l,"questions"),_=(await Br(p)).docs.map(x=>{const R=x.data();let L="";if(Array.isArray(R.definition)){const D=R.definition.find(I=>I&&I.type==="correct")||R.definition[0];L=(D==null?void 0:D.text)??""}else R.definition&&typeof R.definition=="object"?L=R.definition.text??"":typeof R.definition=="string"&&(L=R.definition);return{id:x.id,question:R.term||"",answer:L}}).sort((x,R)=>{var I,M;const L=Number(((I=String(x.id).match(/\d+/))==null?void 0:I[0])||0),D=Number(((M=String(R.id).match(/\d+/))==null?void 0:M[0])||0);return L-D});return{id:n,title:h.title,type:"terms",questions:_,folderId:e}}if(f==="acronym"){const p=Ur(l,"content"),g=await Br(p),v=await Promise.all(g.docs.map(async _=>{const x=_.data(),R=Ur(_.ref,"contents");let D=(await Br(R)).docs.map(I=>({id:I.id,...I.data()}));return D=D.sort((I,M)=>Number(I.id)-Number(M.id)),{id:_.id,title:x.title,keyPhrase:x.keyPhrase,contents:D}}));return{id:n,title:h.title,type:"acronym",content:v,folderId:e}}throw new Response("Unsupported reviewer type",{status:400})}catch(a){throw console.error("Loader error:",a),new Response("Failed to load reviewer",{status:500})}},nB=()=>new Promise((t,e)=>{const n=ni(fn,r=>{n(),r&&r.emailVerified?t(r):e("Unauthorized")})});async function ov({params:t}){const e=await nB(),{reviewerId:n,id:r}=t,a=tn(Kt,"users",e.uid,"folders",r,"reviewers",n),u=(await Vi(a)).data(),h=Ur(Kt,"users",e.uid,"folders",r,"reviewers",n,"questions"),p=(await Br(h)).docs.map(g=>({id:g.id,definition:g.data().definition,term:g.data().term}));return{id:n,title:u.title,questions:p}}const rB=()=>new Promise((t,e)=>{const n=ni(fn,r=>{n(),r&&r.emailVerified?t(r):e("Unauthorized")})});async function lv({params:t}){const e=await rB(),{reviewerId:n,id:r}=t;if(!(e!=null&&e.uid))throw new Error("User UID is undefined — check authentication.");if(!r)throw new Error("folderId is undefined — check your route path (:id param).");if(!n)throw new Error("reviewerId is undefined — check your route path (:reviewerId param).");const a=tn(Kt,"users",e.uid,"folders",r,"reviewers",n),l=await Vi(a);if(!l.exists())throw new Error("Reviewer document not found in Firestore.");const u=l.data(),h=Ur(Kt,"users",e.uid,"folders",r,"reviewers",n,"content"),f=await Br(h),g=(await Promise.all(f.docs.map(async v=>{const _=v.data(),x=Ur(Kt,"users",e.uid,"folders",r,"reviewers",n,"content",v.id,"contents"),L=(await Br(x)).docs.map(D=>({id:Number(D.data().id),...D.data()})).sort((D,I)=>D.id-I.id);return{id:Number(v.id),title:_.title,keyPhrase:_.keyPhrase,contents:L}}))).sort((v,_)=>v.id-_.id);return u.content=g,{id:n,...u}}const iB=()=>new Promise((t,e)=>{const n=ni(fn,r=>{n(),r&&r.emailVerified?t(r):e("Unauthorized")})});async function uv({params:t}){const e=await iB(),{reviewerId:n,id:r}=t,a=tn(Kt,"users",e.uid,"folders",r,"reviewers",n),u=(await Vi(a)).data(),h=u.reviewers&&u.reviewers[0]||{},f=h.sections||[],p=h.title||"Untitled Reviewer";return{id:u.id||n,title:p,sections:f}}const sB=()=>new Promise((t,e)=>{const n=ni(fn,r=>{n(),r&&r.emailVerified?t(r):e("Unauthorized")})});async function cv({params:t}){const e=await sB(),{reviewerId:n}=t,a=tn(Kt,"users",e.uid,"folders","SummarizedAIReviewers","reviewers",n);let l,u=0;const h=8,f=1e3;for(;u<h&&(l=await Vi(a),!l.exists());)console.warn(`Reviewer document not found yet (attempt ${u+1}/${h})`),u++,await new Promise(x=>setTimeout(x,f));const g=l.data().reviewers[0]||{},v=g.sections||[],_=g.title||"Untitled Reviewer";return{id:n,title:_,sections:v}}const aB=()=>new Promise((t,e)=>{const n=ni(fn,r=>{n(),r&&r.emailVerified?t(r):e("Unauthorized")})}),Qx=async({params:t})=>{try{const e=await aB(),{id:n}=t,a={TermsAndCondition:ov,AcronymMnemonics:lv,SummarizedReviewers:uv,SummarizedAIReviewers:cv}[n];if(!a)throw new Response("Unknown folder type",{status:404});return await a({params:t,user:e})}catch(e){throw console.error("reviewerQuestionsLoader error:",e),new Response("Failed to load reviewer",{status:500})}},oB="/ParaKayJM/assets/phoneIcon-DQxtVzay.png",lB=()=>w.jsx("div",{className:"bg-[#12121a] min-h-screen flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-[#20202C] rounded-xl shadow-lg p-6 max-w-sm text-center ",children:[w.jsx("img",{src:oB,alt:""}),w.jsx("h1",{className:"text-white text-2xl font-bold mb-4",children:"Get the Revio App!"}),w.jsx("p",{className:"text-white mb-6",children:"Enjoy a smoother, faster, and more engaging experience. Download our mobile app today!"}),w.jsx("div",{className:"flex flex-col gap-3",children:w.jsx("button",{className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition",children:"Download for Android"})})]})}),uB=()=>{const t=Li(),e=["/","/Register","/ResetPassword"].includes(t.pathname);return w.jsxs(w.Fragment,{children:[w.jsx(Hd,{}),!e&&w.jsx(B7,{})]})},cB=N3(o3(w.jsxs(It,{element:w.jsx(uB,{}),children:[w.jsx(It,{path:"/",element:w.jsx(tk,{})}),w.jsx(It,{path:"/Register",element:w.jsx(nk,{})}),w.jsx(It,{path:"/ResetPassword",element:w.jsx(W7,{})}),w.jsxs(It,{path:"/Main",element:w.jsx(G9,{}),children:[w.jsxs(It,{path:"Library",element:w.jsx($9,{}),children:[w.jsx(It,{index:!0,element:w.jsx(cR,{}),loader:l9}),w.jsx(It,{path:":id",element:w.jsx(J9,{}),loader:ek}),w.jsx(It,{path:":id/:reviewerId",element:w.jsx(xi,{}),loader:Qx}),w.jsx(It,{path:":id/:reviewerId/ac",element:w.jsx(xi,{}),loader:lv}),w.jsx(It,{path:":id/:reviewerId/td",element:w.jsx(xi,{}),loader:ov}),w.jsx(It,{path:":id/:reviewerId/std",element:w.jsx(xi,{}),loader:uv}),w.jsx(It,{path:":id/:reviewerId/ai",element:w.jsx(xi,{}),loader:cv}),w.jsx(It,{path:"/Main/Library/:id/:reviewerId/gamified",element:w.jsx(X7,{}),loader:Q7}),w.jsx(It,{path:"/Main/Library/:id/:reviewerId/edit",element:w.jsx(eB,{}),loader:tB})]}),w.jsx(It,{path:"Focus",element:w.jsx(m9,{})}),w.jsxs(It,{path:"Create",element:w.jsx(q7,{}),children:[w.jsx(It,{index:!0,element:w.jsx(K7,{})}),w.jsx(It,{path:"Submit",element:w.jsx(H7,{})})]}),w.jsx(It,{path:"Download",element:w.jsx(lB,{})}),w.jsx(It,{path:"Settings",element:w.jsx(x9,{})}),w.jsx(It,{path:"review/main/:id/:reviewerId",element:w.jsx(xi,{}),loader:Qx}),w.jsx(It,{path:"review/acronym/:id/:reviewerId",element:w.jsx(xi,{}),loader:lv}),w.jsx(It,{path:"review/terms/:id/:reviewerId",element:w.jsx(xi,{}),loader:ov}),w.jsx(It,{path:"review/summarized/:id/:reviewerId",element:w.jsx(xi,{}),loader:uv}),w.jsx(It,{path:"review/ai/:id/:reviewerId",element:w.jsx(xi,{}),loader:cv})]})]}))),hB=()=>w.jsx(p9,{children:w.jsx(fR,{children:w.jsxs(rk,{children:[w.jsx(G3,{router:cB}),w.jsx(vv,{position:"top-center",autoClose:3e3})]})})});OI.createRoot(document.getElementById("root")).render(w.jsx(N.StrictMode,{children:w.jsx(hB,{})}));
